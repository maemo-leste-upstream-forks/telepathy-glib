<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<title>Connection Presence interface</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.73.2">
<link rel="start" href="index.html" title="telepathy-glib Reference Manual">
<link rel="up" href="ch-client.html" title="Client-side proxies">
<link rel="prev" href="telepathy-glib-connection-caps.html" title="Connection Capabilities interface">
<link rel="next" href="telepathy-glib-channel.html" title="TpChannel">
<meta name="generator" content="GTK-Doc V1.9 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
<link rel="chapter" href="ch-dbus.html" title="General D-Bus support">
<link rel="chapter" href="ch-protocol.html" title="The Telepathy protocol">
<link rel="chapter" href="ch-client.html" title="Client-side proxies">
<link rel="chapter" href="ch-service-dbus.html" title="Service-side D-Bus interfaces">
<link rel="chapter" href="ch-service-base.html" title="Service-side implementation">
<link rel="chapter" href="ch-service-handles.html" title="Service-side handle repositories">
<link rel="chapter" href="ch-utilities.html" title="Utilities">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2">
<tr valign="middle">
<td><a accesskey="p" href="telepathy-glib-connection-caps.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td>
<td><a accesskey="u" href="ch-client.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td>
<th width="100%" align="center">telepathy-glib Reference Manual</th>
<td><a accesskey="n" href="telepathy-glib-channel.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td>
</tr>
<tr><td colspan="5" class="shortcuts"><nobr><a href="#id2586226" class="shortcut">Top</a>
                  &#160;|&#160;
                  <a href="#id2702075" class="shortcut">Description</a></nobr></td></tr>
</table>
<div class="refentry" lang="en">
<a name="telepathy-glib-connection-presence"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2>
<a name="id2586226"></a><span class="refentrytitle">Connection Presence interface</span>
</h2>
<p>Connection Presence interface &#8212; client-side wrappers for the Presence interface</p>
</td>
<td valign="top" align="right"></td>
</tr></table></div>
<div class="refsynopsisdiv">
<h2>Synopsis</h2>
<pre class="synopsis">

#include &lt;telepathy-glib/connection.h&gt;


gboolean            <a class="link" href="telepathy-glib-connection-presence.html#tp-cli-connection-interface-presence-run-add-status">tp_cli_connection_interface_presence_run_add_status</a>
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         gint timeout_ms,
                                                         const gchar *in_status,
                                                         GHashTable *in_parms,
                                                         GError **error,
                                                         GMainLoop **loop);
gboolean            <a class="link" href="telepathy-glib-connection-presence.html#tp-cli-connection-interface-presence-run-clear-status">tp_cli_connection_interface_presence_run_clear_status</a>
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         gint timeout_ms,
                                                         GError **error,
                                                         GMainLoop **loop);
gboolean            <a class="link" href="telepathy-glib-connection-presence.html#tp-cli-connection-interface-presence-run-get-presence">tp_cli_connection_interface_presence_run_get_presence</a>
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         gint timeout_ms,
                                                         const GArray *in_contacts,
                                                         GHashTable **out_presence,
                                                         GError **error,
                                                         GMainLoop **loop);
gboolean            <a class="link" href="telepathy-glib-connection-presence.html#tp-cli-connection-interface-presence-run-get-statuses">tp_cli_connection_interface_presence_run_get_statuses</a>
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         gint timeout_ms,
                                                         GHashTable **out0,
                                                         GError **error,
                                                         GMainLoop **loop);
gboolean            <a class="link" href="telepathy-glib-connection-presence.html#tp-cli-connection-interface-presence-run-remove-status">tp_cli_connection_interface_presence_run_remove_status</a>
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         gint timeout_ms,
                                                         const gchar *in_status,
                                                         GError **error,
                                                         GMainLoop **loop);
gboolean            <a class="link" href="telepathy-glib-connection-presence.html#tp-cli-connection-interface-presence-run-request-presence">tp_cli_connection_interface_presence_run_request_presence</a>
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         gint timeout_ms,
                                                         const GArray *in_contacts,
                                                         GError **error,
                                                         GMainLoop **loop);
gboolean            <a class="link" href="telepathy-glib-connection-presence.html#tp-cli-connection-interface-presence-run-set-last-activity-time">tp_cli_connection_interface_presence_run_set_last_activity_time</a>
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         gint timeout_ms,
                                                         guint in_time,
                                                         GError **error,
                                                         GMainLoop **loop);
gboolean            <a class="link" href="telepathy-glib-connection-presence.html#tp-cli-connection-interface-presence-run-set-status">tp_cli_connection_interface_presence_run_set_status</a>
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         gint timeout_ms,
                                                         GHashTable *in_statuses,
                                                         GError **error,
                                                         GMainLoop **loop);
<a class="link" href="telepathy-glib-proxy.html#TpProxyPendingCall">TpProxyPendingCall</a>* <a class="link" href="telepathy-glib-connection-presence.html#tp-cli-connection-interface-presence-call-add-status">tp_cli_connection_interface_presence_call_add_status</a>
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         gint timeout_ms,
                                                         const gchar *in_status,
                                                         GHashTable *in_parms,
                                                         <a class="link" href="telepathy-glib-connection-presence.html#tp-cli-connection-interface-presence-callback-for-add-status">tp_cli_connection_interface_presence_callback_for_add_status</a> callback,
                                                         gpointer user_data,
                                                         GDestroyNotify destroy,
                                                         GObject *weak_object);
<a class="link" href="telepathy-glib-proxy.html#TpProxyPendingCall">TpProxyPendingCall</a>* <a class="link" href="telepathy-glib-connection-presence.html#tp-cli-connection-interface-presence-call-clear-status">tp_cli_connection_interface_presence_call_clear_status</a>
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         gint timeout_ms,
                                                         <a class="link" href="telepathy-glib-connection-presence.html#tp-cli-connection-interface-presence-callback-for-clear-status">tp_cli_connection_interface_presence_callback_for_clear_status</a> callback,
                                                         gpointer user_data,
                                                         GDestroyNotify destroy,
                                                         GObject *weak_object);
<a class="link" href="telepathy-glib-proxy.html#TpProxyPendingCall">TpProxyPendingCall</a>* <a class="link" href="telepathy-glib-connection-presence.html#tp-cli-connection-interface-presence-call-get-presence">tp_cli_connection_interface_presence_call_get_presence</a>
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         gint timeout_ms,
                                                         const GArray *in_contacts,
                                                         <a class="link" href="telepathy-glib-connection-presence.html#tp-cli-connection-interface-presence-callback-for-get-presence">tp_cli_connection_interface_presence_callback_for_get_presence</a> callback,
                                                         gpointer user_data,
                                                         GDestroyNotify destroy,
                                                         GObject *weak_object);
<a class="link" href="telepathy-glib-proxy.html#TpProxyPendingCall">TpProxyPendingCall</a>* <a class="link" href="telepathy-glib-connection-presence.html#tp-cli-connection-interface-presence-call-get-statuses">tp_cli_connection_interface_presence_call_get_statuses</a>
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         gint timeout_ms,
                                                         <a class="link" href="telepathy-glib-connection-presence.html#tp-cli-connection-interface-presence-callback-for-get-statuses">tp_cli_connection_interface_presence_callback_for_get_statuses</a> callback,
                                                         gpointer user_data,
                                                         GDestroyNotify destroy,
                                                         GObject *weak_object);
<a class="link" href="telepathy-glib-proxy.html#TpProxyPendingCall">TpProxyPendingCall</a>* <a class="link" href="telepathy-glib-connection-presence.html#tp-cli-connection-interface-presence-call-remove-status">tp_cli_connection_interface_presence_call_remove_status</a>
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         gint timeout_ms,
                                                         const gchar *in_status,
                                                         <a class="link" href="telepathy-glib-connection-presence.html#tp-cli-connection-interface-presence-callback-for-remove-status">tp_cli_connection_interface_presence_callback_for_remove_status</a> callback,
                                                         gpointer user_data,
                                                         GDestroyNotify destroy,
                                                         GObject *weak_object);
<a class="link" href="telepathy-glib-proxy.html#TpProxyPendingCall">TpProxyPendingCall</a>* <a class="link" href="telepathy-glib-connection-presence.html#tp-cli-connection-interface-presence-call-request-presence">tp_cli_connection_interface_presence_call_request_presence</a>
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         gint timeout_ms,
                                                         const GArray *in_contacts,
                                                         <a class="link" href="telepathy-glib-connection-presence.html#tp-cli-connection-interface-presence-callback-for-request-presence">tp_cli_connection_interface_presence_callback_for_request_presence</a> callback,
                                                         gpointer user_data,
                                                         GDestroyNotify destroy,
                                                         GObject *weak_object);
<a class="link" href="telepathy-glib-proxy.html#TpProxyPendingCall">TpProxyPendingCall</a>* <a class="link" href="telepathy-glib-connection-presence.html#tp-cli-connection-interface-presence-call-set-last-activity-time">tp_cli_connection_interface_presence_call_set_last_activity_time</a>
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         gint timeout_ms,
                                                         guint in_time,
                                                         <a class="link" href="telepathy-glib-connection-presence.html#tp-cli-connection-interface-presence-callback-for-set-last-activity-time">tp_cli_connection_interface_presence_callback_for_set_last_activity_time</a> callback,
                                                         gpointer user_data,
                                                         GDestroyNotify destroy,
                                                         GObject *weak_object);
<a class="link" href="telepathy-glib-proxy.html#TpProxyPendingCall">TpProxyPendingCall</a>* <a class="link" href="telepathy-glib-connection-presence.html#tp-cli-connection-interface-presence-call-set-status">tp_cli_connection_interface_presence_call_set_status</a>
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         gint timeout_ms,
                                                         GHashTable *in_statuses,
                                                         <a class="link" href="telepathy-glib-connection-presence.html#tp-cli-connection-interface-presence-callback-for-set-status">tp_cli_connection_interface_presence_callback_for_set_status</a> callback,
                                                         gpointer user_data,
                                                         GDestroyNotify destroy,
                                                         GObject *weak_object);
void                (<a class="link" href="telepathy-glib-connection-presence.html#tp-cli-connection-interface-presence-callback-for-add-status">*tp_cli_connection_interface_presence_callback_for_add_status</a>)
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         const GError *error,
                                                         gpointer user_data,
                                                         GObject *weak_object);
void                (<a class="link" href="telepathy-glib-connection-presence.html#tp-cli-connection-interface-presence-callback-for-clear-status">*tp_cli_connection_interface_presence_callback_for_clear_status</a>)
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         const GError *error,
                                                         gpointer user_data,
                                                         GObject *weak_object);
void                (<a class="link" href="telepathy-glib-connection-presence.html#tp-cli-connection-interface-presence-callback-for-get-presence">*tp_cli_connection_interface_presence_callback_for_get_presence</a>)
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         GHashTable *out_presence,
                                                         const GError *error,
                                                         gpointer user_data,
                                                         GObject *weak_object);
void                (<a class="link" href="telepathy-glib-connection-presence.html#tp-cli-connection-interface-presence-callback-for-get-statuses">*tp_cli_connection_interface_presence_callback_for_get_statuses</a>)
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         GHashTable *out0,
                                                         const GError *error,
                                                         gpointer user_data,
                                                         GObject *weak_object);
void                (<a class="link" href="telepathy-glib-connection-presence.html#tp-cli-connection-interface-presence-callback-for-remove-status">*tp_cli_connection_interface_presence_callback_for_remove_status</a>)
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         const GError *error,
                                                         gpointer user_data,
                                                         GObject *weak_object);
void                (<a class="link" href="telepathy-glib-connection-presence.html#tp-cli-connection-interface-presence-callback-for-request-presence">*tp_cli_connection_interface_presence_callback_for_request_presence</a>)
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         const GError *error,
                                                         gpointer user_data,
                                                         GObject *weak_object);
void                (<a class="link" href="telepathy-glib-connection-presence.html#tp-cli-connection-interface-presence-callback-for-set-last-activity-time">*tp_cli_connection_interface_presence_callback_for_set_last_activity_time</a>)
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         const GError *error,
                                                         gpointer user_data,
                                                         GObject *weak_object);
void                (<a class="link" href="telepathy-glib-connection-presence.html#tp-cli-connection-interface-presence-callback-for-set-status">*tp_cli_connection_interface_presence_callback_for_set_status</a>)
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         const GError *error,
                                                         gpointer user_data,
                                                         GObject *weak_object);
<a class="link" href="telepathy-glib-proxy.html#TpProxySignalConnection">TpProxySignalConnection</a>* <a class="link" href="telepathy-glib-connection-presence.html#tp-cli-connection-interface-presence-connect-to-presence-update">tp_cli_connection_interface_presence_connect_to_presence_update</a>
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         <a class="link" href="telepathy-glib-connection-presence.html#tp-cli-connection-interface-presence-signal-callback-presence-update">tp_cli_connection_interface_presence_signal_callback_presence_update</a> callback,
                                                         gpointer user_data,
                                                         GDestroyNotify destroy,
                                                         GObject *weak_object,
                                                         GError **error);
void                (<a class="link" href="telepathy-glib-connection-presence.html#tp-cli-connection-interface-presence-signal-callback-presence-update">*tp_cli_connection_interface_presence_signal_callback_presence_update</a>)
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         GHashTable *arg_presence,
                                                         gpointer user_data,
                                                         GObject *weak_object);
</pre>
</div>
<div class="refsect1" lang="en">
<a name="id2702075"></a><h2>Description</h2>
<p>
Most instant messaging protocols allow users to advertise their presence
status. In Telepathy, this is represented by the Presence
interface, which lets applications advertise the presence status of the
local user, and query the presence status of their contacts.
</p>
<p>
This section documents the auto-generated C wrappers for the
Presence interface, used with <a class="link" href="telepathy-glib-connection.html#TpConnection"><span class="type">TpConnection</span></a> objects.</p>
<p>

</p>
</div>
<div class="refsect1" lang="en">
<a name="id2702111"></a><h2>Details</h2>
<div class="refsect2" lang="en">
<a name="id2702122"></a><h3>
<a name="tp-cli-connection-interface-presence-run-add-status"></a>tp_cli_connection_interface_presence_run_add_status ()</h3>
<a class="indexterm" name="id2702136"></a><pre class="programlisting">gboolean            tp_cli_connection_interface_presence_run_add_status
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         gint timeout_ms,
                                                         const gchar *in_status,
                                                         GHashTable *in_parms,
                                                         GError **error,
                                                         GMainLoop **loop);</pre>
<p>
Call the method AddStatus and run the main loop
until it returns. Before calling this method, you must
add a reference to any borrowed objects you need to keep,
and generally ensure that everything is in a consistent
state.
</p>
<p>
Request that a single presence status is published for the user, along         with any desired parameters. Changes will be indicated by PresenceUpdate         signals being emitted.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em>&#160;:</span></p></td>
<td> A <a class="link" href="telepathy-glib-connection.html#TpConnection"><span class="type">TpConnection</span></a> or subclass
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>timeout_ms</code></em>&#160;:</span></p></td>
<td> Timeout in milliseconds, or -1 for default
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>in_status</code></em>&#160;:</span></p></td>
<td> Used to pass an 'in' argument: The string identifier of the desired status
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>in_parms</code></em>&#160;:</span></p></td>
<td> Used to pass an 'in' argument: A dictionary of optional parameter names mapped to their variant-boxed values
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></p></td>
<td> If not <code class="literal">NULL</code>, used to return errors if <code class="literal">FALSE</code> 
 is returned
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>loop</code></em>&#160;:</span></p></td>
<td> If not <code class="literal">NULL</code>, set before re-entering 
 the main loop, to point to a <span class="type">GMainLoop</span> 
 which can be used to cancel this call with 
 <code class="function">g_main_loop_quit()</code>, causing a return of 
 <code class="literal">FALSE</code> with <em class="parameter"><code>error</code></em> set to <a class="link" href="telepathy-glib-proxy.html#TP-DBUS-ERROR-CANCELLED:CAPS"><code class="literal">TP_DBUS_ERROR_CANCELLED</code></a>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> TRUE on success, FALSE and sets <em class="parameter"><code>error</code></em> on error
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2702402"></a><h3>
<a name="tp-cli-connection-interface-presence-run-clear-status"></a>tp_cli_connection_interface_presence_run_clear_status ()</h3>
<a class="indexterm" name="id2702416"></a><pre class="programlisting">gboolean            tp_cli_connection_interface_presence_run_clear_status
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         gint timeout_ms,
                                                         GError **error,
                                                         GMainLoop **loop);</pre>
<p>
Call the method ClearStatus and run the main loop
until it returns. Before calling this method, you must
add a reference to any borrowed objects you need to keep,
and generally ensure that everything is in a consistent
state.
</p>
<p>
Request that all of a user&amp;<span class="type">39</span>;s presence statuses be removed. Be aware         that this request may simply result in the statuses being replaced by a         default available status. Changes will be indicated by PresenceUpdate         signals being emitted.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em>&#160;:</span></p></td>
<td> A <a class="link" href="telepathy-glib-connection.html#TpConnection"><span class="type">TpConnection</span></a> or subclass
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>timeout_ms</code></em>&#160;:</span></p></td>
<td> Timeout in milliseconds, or -1 for default
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></p></td>
<td> If not <code class="literal">NULL</code>, used to return errors if <code class="literal">FALSE</code> 
 is returned
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>loop</code></em>&#160;:</span></p></td>
<td> If not <code class="literal">NULL</code>, set before re-entering 
 the main loop, to point to a <span class="type">GMainLoop</span> 
 which can be used to cancel this call with 
 <code class="function">g_main_loop_quit()</code>, causing a return of 
 <code class="literal">FALSE</code> with <em class="parameter"><code>error</code></em> set to <a class="link" href="telepathy-glib-proxy.html#TP-DBUS-ERROR-CANCELLED:CAPS"><code class="literal">TP_DBUS_ERROR_CANCELLED</code></a>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> TRUE on success, FALSE and sets <em class="parameter"><code>error</code></em> on error
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2702644"></a><h3>
<a name="tp-cli-connection-interface-presence-run-get-presence"></a>tp_cli_connection_interface_presence_run_get_presence ()</h3>
<a class="indexterm" name="id2702659"></a><pre class="programlisting">gboolean            tp_cli_connection_interface_presence_run_get_presence
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         gint timeout_ms,
                                                         const GArray *in_contacts,
                                                         GHashTable **out_presence,
                                                         GError **error,
                                                         GMainLoop **loop);</pre>
<p>
Call the method GetPresence and run the main loop
until it returns. Before calling this method, you must
add a reference to any borrowed objects you need to keep,
and generally ensure that everything is in a consistent
state.
</p>
<p>
Get presence previously emitted by PresenceUpdate for the given         contacts. Data is returned in the same structure as the PresenceUpdate         signal. Using this method in favour of RequestPresence has the         advantage that it will not wake up each client connected to the         PresenceUpdate signal.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em>&#160;:</span></p></td>
<td> A <a class="link" href="telepathy-glib-connection.html#TpConnection"><span class="type">TpConnection</span></a> or subclass
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>timeout_ms</code></em>&#160;:</span></p></td>
<td> Timeout in milliseconds, or -1 for default
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>in_contacts</code></em>&#160;:</span></p></td>
<td> Used to pass an 'in' argument: An array of the contacts whose presence should be obtained
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>out_presence</code></em>&#160;:</span></p></td>
<td> Used to return an 'out' argument if <code class="literal">TRUE</code> is returned: Presence information in the same format as for the PresenceUpdate           signal
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></p></td>
<td> If not <code class="literal">NULL</code>, used to return errors if <code class="literal">FALSE</code> 
 is returned
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>loop</code></em>&#160;:</span></p></td>
<td> If not <code class="literal">NULL</code>, set before re-entering 
 the main loop, to point to a <span class="type">GMainLoop</span> 
 which can be used to cancel this call with 
 <code class="function">g_main_loop_quit()</code>, causing a return of 
 <code class="literal">FALSE</code> with <em class="parameter"><code>error</code></em> set to <a class="link" href="telepathy-glib-proxy.html#TP-DBUS-ERROR-CANCELLED:CAPS"><code class="literal">TP_DBUS_ERROR_CANCELLED</code></a>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> TRUE on success, FALSE and sets <em class="parameter"><code>error</code></em> on error
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2702936"></a><h3>
<a name="tp-cli-connection-interface-presence-run-get-statuses"></a>tp_cli_connection_interface_presence_run_get_statuses ()</h3>
<a class="indexterm" name="id2702950"></a><pre class="programlisting">gboolean            tp_cli_connection_interface_presence_run_get_statuses
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         gint timeout_ms,
                                                         GHashTable **out0,
                                                         GError **error,
                                                         GMainLoop **loop);</pre>
<p>
Call the method GetStatuses and run the main loop
until it returns. Before calling this method, you must
add a reference to any borrowed objects you need to keep,
and generally ensure that everything is in a consistent
state.
</p>
<p>
Get a dictionary of the valid presence statuses for this connection.         This is only available when online because only some statuses will         be available on some servers.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em>&#160;:</span></p></td>
<td> A <a class="link" href="telepathy-glib-connection.html#TpConnection"><span class="type">TpConnection</span></a> or subclass
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>timeout_ms</code></em>&#160;:</span></p></td>
<td> Timeout in milliseconds, or -1 for default
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>out0</code></em>&#160;:</span></p></td>
<td> Used to return an 'out' argument if <code class="literal">TRUE</code> is returned: A dictionary of string identifiers mapped to a struct for each status, containing:         &lt;ul&gt;           &lt;li&gt;a type value from one of the values above&lt;/li&gt;           &lt;li&gt;a boolean to indicate if this status may be set on yourself&lt;/li&gt;           &lt;li&gt;a boolean to indicate if this is an exclusive status which you may not set alongside any other&lt;/li&gt;           &lt;li&gt;a dictionary of valid optional string argument names mapped to their types&lt;/li&gt;         &lt;/ul&gt;
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></p></td>
<td> If not <code class="literal">NULL</code>, used to return errors if <code class="literal">FALSE</code> 
 is returned
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>loop</code></em>&#160;:</span></p></td>
<td> If not <code class="literal">NULL</code>, set before re-entering 
 the main loop, to point to a <span class="type">GMainLoop</span> 
 which can be used to cancel this call with 
 <code class="function">g_main_loop_quit()</code>, causing a return of 
 <code class="literal">FALSE</code> with <em class="parameter"><code>error</code></em> set to <a class="link" href="telepathy-glib-proxy.html#TP-DBUS-ERROR-CANCELLED:CAPS"><code class="literal">TP_DBUS_ERROR_CANCELLED</code></a>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> TRUE on success, FALSE and sets <em class="parameter"><code>error</code></em> on error
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2703209"></a><h3>
<a name="tp-cli-connection-interface-presence-run-remove-status"></a>tp_cli_connection_interface_presence_run_remove_status ()</h3>
<a class="indexterm" name="id2703223"></a><pre class="programlisting">gboolean            tp_cli_connection_interface_presence_run_remove_status
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         gint timeout_ms,
                                                         const gchar *in_status,
                                                         GError **error,
                                                         GMainLoop **loop);</pre>
<p>
Call the method RemoveStatus and run the main loop
until it returns. Before calling this method, you must
add a reference to any borrowed objects you need to keep,
and generally ensure that everything is in a consistent
state.
</p>
<p>
Request that the given presence status is no longer published for the         user. Changes will be indicated by PresenceUpdate signals being         emitted. As with ClearStatus, removing a status may actually result in         it being replaced by a default available status.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em>&#160;:</span></p></td>
<td> A <a class="link" href="telepathy-glib-connection.html#TpConnection"><span class="type">TpConnection</span></a> or subclass
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>timeout_ms</code></em>&#160;:</span></p></td>
<td> Timeout in milliseconds, or -1 for default
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>in_status</code></em>&#160;:</span></p></td>
<td> Used to pass an 'in' argument: The string identifier of the status not to publish anymore for the user
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></p></td>
<td> If not <code class="literal">NULL</code>, used to return errors if <code class="literal">FALSE</code> 
 is returned
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>loop</code></em>&#160;:</span></p></td>
<td> If not <code class="literal">NULL</code>, set before re-entering 
 the main loop, to point to a <span class="type">GMainLoop</span> 
 which can be used to cancel this call with 
 <code class="function">g_main_loop_quit()</code>, causing a return of 
 <code class="literal">FALSE</code> with <em class="parameter"><code>error</code></em> set to <a class="link" href="telepathy-glib-proxy.html#TP-DBUS-ERROR-CANCELLED:CAPS"><code class="literal">TP_DBUS_ERROR_CANCELLED</code></a>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> TRUE on success, FALSE and sets <em class="parameter"><code>error</code></em> on error
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2706683"></a><h3>
<a name="tp-cli-connection-interface-presence-run-request-presence"></a>tp_cli_connection_interface_presence_run_request_presence ()</h3>
<a class="indexterm" name="id2706697"></a><pre class="programlisting">gboolean            tp_cli_connection_interface_presence_run_request_presence
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         gint timeout_ms,
                                                         const GArray *in_contacts,
                                                         GError **error,
                                                         GMainLoop **loop);</pre>
<p>
Call the method RequestPresence and run the main loop
until it returns. Before calling this method, you must
add a reference to any borrowed objects you need to keep,
and generally ensure that everything is in a consistent
state.
</p>
<p>
Request the presence for contacts on this connection. A PresenceUpdate         signal will be emitted when they are received. This is not the same as         subscribing to the presence of a contact, which must be done using the         &amp;<span class="type">39</span>;subscription&amp;<span class="type">39</span>; Channel.Type.ContactList, and on some protocols presence         information may not be available unless a subscription exists.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em>&#160;:</span></p></td>
<td> A <a class="link" href="telepathy-glib-connection.html#TpConnection"><span class="type">TpConnection</span></a> or subclass
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>timeout_ms</code></em>&#160;:</span></p></td>
<td> Timeout in milliseconds, or -1 for default
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>in_contacts</code></em>&#160;:</span></p></td>
<td> Used to pass an 'in' argument: An array of the contacts whose presence should be obtained
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></p></td>
<td> If not <code class="literal">NULL</code>, used to return errors if <code class="literal">FALSE</code> 
 is returned
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>loop</code></em>&#160;:</span></p></td>
<td> If not <code class="literal">NULL</code>, set before re-entering 
 the main loop, to point to a <span class="type">GMainLoop</span> 
 which can be used to cancel this call with 
 <code class="function">g_main_loop_quit()</code>, causing a return of 
 <code class="literal">FALSE</code> with <em class="parameter"><code>error</code></em> set to <a class="link" href="telepathy-glib-proxy.html#TP-DBUS-ERROR-CANCELLED:CAPS"><code class="literal">TP_DBUS_ERROR_CANCELLED</code></a>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> TRUE on success, FALSE and sets <em class="parameter"><code>error</code></em> on error
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2706932"></a><h3>
<a name="tp-cli-connection-interface-presence-run-set-last-activity-time"></a>tp_cli_connection_interface_presence_run_set_last_activity_time ()</h3>
<a class="indexterm" name="id2706946"></a><pre class="programlisting">gboolean            tp_cli_connection_interface_presence_run_set_last_activity_time
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         gint timeout_ms,
                                                         guint in_time,
                                                         GError **error,
                                                         GMainLoop **loop);</pre>
<p>
Call the method SetLastActivityTime and run the main loop
until it returns. Before calling this method, you must
add a reference to any borrowed objects you need to keep,
and generally ensure that everything is in a consistent
state.
</p>
<p>
Request that the recorded last activity time for the user be updated on         the server.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em>&#160;:</span></p></td>
<td> A <a class="link" href="telepathy-glib-connection.html#TpConnection"><span class="type">TpConnection</span></a> or subclass
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>timeout_ms</code></em>&#160;:</span></p></td>
<td> Timeout in milliseconds, or -1 for default
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>in_time</code></em>&#160;:</span></p></td>
<td> Used to pass an 'in' argument: A UNIX timestamp of the user&amp;<span class="type">39</span>;s last activity time (in UTC)
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></p></td>
<td> If not <code class="literal">NULL</code>, used to return errors if <code class="literal">FALSE</code> 
 is returned
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>loop</code></em>&#160;:</span></p></td>
<td> If not <code class="literal">NULL</code>, set before re-entering 
 the main loop, to point to a <span class="type">GMainLoop</span> 
 which can be used to cancel this call with 
 <code class="function">g_main_loop_quit()</code>, causing a return of 
 <code class="literal">FALSE</code> with <em class="parameter"><code>error</code></em> set to <a class="link" href="telepathy-glib-proxy.html#TP-DBUS-ERROR-CANCELLED:CAPS"><code class="literal">TP_DBUS_ERROR_CANCELLED</code></a>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> TRUE on success, FALSE and sets <em class="parameter"><code>error</code></em> on error
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2707171"></a><h3>
<a name="tp-cli-connection-interface-presence-run-set-status"></a>tp_cli_connection_interface_presence_run_set_status ()</h3>
<a class="indexterm" name="id2707184"></a><pre class="programlisting">gboolean            tp_cli_connection_interface_presence_run_set_status
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         gint timeout_ms,
                                                         GHashTable *in_statuses,
                                                         GError **error,
                                                         GMainLoop **loop);</pre>
<p>
Call the method SetStatus and run the main loop
until it returns. Before calling this method, you must
add a reference to any borrowed objects you need to keep,
and generally ensure that everything is in a consistent
state.
</p>
<p>
Request that the user&amp;<span class="type">39</span>;s presence be changed to the given statuses and         desired parameters. Changes will be reflected by PresenceUpdate         signals being emitted. On certain protocols, this method may be         called on a newly-created connection which is still in the         DISCONNECTED state, and will sign on with the requested status.         If the requested status is not available after signing on,         NotAvailable will be returned and the connection will remain         offline, or if the protocol does not support signing on with         a certain status, Disconnected will be returned.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em>&#160;:</span></p></td>
<td> A <a class="link" href="telepathy-glib-connection.html#TpConnection"><span class="type">TpConnection</span></a> or subclass
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>timeout_ms</code></em>&#160;:</span></p></td>
<td> Timeout in milliseconds, or -1 for default
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>in_statuses</code></em>&#160;:</span></p></td>
<td> Used to pass an 'in' argument: A dictionary mapping status identifiers to dictionaries, which           map optional parameter names to their variant-boxed values
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></p></td>
<td> If not <code class="literal">NULL</code>, used to return errors if <code class="literal">FALSE</code> 
 is returned
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>loop</code></em>&#160;:</span></p></td>
<td> If not <code class="literal">NULL</code>, set before re-entering 
 the main loop, to point to a <span class="type">GMainLoop</span> 
 which can be used to cancel this call with 
 <code class="function">g_main_loop_quit()</code>, causing a return of 
 <code class="literal">FALSE</code> with <em class="parameter"><code>error</code></em> set to <a class="link" href="telepathy-glib-proxy.html#TP-DBUS-ERROR-CANCELLED:CAPS"><code class="literal">TP_DBUS_ERROR_CANCELLED</code></a>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> TRUE on success, FALSE and sets <em class="parameter"><code>error</code></em> on error
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2707418"></a><h3>
<a name="tp-cli-connection-interface-presence-call-add-status"></a>tp_cli_connection_interface_presence_call_add_status ()</h3>
<a class="indexterm" name="id2707432"></a><pre class="programlisting"><a class="link" href="telepathy-glib-proxy.html#TpProxyPendingCall">TpProxyPendingCall</a>* tp_cli_connection_interface_presence_call_add_status
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         gint timeout_ms,
                                                         const gchar *in_status,
                                                         GHashTable *in_parms,
                                                         <a class="link" href="telepathy-glib-connection-presence.html#tp-cli-connection-interface-presence-callback-for-add-status">tp_cli_connection_interface_presence_callback_for_add_status</a> callback,
                                                         gpointer user_data,
                                                         GDestroyNotify destroy,
                                                         GObject *weak_object);</pre>
<p>
Start a AddStatus method call.
</p>
<p>
Request that a single presence status is published for the user, along         with any desired parameters. Changes will be indicated by PresenceUpdate         signals being emitted.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em>&#160;:</span></p></td>
<td> the <a class="link" href="telepathy-glib-proxy.html#TpProxy"><span class="type">TpProxy</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>timeout_ms</code></em>&#160;:</span></p></td>
<td> the timeout in milliseconds, or -1 to use the
  default
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>in_status</code></em>&#160;:</span></p></td>
<td> Used to pass an 'in' argument: The string identifier of the desired status
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>in_parms</code></em>&#160;:</span></p></td>
<td> Used to pass an 'in' argument: A dictionary of optional parameter names mapped to their variant-boxed values
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>callback</code></em>&#160;:</span></p></td>
<td> called when the method call succeeds or fails
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em>&#160;:</span></p></td>
<td> user-supplied data passed to the callback
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>destroy</code></em>&#160;:</span></p></td>
<td> called with the user_data as argument, after the
  call has succeeded, failed or been cancelled
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>weak_object</code></em>&#160;:</span></p></td>
<td> A <span class="type">GObject</span> which will be weakly referenced; 
  if it is destroyed, this callback will automatically be
  disconnected
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> a <a class="link" href="telepathy-glib-proxy.html#TpProxyPendingCall"><span class="type">TpProxyPendingCall</span></a> representing the call in
 progress. It is borrowed from the object, and will become
 invalid when the callback is called, the call is
 cancelled or the <a class="link" href="telepathy-glib-proxy.html#TpProxy"><span class="type">TpProxy</span></a> becomes invalid.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2707667"></a><h3>
<a name="tp-cli-connection-interface-presence-call-clear-status"></a>tp_cli_connection_interface_presence_call_clear_status ()</h3>
<a class="indexterm" name="id2707681"></a><pre class="programlisting"><a class="link" href="telepathy-glib-proxy.html#TpProxyPendingCall">TpProxyPendingCall</a>* tp_cli_connection_interface_presence_call_clear_status
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         gint timeout_ms,
                                                         <a class="link" href="telepathy-glib-connection-presence.html#tp-cli-connection-interface-presence-callback-for-clear-status">tp_cli_connection_interface_presence_callback_for_clear_status</a> callback,
                                                         gpointer user_data,
                                                         GDestroyNotify destroy,
                                                         GObject *weak_object);</pre>
<p>
Start a ClearStatus method call.
</p>
<p>
Request that all of a user&amp;<span class="type">39</span>;s presence statuses be removed. Be aware         that this request may simply result in the statuses being replaced by a         default available status. Changes will be indicated by PresenceUpdate         signals being emitted.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em>&#160;:</span></p></td>
<td> the <a class="link" href="telepathy-glib-proxy.html#TpProxy"><span class="type">TpProxy</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>timeout_ms</code></em>&#160;:</span></p></td>
<td> the timeout in milliseconds, or -1 to use the
  default
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>callback</code></em>&#160;:</span></p></td>
<td> called when the method call succeeds or fails
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em>&#160;:</span></p></td>
<td> user-supplied data passed to the callback
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>destroy</code></em>&#160;:</span></p></td>
<td> called with the user_data as argument, after the
  call has succeeded, failed or been cancelled
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>weak_object</code></em>&#160;:</span></p></td>
<td> A <span class="type">GObject</span> which will be weakly referenced; 
  if it is destroyed, this callback will automatically be
  disconnected
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> a <a class="link" href="telepathy-glib-proxy.html#TpProxyPendingCall"><span class="type">TpProxyPendingCall</span></a> representing the call in
 progress. It is borrowed from the object, and will become
 invalid when the callback is called, the call is
 cancelled or the <a class="link" href="telepathy-glib-proxy.html#TpProxy"><span class="type">TpProxy</span></a> becomes invalid.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2707882"></a><h3>
<a name="tp-cli-connection-interface-presence-call-get-presence"></a>tp_cli_connection_interface_presence_call_get_presence ()</h3>
<a class="indexterm" name="id2707895"></a><pre class="programlisting"><a class="link" href="telepathy-glib-proxy.html#TpProxyPendingCall">TpProxyPendingCall</a>* tp_cli_connection_interface_presence_call_get_presence
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         gint timeout_ms,
                                                         const GArray *in_contacts,
                                                         <a class="link" href="telepathy-glib-connection-presence.html#tp-cli-connection-interface-presence-callback-for-get-presence">tp_cli_connection_interface_presence_callback_for_get_presence</a> callback,
                                                         gpointer user_data,
                                                         GDestroyNotify destroy,
                                                         GObject *weak_object);</pre>
<p>
Start a GetPresence method call.
</p>
<p>
Get presence previously emitted by PresenceUpdate for the given         contacts. Data is returned in the same structure as the PresenceUpdate         signal. Using this method in favour of RequestPresence has the         advantage that it will not wake up each client connected to the         PresenceUpdate signal.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em>&#160;:</span></p></td>
<td> the <a class="link" href="telepathy-glib-proxy.html#TpProxy"><span class="type">TpProxy</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>timeout_ms</code></em>&#160;:</span></p></td>
<td> the timeout in milliseconds, or -1 to use the
  default
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>in_contacts</code></em>&#160;:</span></p></td>
<td> Used to pass an 'in' argument: An array of the contacts whose presence should be obtained
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>callback</code></em>&#160;:</span></p></td>
<td> called when the method call succeeds or fails
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em>&#160;:</span></p></td>
<td> user-supplied data passed to the callback
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>destroy</code></em>&#160;:</span></p></td>
<td> called with the user_data as argument, after the
  call has succeeded, failed or been cancelled
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>weak_object</code></em>&#160;:</span></p></td>
<td> A <span class="type">GObject</span> which will be weakly referenced; 
  if it is destroyed, this callback will automatically be
  disconnected
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> a <a class="link" href="telepathy-glib-proxy.html#TpProxyPendingCall"><span class="type">TpProxyPendingCall</span></a> representing the call in
 progress. It is borrowed from the object, and will become
 invalid when the callback is called, the call is
 cancelled or the <a class="link" href="telepathy-glib-proxy.html#TpProxy"><span class="type">TpProxy</span></a> becomes invalid.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2708112"></a><h3>
<a name="tp-cli-connection-interface-presence-call-get-statuses"></a>tp_cli_connection_interface_presence_call_get_statuses ()</h3>
<a class="indexterm" name="id2708126"></a><pre class="programlisting"><a class="link" href="telepathy-glib-proxy.html#TpProxyPendingCall">TpProxyPendingCall</a>* tp_cli_connection_interface_presence_call_get_statuses
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         gint timeout_ms,
                                                         <a class="link" href="telepathy-glib-connection-presence.html#tp-cli-connection-interface-presence-callback-for-get-statuses">tp_cli_connection_interface_presence_callback_for_get_statuses</a> callback,
                                                         gpointer user_data,
                                                         GDestroyNotify destroy,
                                                         GObject *weak_object);</pre>
<p>
Start a GetStatuses method call.
</p>
<p>
Get a dictionary of the valid presence statuses for this connection.         This is only available when online because only some statuses will         be available on some servers.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em>&#160;:</span></p></td>
<td> the <a class="link" href="telepathy-glib-proxy.html#TpProxy"><span class="type">TpProxy</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>timeout_ms</code></em>&#160;:</span></p></td>
<td> the timeout in milliseconds, or -1 to use the
  default
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>callback</code></em>&#160;:</span></p></td>
<td> called when the method call succeeds or fails
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em>&#160;:</span></p></td>
<td> user-supplied data passed to the callback
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>destroy</code></em>&#160;:</span></p></td>
<td> called with the user_data as argument, after the
  call has succeeded, failed or been cancelled
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>weak_object</code></em>&#160;:</span></p></td>
<td> A <span class="type">GObject</span> which will be weakly referenced; 
  if it is destroyed, this callback will automatically be
  disconnected
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> a <a class="link" href="telepathy-glib-proxy.html#TpProxyPendingCall"><span class="type">TpProxyPendingCall</span></a> representing the call in
 progress. It is borrowed from the object, and will become
 invalid when the callback is called, the call is
 cancelled or the <a class="link" href="telepathy-glib-proxy.html#TpProxy"><span class="type">TpProxy</span></a> becomes invalid.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2708319"></a><h3>
<a name="tp-cli-connection-interface-presence-call-remove-status"></a>tp_cli_connection_interface_presence_call_remove_status ()</h3>
<a class="indexterm" name="id2708333"></a><pre class="programlisting"><a class="link" href="telepathy-glib-proxy.html#TpProxyPendingCall">TpProxyPendingCall</a>* tp_cli_connection_interface_presence_call_remove_status
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         gint timeout_ms,
                                                         const gchar *in_status,
                                                         <a class="link" href="telepathy-glib-connection-presence.html#tp-cli-connection-interface-presence-callback-for-remove-status">tp_cli_connection_interface_presence_callback_for_remove_status</a> callback,
                                                         gpointer user_data,
                                                         GDestroyNotify destroy,
                                                         GObject *weak_object);</pre>
<p>
Start a RemoveStatus method call.
</p>
<p>
Request that the given presence status is no longer published for the         user. Changes will be indicated by PresenceUpdate signals being         emitted. As with ClearStatus, removing a status may actually result in         it being replaced by a default available status.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em>&#160;:</span></p></td>
<td> the <a class="link" href="telepathy-glib-proxy.html#TpProxy"><span class="type">TpProxy</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>timeout_ms</code></em>&#160;:</span></p></td>
<td> the timeout in milliseconds, or -1 to use the
  default
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>in_status</code></em>&#160;:</span></p></td>
<td> Used to pass an 'in' argument: The string identifier of the status not to publish anymore for the user
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>callback</code></em>&#160;:</span></p></td>
<td> called when the method call succeeds or fails
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em>&#160;:</span></p></td>
<td> user-supplied data passed to the callback
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>destroy</code></em>&#160;:</span></p></td>
<td> called with the user_data as argument, after the
  call has succeeded, failed or been cancelled
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>weak_object</code></em>&#160;:</span></p></td>
<td> A <span class="type">GObject</span> which will be weakly referenced; 
  if it is destroyed, this callback will automatically be
  disconnected
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> a <a class="link" href="telepathy-glib-proxy.html#TpProxyPendingCall"><span class="type">TpProxyPendingCall</span></a> representing the call in
 progress. It is borrowed from the object, and will become
 invalid when the callback is called, the call is
 cancelled or the <a class="link" href="telepathy-glib-proxy.html#TpProxy"><span class="type">TpProxy</span></a> becomes invalid.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2708551"></a><h3>
<a name="tp-cli-connection-interface-presence-call-request-presence"></a>tp_cli_connection_interface_presence_call_request_presence ()</h3>
<a class="indexterm" name="id2708564"></a><pre class="programlisting"><a class="link" href="telepathy-glib-proxy.html#TpProxyPendingCall">TpProxyPendingCall</a>* tp_cli_connection_interface_presence_call_request_presence
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         gint timeout_ms,
                                                         const GArray *in_contacts,
                                                         <a class="link" href="telepathy-glib-connection-presence.html#tp-cli-connection-interface-presence-callback-for-request-presence">tp_cli_connection_interface_presence_callback_for_request_presence</a> callback,
                                                         gpointer user_data,
                                                         GDestroyNotify destroy,
                                                         GObject *weak_object);</pre>
<p>
Start a RequestPresence method call.
</p>
<p>
Request the presence for contacts on this connection. A PresenceUpdate         signal will be emitted when they are received. This is not the same as         subscribing to the presence of a contact, which must be done using the         &amp;<span class="type">39</span>;subscription&amp;<span class="type">39</span>; Channel.Type.ContactList, and on some protocols presence         information may not be available unless a subscription exists.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em>&#160;:</span></p></td>
<td> the <a class="link" href="telepathy-glib-proxy.html#TpProxy"><span class="type">TpProxy</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>timeout_ms</code></em>&#160;:</span></p></td>
<td> the timeout in milliseconds, or -1 to use the
  default
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>in_contacts</code></em>&#160;:</span></p></td>
<td> Used to pass an 'in' argument: An array of the contacts whose presence should be obtained
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>callback</code></em>&#160;:</span></p></td>
<td> called when the method call succeeds or fails
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em>&#160;:</span></p></td>
<td> user-supplied data passed to the callback
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>destroy</code></em>&#160;:</span></p></td>
<td> called with the user_data as argument, after the
  call has succeeded, failed or been cancelled
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>weak_object</code></em>&#160;:</span></p></td>
<td> A <span class="type">GObject</span> which will be weakly referenced; 
  if it is destroyed, this callback will automatically be
  disconnected
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> a <a class="link" href="telepathy-glib-proxy.html#TpProxyPendingCall"><span class="type">TpProxyPendingCall</span></a> representing the call in
 progress. It is borrowed from the object, and will become
 invalid when the callback is called, the call is
 cancelled or the <a class="link" href="telepathy-glib-proxy.html#TpProxy"><span class="type">TpProxy</span></a> becomes invalid.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2708796"></a><h3>
<a name="tp-cli-connection-interface-presence-call-set-last-activity-time"></a>tp_cli_connection_interface_presence_call_set_last_activity_time ()</h3>
<a class="indexterm" name="id2708810"></a><pre class="programlisting"><a class="link" href="telepathy-glib-proxy.html#TpProxyPendingCall">TpProxyPendingCall</a>* tp_cli_connection_interface_presence_call_set_last_activity_time
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         gint timeout_ms,
                                                         guint in_time,
                                                         <a class="link" href="telepathy-glib-connection-presence.html#tp-cli-connection-interface-presence-callback-for-set-last-activity-time">tp_cli_connection_interface_presence_callback_for_set_last_activity_time</a> callback,
                                                         gpointer user_data,
                                                         GDestroyNotify destroy,
                                                         GObject *weak_object);</pre>
<p>
Start a SetLastActivityTime method call.
</p>
<p>
Request that the recorded last activity time for the user be updated on         the server.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em>&#160;:</span></p></td>
<td> the <a class="link" href="telepathy-glib-proxy.html#TpProxy"><span class="type">TpProxy</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>timeout_ms</code></em>&#160;:</span></p></td>
<td> the timeout in milliseconds, or -1 to use the
  default
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>in_time</code></em>&#160;:</span></p></td>
<td> Used to pass an 'in' argument: A UNIX timestamp of the user&amp;<span class="type">39</span>;s last activity time (in UTC)
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>callback</code></em>&#160;:</span></p></td>
<td> called when the method call succeeds or fails
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em>&#160;:</span></p></td>
<td> user-supplied data passed to the callback
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>destroy</code></em>&#160;:</span></p></td>
<td> called with the user_data as argument, after the
  call has succeeded, failed or been cancelled
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>weak_object</code></em>&#160;:</span></p></td>
<td> A <span class="type">GObject</span> which will be weakly referenced; 
  if it is destroyed, this callback will automatically be
  disconnected
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> a <a class="link" href="telepathy-glib-proxy.html#TpProxyPendingCall"><span class="type">TpProxyPendingCall</span></a> representing the call in
 progress. It is borrowed from the object, and will become
 invalid when the callback is called, the call is
 cancelled or the <a class="link" href="telepathy-glib-proxy.html#TpProxy"><span class="type">TpProxy</span></a> becomes invalid.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2709032"></a><h3>
<a name="tp-cli-connection-interface-presence-call-set-status"></a>tp_cli_connection_interface_presence_call_set_status ()</h3>
<a class="indexterm" name="id2709046"></a><pre class="programlisting"><a class="link" href="telepathy-glib-proxy.html#TpProxyPendingCall">TpProxyPendingCall</a>* tp_cli_connection_interface_presence_call_set_status
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         gint timeout_ms,
                                                         GHashTable *in_statuses,
                                                         <a class="link" href="telepathy-glib-connection-presence.html#tp-cli-connection-interface-presence-callback-for-set-status">tp_cli_connection_interface_presence_callback_for_set_status</a> callback,
                                                         gpointer user_data,
                                                         GDestroyNotify destroy,
                                                         GObject *weak_object);</pre>
<p>
Start a SetStatus method call.
</p>
<p>
Request that the user&amp;<span class="type">39</span>;s presence be changed to the given statuses and         desired parameters. Changes will be reflected by PresenceUpdate         signals being emitted. On certain protocols, this method may be         called on a newly-created connection which is still in the         DISCONNECTED state, and will sign on with the requested status.         If the requested status is not available after signing on,         NotAvailable will be returned and the connection will remain         offline, or if the protocol does not support signing on with         a certain status, Disconnected will be returned.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em>&#160;:</span></p></td>
<td> the <a class="link" href="telepathy-glib-proxy.html#TpProxy"><span class="type">TpProxy</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>timeout_ms</code></em>&#160;:</span></p></td>
<td> the timeout in milliseconds, or -1 to use the
  default
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>in_statuses</code></em>&#160;:</span></p></td>
<td> Used to pass an 'in' argument: A dictionary mapping status identifiers to dictionaries, which           map optional parameter names to their variant-boxed values
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>callback</code></em>&#160;:</span></p></td>
<td> called when the method call succeeds or fails
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em>&#160;:</span></p></td>
<td> user-supplied data passed to the callback
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>destroy</code></em>&#160;:</span></p></td>
<td> called with the user_data as argument, after the
  call has succeeded, failed or been cancelled
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>weak_object</code></em>&#160;:</span></p></td>
<td> A <span class="type">GObject</span> which will be weakly referenced; 
  if it is destroyed, this callback will automatically be
  disconnected
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> a <a class="link" href="telepathy-glib-proxy.html#TpProxyPendingCall"><span class="type">TpProxyPendingCall</span></a> representing the call in
 progress. It is borrowed from the object, and will become
 invalid when the callback is called, the call is
 cancelled or the <a class="link" href="telepathy-glib-proxy.html#TpProxy"><span class="type">TpProxy</span></a> becomes invalid.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2709276"></a><h3>
<a name="tp-cli-connection-interface-presence-callback-for-add-status"></a>tp_cli_connection_interface_presence_callback_for_add_status ()</h3>
<a class="indexterm" name="id2709290"></a><pre class="programlisting">void                (*tp_cli_connection_interface_presence_callback_for_add_status)
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         const GError *error,
                                                         gpointer user_data,
                                                         GObject *weak_object);</pre>
<p>
Signature of the callback called when a AddStatus method call
succeeds or fails.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em>&#160;:</span></p></td>
<td> the proxy on which the call was made
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></p></td>
<td> <code class="literal">NULL</code> on success, or an error on failure
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em>&#160;:</span></p></td>
<td> user-supplied data
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>weak_object</code></em>&#160;:</span></p></td>
<td> user-supplied object
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2709405"></a><h3>
<a name="tp-cli-connection-interface-presence-callback-for-clear-status"></a>tp_cli_connection_interface_presence_callback_for_clear_status ()</h3>
<a class="indexterm" name="id2709419"></a><pre class="programlisting">void                (*tp_cli_connection_interface_presence_callback_for_clear_status)
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         const GError *error,
                                                         gpointer user_data,
                                                         GObject *weak_object);</pre>
<p>
Signature of the callback called when a ClearStatus method call
succeeds or fails.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em>&#160;:</span></p></td>
<td> the proxy on which the call was made
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></p></td>
<td> <code class="literal">NULL</code> on success, or an error on failure
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em>&#160;:</span></p></td>
<td> user-supplied data
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>weak_object</code></em>&#160;:</span></p></td>
<td> user-supplied object
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2709534"></a><h3>
<a name="tp-cli-connection-interface-presence-callback-for-get-presence"></a>tp_cli_connection_interface_presence_callback_for_get_presence ()</h3>
<a class="indexterm" name="id2709548"></a><pre class="programlisting">void                (*tp_cli_connection_interface_presence_callback_for_get_presence)
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         GHashTable *out_presence,
                                                         const GError *error,
                                                         gpointer user_data,
                                                         GObject *weak_object);</pre>
<p>
Signature of the callback called when a GetPresence method call
succeeds or fails.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em>&#160;:</span></p></td>
<td> the proxy on which the call was made
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>out_presence</code></em>&#160;:</span></p></td>
<td> Used to return an 'out' argument if <em class="parameter"><code>error</code></em> is <code class="literal">NULL</code>: Presence information in the same format as for the PresenceUpdate           signal
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></p></td>
<td> <code class="literal">NULL</code> on success, or an error on failure
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em>&#160;:</span></p></td>
<td> user-supplied data
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>weak_object</code></em>&#160;:</span></p></td>
<td> user-supplied object
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2709699"></a><h3>
<a name="tp-cli-connection-interface-presence-callback-for-get-statuses"></a>tp_cli_connection_interface_presence_callback_for_get_statuses ()</h3>
<a class="indexterm" name="id2709713"></a><pre class="programlisting">void                (*tp_cli_connection_interface_presence_callback_for_get_statuses)
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         GHashTable *out0,
                                                         const GError *error,
                                                         gpointer user_data,
                                                         GObject *weak_object);</pre>
<p>
Signature of the callback called when a GetStatuses method call
succeeds or fails.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em>&#160;:</span></p></td>
<td> the proxy on which the call was made
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>out0</code></em>&#160;:</span></p></td>
<td> Used to return an 'out' argument if <em class="parameter"><code>error</code></em> is <code class="literal">NULL</code>: A dictionary of string identifiers mapped to a struct for each status, containing:         &lt;ul&gt;           &lt;li&gt;a type value from one of the values above&lt;/li&gt;           &lt;li&gt;a boolean to indicate if this status may be set on yourself&lt;/li&gt;           &lt;li&gt;a boolean to indicate if this is an exclusive status which you may not set alongside any other&lt;/li&gt;           &lt;li&gt;a dictionary of valid optional string argument names mapped to their types&lt;/li&gt;         &lt;/ul&gt;
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></p></td>
<td> <code class="literal">NULL</code> on success, or an error on failure
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em>&#160;:</span></p></td>
<td> user-supplied data
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>weak_object</code></em>&#160;:</span></p></td>
<td> user-supplied object
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2709869"></a><h3>
<a name="tp-cli-connection-interface-presence-callback-for-remove-status"></a>tp_cli_connection_interface_presence_callback_for_remove_status ()</h3>
<a class="indexterm" name="id2709883"></a><pre class="programlisting">void                (*tp_cli_connection_interface_presence_callback_for_remove_status)
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         const GError *error,
                                                         gpointer user_data,
                                                         GObject *weak_object);</pre>
<p>
Signature of the callback called when a RemoveStatus method call
succeeds or fails.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em>&#160;:</span></p></td>
<td> the proxy on which the call was made
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></p></td>
<td> <code class="literal">NULL</code> on success, or an error on failure
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em>&#160;:</span></p></td>
<td> user-supplied data
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>weak_object</code></em>&#160;:</span></p></td>
<td> user-supplied object
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2709999"></a><h3>
<a name="tp-cli-connection-interface-presence-callback-for-request-presence"></a>tp_cli_connection_interface_presence_callback_for_request_presence ()</h3>
<a class="indexterm" name="id2710014"></a><pre class="programlisting">void                (*tp_cli_connection_interface_presence_callback_for_request_presence)
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         const GError *error,
                                                         gpointer user_data,
                                                         GObject *weak_object);</pre>
<p>
Signature of the callback called when a RequestPresence method call
succeeds or fails.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em>&#160;:</span></p></td>
<td> the proxy on which the call was made
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></p></td>
<td> <code class="literal">NULL</code> on success, or an error on failure
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em>&#160;:</span></p></td>
<td> user-supplied data
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>weak_object</code></em>&#160;:</span></p></td>
<td> user-supplied object
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2710129"></a><h3>
<a name="tp-cli-connection-interface-presence-callback-for-set-last-activity-time"></a>tp_cli_connection_interface_presence_callback_for_set_last_activity_time ()</h3>
<a class="indexterm" name="id2710144"></a><pre class="programlisting">void                (*tp_cli_connection_interface_presence_callback_for_set_last_activity_time)
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         const GError *error,
                                                         gpointer user_data,
                                                         GObject *weak_object);</pre>
<p>
Signature of the callback called when a SetLastActivityTime method call
succeeds or fails.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em>&#160;:</span></p></td>
<td> the proxy on which the call was made
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></p></td>
<td> <code class="literal">NULL</code> on success, or an error on failure
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em>&#160;:</span></p></td>
<td> user-supplied data
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>weak_object</code></em>&#160;:</span></p></td>
<td> user-supplied object
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2710259"></a><h3>
<a name="tp-cli-connection-interface-presence-callback-for-set-status"></a>tp_cli_connection_interface_presence_callback_for_set_status ()</h3>
<a class="indexterm" name="id2710273"></a><pre class="programlisting">void                (*tp_cli_connection_interface_presence_callback_for_set_status)
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         const GError *error,
                                                         gpointer user_data,
                                                         GObject *weak_object);</pre>
<p>
Signature of the callback called when a SetStatus method call
succeeds or fails.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em>&#160;:</span></p></td>
<td> the proxy on which the call was made
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></p></td>
<td> <code class="literal">NULL</code> on success, or an error on failure
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em>&#160;:</span></p></td>
<td> user-supplied data
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>weak_object</code></em>&#160;:</span></p></td>
<td> user-supplied object
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2710389"></a><h3>
<a name="tp-cli-connection-interface-presence-connect-to-presence-update"></a>tp_cli_connection_interface_presence_connect_to_presence_update ()</h3>
<a class="indexterm" name="id2710403"></a><pre class="programlisting"><a class="link" href="telepathy-glib-proxy.html#TpProxySignalConnection">TpProxySignalConnection</a>* tp_cli_connection_interface_presence_connect_to_presence_update
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         <a class="link" href="telepathy-glib-connection-presence.html#tp-cli-connection-interface-presence-signal-callback-presence-update">tp_cli_connection_interface_presence_signal_callback_presence_update</a> callback,
                                                         gpointer user_data,
                                                         GDestroyNotify destroy,
                                                         GObject *weak_object,
                                                         GError **error);</pre>
<p>
Connect a handler to the signal PresenceUpdate.
</p>
<p>
This signal should be emitted when your own presence has been changed,         or the presence of the member of any of the connection&amp;<span class="type">39</span>;s channels has         been changed, or when the presence requested by RequestPresence is available.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em>&#160;:</span></p></td>
<td> A <a class="link" href="telepathy-glib-connection.html#TpConnection"><span class="type">TpConnection</span></a> or subclass
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>callback</code></em>&#160;:</span></p></td>
<td> Callback to be called when the signal is
  received
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em>&#160;:</span></p></td>
<td> User-supplied data for the callback
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>destroy</code></em>&#160;:</span></p></td>
<td> Destructor for the user-supplied data, which
  will be called when this signal is disconnected, or
  before this function returns <code class="literal">NULL</code>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>weak_object</code></em>&#160;:</span></p></td>
<td> A <span class="type">GObject</span> which will be weakly referenced; 
  if it is destroyed, this callback will automatically be
  disconnected
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></p></td>
<td> If not <code class="literal">NULL</code>, used to raise an error if <code class="literal">NULL</code> is
  returned
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> a <a class="link" href="telepathy-glib-proxy.html#TpProxySignalConnection"><span class="type">TpProxySignalConnection</span></a> containing all of the
above, which can be used to disconnect the signal; or
<code class="literal">NULL</code> if the proxy does not have the desired interface
or has become invalid.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2710633"></a><h3>
<a name="tp-cli-connection-interface-presence-signal-callback-presence-update"></a>tp_cli_connection_interface_presence_signal_callback_presence_update ()</h3>
<a class="indexterm" name="id2710648"></a><pre class="programlisting">void                (*tp_cli_connection_interface_presence_signal_callback_presence_update)
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         GHashTable *arg_presence,
                                                         gpointer user_data,
                                                         GObject *weak_object);</pre>
<p>
Represents the signature of a callback for the signal PresenceUpdate.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em>&#160;:</span></p></td>
<td> The proxy on which <a class="link" href="telepathy-glib-connection-presence.html#tp-cli-connection-interface-presence-connect-to-presence-update"><code class="function">tp_cli_connection_interface_presence_connect_to_presence_update()</code></a>
 was called
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>arg_presence</code></em>&#160;:</span></p></td>
<td> A dictionary of contact handles mapped to a struct containing         a UNIX timestamp of the last activity time (in UTC), and         a dictionary mapping the contact&amp;<span class="type">39</span>;s current status identifiers to           a dictionary of optional parameter names mapped to their            variant-boxed values
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em>&#160;:</span></p></td>
<td> User-supplied data
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>weak_object</code></em>&#160;:</span></p></td>
<td> User-supplied weakly referenced object
</td>
</tr>
</tbody>
</table></div>
</div>
</div>
<div class="refsect1" lang="en">
<a name="id2710778"></a><h2>See Also</h2>
<a class="link" href="telepathy-glib-connection.html#TpConnection"><span class="type">TpConnection</span></a>
</div>
<div class="refsect1" lang="en">
<a name="id2710790"></a><div class="refsect2" lang="en"><a name="id2710791"></a></div>
<hr>
<div class="refsect2" lang="en"><a name="id2710792"></a></div>
</div>
</div>
</body>
</html>
