<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<title>TpHandleRepoIface</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.73.2">
<link rel="start" href="index.html" title="telepathy-glib Reference Manual">
<link rel="up" href="ch-handle-management.html" title="Handle management">
<link rel="prev" href="TpStaticHandleRepo.html" title="TpStaticHandleRepo">
<link rel="next" href="TpDynamicHandleRepo.html" title="TpDynamicHandleRepo">
<meta name="generator" content="GTK-Doc V1.9 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
<link rel="chapter" href="ch-dbus.html" title="D-Bus interfaces">
<link rel="chapter" href="base-classes.html" title="Connections and channels">
<link rel="chapter" href="ch-mixins.html" title="Implementation mixins">
<link rel="chapter" href="ch-utilities.html" title="Utilities">
<link rel="chapter" href="ch-handle-management.html" title="Handle management">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2">
<tr valign="middle">
<td><a accesskey="p" href="TpStaticHandleRepo.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td>
<td><a accesskey="u" href="ch-handle-management.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td>
<th width="100%" align="center">telepathy-glib Reference Manual</th>
<td><a accesskey="n" href="TpDynamicHandleRepo.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td>
</tr>
<tr><td colspan="5" class="shortcuts"><nobr><a href="#id2594602" class="shortcut">Top</a>
                  &#160;|&#160;
                  <a href="#id2710817" class="shortcut">Description</a>
                  &#160;|&#160;
                  <a href="#id2710772" class="shortcut">Object Hierarchy</a>
                  &#160;|&#160;
                  <a href="#id2710793" class="shortcut">Known Implementations</a></nobr></td></tr>
</table>
<div class="refentry" lang="en">
<a name="telepathy-glib-handle-repo"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2>
<a name="id2594602"></a><span class="refentrytitle">TpHandleRepoIface</span>
</h2>
<p>TpHandleRepoIface &#8212; abstract interface for handle allocation</p>
</td>
<td valign="top" align="right"></td>
</tr></table></div>
<div class="refsynopsisdiv">
<h2>Synopsis</h2>
<a name="TpHandleRepoIface"></a><pre class="synopsis">

#include &lt;telepathy-glib/handle-repo.h&gt;


                    <a class="link" href="telepathy-glib-handle-repo.html#TpHandleRepoIface-struct">TpHandleRepoIface</a>;
                    <a class="link" href="telepathy-glib-handle-repo.html#TpHandleRepoIfaceClass">TpHandleRepoIfaceClass</a>;
gboolean            <a class="link" href="telepathy-glib-handle-repo.html#tp-handle-is-valid">tp_handle_is_valid</a>                  (<a class="link" href="telepathy-glib-handle-repo.html#TpHandleRepoIface">TpHandleRepoIface</a> *self,
                                                         <a class="link" href="telepathy-glib-handle.html#TpHandle">TpHandle</a> handle,
                                                         GError **error);
gboolean            <a class="link" href="telepathy-glib-handle-repo.html#tp-handles-are-valid">tp_handles_are_valid</a>                (<a class="link" href="telepathy-glib-handle-repo.html#TpHandleRepoIface">TpHandleRepoIface</a> *self,
                                                         const GArray *handles,
                                                         gboolean allow_zero,
                                                         GError **error);
gboolean            <a class="link" href="telepathy-glib-handle-repo.html#tp-handles-supported-and-valid">tp_handles_supported_and_valid</a>      (<a class="link" href="telepathy-glib-handle-repo.html#TpHandleRepoIface">TpHandleRepoIface</a> *repos[NUM_TP_HANDLE_TYPES],
                                                         <a class="link" href="telepathy-glib-enums.html#TpHandleType">TpHandleType</a> handle_type,
                                                         const GArray *handles,
                                                         gboolean allow_zero,
                                                         GError **error);
void                <a class="link" href="telepathy-glib-handle-repo.html#tp-handle-ref">tp_handle_ref</a>                       (<a class="link" href="telepathy-glib-handle-repo.html#TpHandleRepoIface">TpHandleRepoIface</a> *self,
                                                         <a class="link" href="telepathy-glib-handle.html#TpHandle">TpHandle</a> handle);
void                <a class="link" href="telepathy-glib-handle-repo.html#tp-handles-ref">tp_handles_ref</a>                      (<a class="link" href="telepathy-glib-handle-repo.html#TpHandleRepoIface">TpHandleRepoIface</a> *self,
                                                         const GArray *handles);
void                <a class="link" href="telepathy-glib-handle-repo.html#tp-handle-unref">tp_handle_unref</a>                     (<a class="link" href="telepathy-glib-handle-repo.html#TpHandleRepoIface">TpHandleRepoIface</a> *self,
                                                         <a class="link" href="telepathy-glib-handle.html#TpHandle">TpHandle</a> handle);
void                <a class="link" href="telepathy-glib-handle-repo.html#tp-handles-unref">tp_handles_unref</a>                    (<a class="link" href="telepathy-glib-handle-repo.html#TpHandleRepoIface">TpHandleRepoIface</a> *self,
                                                         const GArray *handles);
gboolean            <a class="link" href="telepathy-glib-handle-repo.html#tp-handle-client-hold">tp_handle_client_hold</a>               (<a class="link" href="telepathy-glib-handle-repo.html#TpHandleRepoIface">TpHandleRepoIface</a> *self,
                                                         const gchar *client,
                                                         <a class="link" href="telepathy-glib-handle.html#TpHandle">TpHandle</a> handle,
                                                         GError **error);
gboolean            <a class="link" href="telepathy-glib-handle-repo.html#tp-handles-client-hold">tp_handles_client_hold</a>              (<a class="link" href="telepathy-glib-handle-repo.html#TpHandleRepoIface">TpHandleRepoIface</a> *self,
                                                         const gchar *client,
                                                         const GArray *handles,
                                                         GError **error);
gboolean            <a class="link" href="telepathy-glib-handle-repo.html#tp-handle-client-release">tp_handle_client_release</a>            (<a class="link" href="telepathy-glib-handle-repo.html#TpHandleRepoIface">TpHandleRepoIface</a> *self,
                                                         const gchar *client,
                                                         <a class="link" href="telepathy-glib-handle.html#TpHandle">TpHandle</a> handle,
                                                         GError **error);
gboolean            <a class="link" href="telepathy-glib-handle-repo.html#tp-handles-client-release">tp_handles_client_release</a>           (<a class="link" href="telepathy-glib-handle-repo.html#TpHandleRepoIface">TpHandleRepoIface</a> *self,
                                                         const gchar *client,
                                                         const GArray *handles,
                                                         GError **error);
const char*         <a class="link" href="telepathy-glib-handle-repo.html#tp-handle-inspect">tp_handle_inspect</a>                   (<a class="link" href="telepathy-glib-handle-repo.html#TpHandleRepoIface">TpHandleRepoIface</a> *self,
                                                         <a class="link" href="telepathy-glib-handle.html#TpHandle">TpHandle</a> handle);
void                <a class="link" href="telepathy-glib-handle-repo.html#tp-handle-set-qdata">tp_handle_set_qdata</a>                 (<a class="link" href="telepathy-glib-handle-repo.html#TpHandleRepoIface">TpHandleRepoIface</a> *repo,
                                                         <a class="link" href="telepathy-glib-handle.html#TpHandle">TpHandle</a> handle,
                                                         GQuark key_id,
                                                         gpointer data,
                                                         GDestroyNotify destroy);
gpointer            <a class="link" href="telepathy-glib-handle-repo.html#tp-handle-get-qdata">tp_handle_get_qdata</a>                 (<a class="link" href="telepathy-glib-handle-repo.html#TpHandleRepoIface">TpHandleRepoIface</a> *repo,
                                                         <a class="link" href="telepathy-glib-handle.html#TpHandle">TpHandle</a> handle,
                                                         GQuark key_id);
<a class="link" href="telepathy-glib-handle.html#TpHandle">TpHandle</a>            <a class="link" href="telepathy-glib-handle-repo.html#tp-handle-ensure">tp_handle_ensure</a>                    (<a class="link" href="telepathy-glib-handle-repo.html#TpHandleRepoIface">TpHandleRepoIface</a> *self,
                                                         const gchar *id,
                                                         gpointer context,
                                                         GError **error);
<a class="link" href="telepathy-glib-handle.html#TpHandle">TpHandle</a>            <a class="link" href="telepathy-glib-handle-repo.html#tp-handle-lookup">tp_handle_lookup</a>                    (<a class="link" href="telepathy-glib-handle-repo.html#TpHandleRepoIface">TpHandleRepoIface</a> *self,
                                                         const gchar *id,
                                                         gpointer context,
                                                         GError **error);


                    <a class="link" href="telepathy-glib-handle-repo.html#TpHandleSet">TpHandleSet</a>;
void                (<a class="link" href="telepathy-glib-handle-repo.html#TpHandleSetMemberFunc">*TpHandleSetMemberFunc</a>)            (<a class="link" href="telepathy-glib-handle-repo.html#TpHandleSet">TpHandleSet</a> *set,
                                                         <a class="link" href="telepathy-glib-handle.html#TpHandle">TpHandle</a> handle,
                                                         gpointer userdata);
<a class="link" href="telepathy-glib-handle-repo.html#TpHandleSet">TpHandleSet</a>*        <a class="link" href="telepathy-glib-handle-repo.html#tp-handle-set-new">tp_handle_set_new</a>                   (<a class="link" href="telepathy-glib-handle-repo.html#TpHandleRepoIface">TpHandleRepoIface</a> *repo);
void                <a class="link" href="telepathy-glib-handle-repo.html#tp-handle-set-destroy">tp_handle_set_destroy</a>               (<a class="link" href="telepathy-glib-handle-repo.html#TpHandleSet">TpHandleSet</a> *set);
<a class="link" href="telepathy-glib-TpIntSet.html#TpIntSet">TpIntSet</a>*           <a class="link" href="telepathy-glib-handle-repo.html#tp-handle-set-peek">tp_handle_set_peek</a>                  (<a class="link" href="telepathy-glib-handle-repo.html#TpHandleSet">TpHandleSet</a> *set);
void                <a class="link" href="telepathy-glib-handle-repo.html#tp-handle-set-add">tp_handle_set_add</a>                   (<a class="link" href="telepathy-glib-handle-repo.html#TpHandleSet">TpHandleSet</a> *set,
                                                         <a class="link" href="telepathy-glib-handle.html#TpHandle">TpHandle</a> handle);
gboolean            <a class="link" href="telepathy-glib-handle-repo.html#tp-handle-set-remove">tp_handle_set_remove</a>                (<a class="link" href="telepathy-glib-handle-repo.html#TpHandleSet">TpHandleSet</a> *set,
                                                         <a class="link" href="telepathy-glib-handle.html#TpHandle">TpHandle</a> handle);
gboolean            <a class="link" href="telepathy-glib-handle-repo.html#tp-handle-set-is-member">tp_handle_set_is_member</a>             (<a class="link" href="telepathy-glib-handle-repo.html#TpHandleSet">TpHandleSet</a> *set,
                                                         <a class="link" href="telepathy-glib-handle.html#TpHandle">TpHandle</a> handle);
void                <a class="link" href="telepathy-glib-handle-repo.html#tp-handle-set-foreach">tp_handle_set_foreach</a>               (<a class="link" href="telepathy-glib-handle-repo.html#TpHandleSet">TpHandleSet</a> *set,
                                                         <a class="link" href="telepathy-glib-handle-repo.html#TpHandleSetMemberFunc">TpHandleSetMemberFunc</a> func,
                                                         gpointer userdata);
int                 <a class="link" href="telepathy-glib-handle-repo.html#tp-handle-set-size">tp_handle_set_size</a>                  (<a class="link" href="telepathy-glib-handle-repo.html#TpHandleSet">TpHandleSet</a> *set);
GArray*             <a class="link" href="telepathy-glib-handle-repo.html#tp-handle-set-to-array">tp_handle_set_to_array</a>              (<a class="link" href="telepathy-glib-handle-repo.html#TpHandleSet">TpHandleSet</a> *set);
<a class="link" href="telepathy-glib-TpIntSet.html#TpIntSet">TpIntSet</a>*           <a class="link" href="telepathy-glib-handle-repo.html#tp-handle-set-update">tp_handle_set_update</a>                (<a class="link" href="telepathy-glib-handle-repo.html#TpHandleSet">TpHandleSet</a> *set,
                                                         const <a class="link" href="telepathy-glib-TpIntSet.html#TpIntSet">TpIntSet</a> *add);
<a class="link" href="telepathy-glib-TpIntSet.html#TpIntSet">TpIntSet</a>*           <a class="link" href="telepathy-glib-handle-repo.html#tp-handle-set-difference-update">tp_handle_set_difference_update</a>     (<a class="link" href="telepathy-glib-handle-repo.html#TpHandleSet">TpHandleSet</a> *set,
                                                         const <a class="link" href="telepathy-glib-TpIntSet.html#TpIntSet">TpIntSet</a> *remove);
</pre>
</div>
<div class="refsect1" lang="en">
<a name="id2710772"></a><h2>Object Hierarchy</h2>
<pre class="synopsis">

  GInterface
   +----TpHandleRepoIface
</pre>
</div>
<div class="refsect1" lang="en">
<a name="id2710793"></a><h2>Known Implementations</h2>
<p>
TpHandleRepoIface is implemented by
 <a class="link" href="TpDynamicHandleRepo.html" title="TpDynamicHandleRepo">TpDynamicHandleRepo</a> and  <a class="link" href="TpStaticHandleRepo.html" title="TpStaticHandleRepo">TpStaticHandleRepo</a>.</p>
</div>
<div class="refsect1" lang="en">
<a name="id2710817"></a><h2>Description</h2>
<p>
Abstract interface of a repository for handles, supporting operations
which include checking for validity, reference counting, lookup by
string value and lookup by numeric value. See <a class="link" href="TpDynamicHandleRepo.html" title="TpDynamicHandleRepo"><span class="type">TpDynamicHandleRepo</span></a>
and <a class="link" href="TpStaticHandleRepo.html" title="TpStaticHandleRepo"><span class="type">TpStaticHandleRepo</span></a> for concrete implementations.</p>
<p>

</p>
</div>
<div class="refsect1" lang="en">
<a name="id2710850"></a><h2>Details</h2>
<div class="refsect2" lang="en">
<a name="id2710859"></a><h3>
<a name="TpHandleRepoIface-struct"></a>TpHandleRepoIface</h3>
<a class="indexterm" name="id2710869"></a><pre class="programlisting">typedef struct _TpHandleRepoIface TpHandleRepoIface;</pre>
<p>
Dummy typedef representing any implementation of this interface.</p>
<p>

</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2710888"></a><h3>
<a name="TpHandleRepoIfaceClass"></a>TpHandleRepoIfaceClass</h3>
<a class="indexterm" name="id2710899"></a><pre class="programlisting">typedef struct _TpHandleRepoIfaceClass TpHandleRepoIfaceClass;</pre>
<p>
The class of a handle repository interface. The structure layout is
only available within telepathy-glib, for the handle repository
implementations' benefit.</p>
<p>

</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2710920"></a><h3>
<a name="tp-handle-is-valid"></a>tp_handle_is_valid ()</h3>
<a class="indexterm" name="id2710932"></a><pre class="programlisting">gboolean            tp_handle_is_valid                  (<a class="link" href="telepathy-glib-handle-repo.html#TpHandleRepoIface">TpHandleRepoIface</a> *self,
                                                         <a class="link" href="telepathy-glib-handle.html#TpHandle">TpHandle</a> handle,
                                                         GError **error);</pre>
<p>
</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>self</code></em>&#160;:</span></p></td>
<td> A handle repository implementation
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>handle</code></em>&#160;:</span></p></td>
<td> A handle of the type stored in the repository <em class="parameter"><code>self</code></em>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></p></td>
<td> Set to InvalidHandle if <code class="literal">FALSE</code> is returned
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> <code class="literal">TRUE</code> if the handle is nonzero and is present in the repository,
else <code class="literal">FALSE</code>
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2711071"></a><h3>
<a name="tp-handles-are-valid"></a>tp_handles_are_valid ()</h3>
<a class="indexterm" name="id2711083"></a><pre class="programlisting">gboolean            tp_handles_are_valid                (<a class="link" href="telepathy-glib-handle-repo.html#TpHandleRepoIface">TpHandleRepoIface</a> *self,
                                                         const GArray *handles,
                                                         gboolean allow_zero,
                                                         GError **error);</pre>
<p>
</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>self</code></em>&#160;:</span></p></td>
<td> A handle repository implementation
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>handles</code></em>&#160;:</span></p></td>
<td> Array of TpHandle representing handles of the type stored in
          the repository <em class="parameter"><code>self</code></em>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>allow_zero</code></em>&#160;:</span></p></td>
<td> If <code class="literal">TRUE</code>, zero is treated like a valid handle
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></p></td>
<td> Set to InvalidHandle if <code class="literal">FALSE</code> is returned
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> <code class="literal">TRUE</code> if the handle is present in the repository, else <code class="literal">FALSE</code>
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2711254"></a><h3>
<a name="tp-handles-supported-and-valid"></a>tp_handles_supported_and_valid ()</h3>
<a class="indexterm" name="id2711265"></a><pre class="programlisting">gboolean            tp_handles_supported_and_valid      (<a class="link" href="telepathy-glib-handle-repo.html#TpHandleRepoIface">TpHandleRepoIface</a> *repos[NUM_TP_HANDLE_TYPES],
                                                         <a class="link" href="telepathy-glib-enums.html#TpHandleType">TpHandleType</a> handle_type,
                                                         const GArray *handles,
                                                         gboolean allow_zero,
                                                         GError **error);</pre>
<p>
Return <code class="literal">TRUE</code> if the given handle type is supported (i.e. repos[handle_type]
is not <code class="literal">NULL</code>) and the given handles are all valid in that repository.
If not, set <em class="parameter"><code>error</code></em> and return <code class="literal">FALSE</code>.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>repos</code></em>&#160;:</span></p></td>
<td> An array of possibly null pointers to handle repositories, indexed
        by handle type, where a null pointer means an unsupported handle
        type
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>handle_type</code></em>&#160;:</span></p></td>
<td> The handle type
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>handles</code></em>&#160;:</span></p></td>
<td> A GArray of guint representing handles of the given type
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>allow_zero</code></em>&#160;:</span></p></td>
<td> If <code class="literal">TRUE</code>, zero is treated like a valid handle
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></p></td>
<td> Used to return an error if <code class="literal">FALSE</code> is returned
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> <code class="literal">TRUE</code> if the handle type is supported and the handles are all
valid.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2711481"></a><h3>
<a name="tp-handle-ref"></a>tp_handle_ref ()</h3>
<a class="indexterm" name="id2711493"></a><pre class="programlisting">void                tp_handle_ref                       (<a class="link" href="telepathy-glib-handle-repo.html#TpHandleRepoIface">TpHandleRepoIface</a> *self,
                                                         <a class="link" href="telepathy-glib-handle.html#TpHandle">TpHandle</a> handle);</pre>
<p>
Increase the reference count of the given handle, which must be present
in the repository. For repository implementations which never free handles
(like <a class="link" href="TpStaticHandleRepo.html" title="TpStaticHandleRepo"><span class="type">TpStaticHandleRepo</span></a>) this has no effect.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>self</code></em>&#160;:</span></p></td>
<td> A handle repository implementation
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>handle</code></em>&#160;:</span></p></td>
<td> A handle of the type stored in the repository
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2711575"></a><h3>
<a name="tp-handles-ref"></a>tp_handles_ref ()</h3>
<a class="indexterm" name="id2711587"></a><pre class="programlisting">void                tp_handles_ref                      (<a class="link" href="telepathy-glib-handle-repo.html#TpHandleRepoIface">TpHandleRepoIface</a> *self,
                                                         const GArray *handles);</pre>
<p>
Increase the reference count of the given handles. If a handle appears
multiple times in <em class="parameter"><code>handles</code></em> it will be referenced that many times. If
any zero entries appear in <em class="parameter"><code>handles</code></em> they will be ignored without error;
it is an error for any other invalid handle to appear in <em class="parameter"><code>handles</code></em>.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>self</code></em>&#160;:</span></p></td>
<td> A handle repository implementation
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>handles</code></em>&#160;:</span></p></td>
<td> A GArray of TpHandle representing handles
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2711682"></a><h3>
<a name="tp-handle-unref"></a>tp_handle_unref ()</h3>
<a class="indexterm" name="id2711694"></a><pre class="programlisting">void                tp_handle_unref                     (<a class="link" href="telepathy-glib-handle-repo.html#TpHandleRepoIface">TpHandleRepoIface</a> *self,
                                                         <a class="link" href="telepathy-glib-handle.html#TpHandle">TpHandle</a> handle);</pre>
<p>
Decrease the reference count of the given handle. If it reaches zero,
delete the handle. It is an error to attempt to unref a handle
which is not present in the repository.
</p>
<p>
For repository implementations which never free handles (like
<a class="link" href="TpStaticHandleRepo.html" title="TpStaticHandleRepo"><span class="type">TpStaticHandleRepo</span></a>) this has no effect.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>self</code></em>&#160;:</span></p></td>
<td> A handle repository implementation
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>handle</code></em>&#160;:</span></p></td>
<td> A handle of the type stored in the repository
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2711781"></a><h3>
<a name="tp-handles-unref"></a>tp_handles_unref ()</h3>
<a class="indexterm" name="id2711794"></a><pre class="programlisting">void                tp_handles_unref                    (<a class="link" href="telepathy-glib-handle-repo.html#TpHandleRepoIface">TpHandleRepoIface</a> *self,
                                                         const GArray *handles);</pre>
<p>
Decrease the reference count of the given handles. If a handle appears
multiple times in <em class="parameter"><code>handles</code></em> it will be dereferenced that many times. If
any zero entries appear in <em class="parameter"><code>handles</code></em> they will be ignored without error;
it is an error for any other invalid handle to appear in <em class="parameter"><code>handles</code></em>.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>self</code></em>&#160;:</span></p></td>
<td> A handle repository implementation
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>handles</code></em>&#160;:</span></p></td>
<td> A GArray of TpHandle representing handles
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2711888"></a><h3>
<a name="tp-handle-client-hold"></a>tp_handle_client_hold ()</h3>
<a class="indexterm" name="id2711899"></a><pre class="programlisting">gboolean            tp_handle_client_hold               (<a class="link" href="telepathy-glib-handle-repo.html#TpHandleRepoIface">TpHandleRepoIface</a> *self,
                                                         const gchar *client,
                                                         <a class="link" href="telepathy-glib-handle.html#TpHandle">TpHandle</a> handle,
                                                         GError **error);</pre>
<p>
Hold the given handle on behalf of the named client.
If the client leaves the bus, the reference is automatically discarded.
</p>
<p>
Handles held multiple times are the same as handles held
once: the client either holds a handle or it doesn't. In particular,
if you call <a class="link" href="telepathy-glib-handle-repo.html#tp-handle-client-hold"><code class="function">tp_handle_client_hold()</code></a> multiple times, then call
<a class="link" href="telepathy-glib-handle-repo.html#tp-handle-client-release"><code class="function">tp_handle_client_release()</code></a> just once, the client no longer holds the handle.
</p>
<p>
It is an error for <em class="parameter"><code>handle</code></em> not to be present in the repository.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>self</code></em>&#160;:</span></p></td>
<td> A handle repository implementation
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>client</code></em>&#160;:</span></p></td>
<td> The unique bus name of a D-Bus peer
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>handle</code></em>&#160;:</span></p></td>
<td> A handle of the type stored in the repository
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></p></td>
<td> Set if <code class="literal">FALSE</code> is returned
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> <code class="literal">TRUE</code> if the client name is valid; else <code class="literal">FALSE</code> with <em class="parameter"><code>error</code></em> set.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2712095"></a><h3>
<a name="tp-handles-client-hold"></a>tp_handles_client_hold ()</h3>
<a class="indexterm" name="id2712106"></a><pre class="programlisting">gboolean            tp_handles_client_hold              (<a class="link" href="telepathy-glib-handle-repo.html#TpHandleRepoIface">TpHandleRepoIface</a> *self,
                                                         const gchar *client,
                                                         const GArray *handles,
                                                         GError **error);</pre>
<p>
Hold the given handles on behalf of the named client.
If the client leaves the bus, the reference is automatically discarded.
</p>
<p>
If any of the handles are zero they will be ignored without error.
It is an error for any other invalid handle to be in <em class="parameter"><code>handles</code></em>:
the caller is expected to have validated them first, e.g. using
<a class="link" href="telepathy-glib-handle-repo.html#tp-handles-are-valid"><code class="function">tp_handles_are_valid()</code></a>.
</p>
<p>
Handles appearing multiple times are the same as handles appearing
once: the client either holds a handle or it doesn't.
</p>
<p>
If <code class="literal">FALSE</code> is returned, the reference counts of all handles are unaffected
(the function either fails completely or succeeds completely).</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>self</code></em>&#160;:</span></p></td>
<td> A handle repository implementation
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>client</code></em>&#160;:</span></p></td>
<td> The D-Bus unique name of a client
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>handles</code></em>&#160;:</span></p></td>
<td> A GArray of TpHandle representing handles
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></p></td>
<td> Used to return an error if <code class="literal">FALSE</code> is returned
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> <code class="literal">TRUE</code> if the client name is valid; else <code class="literal">FALSE</code> with <em class="parameter"><code>error</code></em> set.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2712309"></a><h3>
<a name="tp-handle-client-release"></a>tp_handle_client_release ()</h3>
<a class="indexterm" name="id2712320"></a><pre class="programlisting">gboolean            tp_handle_client_release            (<a class="link" href="telepathy-glib-handle-repo.html#TpHandleRepoIface">TpHandleRepoIface</a> *self,
                                                         const gchar *client,
                                                         <a class="link" href="telepathy-glib-handle.html#TpHandle">TpHandle</a> handle,
                                                         GError **error);</pre>
<p>
If the named client holds the given handle, release it.
If this causes the reference count to become zero, delete the handle.
</p>
<p>
For repository implementations which never free handles (like
<a class="link" href="TpStaticHandleRepo.html" title="TpStaticHandleRepo"><span class="type">TpStaticHandleRepo</span></a>) this has no effect.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>self</code></em>&#160;:</span></p></td>
<td> A handle repository implementation
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>client</code></em>&#160;:</span></p></td>
<td> The unique bus name of a D-Bus peer
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>handle</code></em>&#160;:</span></p></td>
<td> A handle of the type stored in the repository
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></p></td>
<td> Set if <code class="literal">FALSE</code> is returned
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> <code class="literal">TRUE</code> if the client name is valid and the client previously held
a reference to the handle, else <code class="literal">FALSE</code>.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2712470"></a><h3>
<a name="tp-handles-client-release"></a>tp_handles_client_release ()</h3>
<a class="indexterm" name="id2712480"></a><pre class="programlisting">gboolean            tp_handles_client_release           (<a class="link" href="telepathy-glib-handle-repo.html#TpHandleRepoIface">TpHandleRepoIface</a> *self,
                                                         const gchar *client,
                                                         const GArray *handles,
                                                         GError **error);</pre>
<p>
Releases a reference to the given handles on behalf of the named client.
</p>
<p>
If any of the handles are zero they will be ignored without error.
It is an error for any other invalid handle to be in <em class="parameter"><code>handles</code></em>:
the caller is expected to have validated them first, e.g. using
<a class="link" href="telepathy-glib-handle-repo.html#tp-handles-are-valid"><code class="function">tp_handles_are_valid()</code></a>.
</p>
<p>
If <code class="literal">FALSE</code> is returned, the reference counts of all handles are unaffected
(the function either fails completely or succeeds completely).</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>self</code></em>&#160;:</span></p></td>
<td> A handle repository implementation
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>client</code></em>&#160;:</span></p></td>
<td> The D-Bus unique name of a client
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>handles</code></em>&#160;:</span></p></td>
<td> A GArray of TpHandle representing handles
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></p></td>
<td> Used to return an error if <code class="literal">FALSE</code> is returned
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> <code class="literal">TRUE</code> if the client name is valid and the client previously held
a reference to all the handles, else <code class="literal">FALSE</code>.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2712654"></a><h3>
<a name="tp-handle-inspect"></a>tp_handle_inspect ()</h3>
<a class="indexterm" name="id2712665"></a><pre class="programlisting">const char*         tp_handle_inspect                   (<a class="link" href="telepathy-glib-handle-repo.html#TpHandleRepoIface">TpHandleRepoIface</a> *self,
                                                         <a class="link" href="telepathy-glib-handle.html#TpHandle">TpHandle</a> handle);</pre>
<p>
</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>self</code></em>&#160;:</span></p></td>
<td> A handle repository implementation
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>handle</code></em>&#160;:</span></p></td>
<td> A handle of the type stored in the repository
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> the string represented by the given handle, or NULL if the
handle is absent from the repository. The string is owned by the
handle repository and will remain valid as long as a reference to
the handle exists.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2712745"></a><h3>
<a name="tp-handle-set-qdata"></a>tp_handle_set_qdata ()</h3>
<a class="indexterm" name="id2712755"></a><pre class="programlisting">void                tp_handle_set_qdata                 (<a class="link" href="telepathy-glib-handle-repo.html#TpHandleRepoIface">TpHandleRepoIface</a> *repo,
                                                         <a class="link" href="telepathy-glib-handle.html#TpHandle">TpHandle</a> handle,
                                                         GQuark key_id,
                                                         gpointer data,
                                                         GDestroyNotify destroy);</pre>
<p>
Associates a blob of data with a given handle and a given key
</p>
<p>
If <em class="parameter"><code>destroy</code></em> is set, then the data is freed when the handle is freed.
</p>
<p>
Inspecting the return value from this function is deprecated; it will
be declared void in a future release.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>repo</code></em>&#160;:</span></p></td>
<td> A handle repository implementation
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>handle</code></em>&#160;:</span></p></td>
<td> A handle to set data on
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>key_id</code></em>&#160;:</span></p></td>
<td> Key id to associate data with
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>data</code></em>&#160;:</span></p></td>
<td> data to associate with handle
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>destroy</code></em>&#160;:</span></p></td>
<td> A <span class="type">GDestroyNotify</span> to call to destroy the data,
          or NULL if not needed.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2712899"></a><h3>
<a name="tp-handle-get-qdata"></a>tp_handle_get_qdata ()</h3>
<a class="indexterm" name="id2712910"></a><pre class="programlisting">gpointer            tp_handle_get_qdata                 (<a class="link" href="telepathy-glib-handle-repo.html#TpHandleRepoIface">TpHandleRepoIface</a> *repo,
                                                         <a class="link" href="telepathy-glib-handle.html#TpHandle">TpHandle</a> handle,
                                                         GQuark key_id);</pre>
<p>
</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>repo</code></em>&#160;:</span></p></td>
<td> A handle repository implementation
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>handle</code></em>&#160;:</span></p></td>
<td> A handle to get data from
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>key_id</code></em>&#160;:</span></p></td>
<td> Key id of data to fetch
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> the data associated with a given key on a given handle; <code class="literal">NULL</code>
if there is no associated data.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2713013"></a><h3>
<a name="tp-handle-ensure"></a>tp_handle_ensure ()</h3>
<a class="indexterm" name="id2713024"></a><pre class="programlisting"><a class="link" href="telepathy-glib-handle.html#TpHandle">TpHandle</a>            tp_handle_ensure                    (<a class="link" href="telepathy-glib-handle-repo.html#TpHandleRepoIface">TpHandleRepoIface</a> *self,
                                                         const gchar *id,
                                                         gpointer context,
                                                         GError **error);</pre>
<p>
Return a new reference to the handle for the given string. The handle
is normalized, if possible. If no such handle exists it will be created.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>self</code></em>&#160;:</span></p></td>
<td> A handle repository implementation
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>id</code></em>&#160;:</span></p></td>
<td> A string whose handle is required
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>context</code></em>&#160;:</span></p></td>
<td> User data to be passed to the normalization callback
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></p></td>
<td> Used to return an error if 0 is returned
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> the handle corresponding to the given string, or 0 if it
is invalid.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2713142"></a><h3>
<a name="tp-handle-lookup"></a>tp_handle_lookup ()</h3>
<a class="indexterm" name="id2713152"></a><pre class="programlisting"><a class="link" href="telepathy-glib-handle.html#TpHandle">TpHandle</a>            tp_handle_lookup                    (<a class="link" href="telepathy-glib-handle-repo.html#TpHandleRepoIface">TpHandleRepoIface</a> *self,
                                                         const gchar *id,
                                                         gpointer context,
                                                         GError **error);</pre>
<p>
Return the handle for the given string, without incrementing its
reference count. The handle is normalized if possible.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>self</code></em>&#160;:</span></p></td>
<td> A handle repository implementation
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>id</code></em>&#160;:</span></p></td>
<td> A string whose handle is required
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>context</code></em>&#160;:</span></p></td>
<td> User data to be passed to the normalization callback
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></p></td>
<td> Used to raise an error if the handle does not exist or is
 invalid
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> the handle corresponding to the given string, or 0 if it
does not exist or is invalid
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2713270"></a><h3>
<a name="TpHandleSet"></a>TpHandleSet</h3>
<a class="indexterm" name="id2713281"></a><pre class="programlisting">typedef struct _TpHandleSet TpHandleSet;</pre>
<p>
A set of handles. This is similar to a <a class="link" href="telepathy-glib-TpIntSet.html#TpIntSet"><span class="type">TpIntSet</span></a> (and implemented using
one), but adding a handle to the set also references it.</p>
<p>

</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2713307"></a><h3>
<a name="TpHandleSetMemberFunc"></a>TpHandleSetMemberFunc ()</h3>
<a class="indexterm" name="id2713317"></a><pre class="programlisting">void                (*TpHandleSetMemberFunc)            (<a class="link" href="telepathy-glib-handle-repo.html#TpHandleSet">TpHandleSet</a> *set,
                                                         <a class="link" href="telepathy-glib-handle.html#TpHandle">TpHandle</a> handle,
                                                         gpointer userdata);</pre>
<p>
Signature of the callback used to iterate over the handle set in
<a class="link" href="telepathy-glib-handle-repo.html#tp-handle-set-foreach"><code class="function">tp_handle_set_foreach()</code></a>.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>set</code></em>&#160;:</span></p></td>
<td> The set of handles on which <a class="link" href="telepathy-glib-handle-repo.html#tp-handle-set-foreach"><code class="function">tp_handle_set_foreach()</code></a> was called
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>handle</code></em>&#160;:</span></p></td>
<td> A handle in the set
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>userdata</code></em>&#160;:</span></p></td>
<td> Arbitrary user data as supplied to <a class="link" href="telepathy-glib-handle-repo.html#tp-handle-set-foreach"><code class="function">tp_handle_set_foreach()</code></a>
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2713427"></a><h3>
<a name="tp-handle-set-new"></a>tp_handle_set_new ()</h3>
<a class="indexterm" name="id2713437"></a><pre class="programlisting"><a class="link" href="telepathy-glib-handle-repo.html#TpHandleSet">TpHandleSet</a>*        tp_handle_set_new                   (<a class="link" href="telepathy-glib-handle-repo.html#TpHandleRepoIface">TpHandleRepoIface</a> *repo);</pre>
<p>
Creates a new <a class="link" href="telepathy-glib-handle-repo.html#TpHandleSet"><span class="type">TpHandleSet</span></a></p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>repo</code></em>&#160;:</span></p></td>
<td> <span class="type">TpHandleRepo</span> that holds the handles to be reffed by this set
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> A new <a class="link" href="telepathy-glib-handle-repo.html#TpHandleSet"><span class="type">TpHandleSet</span></a>
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2713510"></a><h3>
<a name="tp-handle-set-destroy"></a>tp_handle_set_destroy ()</h3>
<a class="indexterm" name="id2713520"></a><pre class="programlisting">void                tp_handle_set_destroy               (<a class="link" href="telepathy-glib-handle-repo.html#TpHandleSet">TpHandleSet</a> *set);</pre>
<p>
Delete a <a class="link" href="telepathy-glib-handle-repo.html#TpHandleSet"><span class="type">TpHandleSet</span></a> and unreference any handles that it holds</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><p><span class="term"><em class="parameter"><code>set</code></em>&#160;:</span></p></td>
<td>
<a class="link" href="telepathy-glib-handle-repo.html#TpHandleSet"><span class="type">TpHandleSet</span></a> to destroy
</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2713576"></a><h3>
<a name="tp-handle-set-peek"></a>tp_handle_set_peek ()</h3>
<a class="indexterm" name="id2713587"></a><pre class="programlisting"><a class="link" href="telepathy-glib-TpIntSet.html#TpIntSet">TpIntSet</a>*           tp_handle_set_peek                  (<a class="link" href="telepathy-glib-handle-repo.html#TpHandleSet">TpHandleSet</a> *set);</pre>
<p>
</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>set</code></em>&#160;:</span></p></td>
<td>
<a class="link" href="telepathy-glib-handle-repo.html#TpHandleSet"><span class="type">TpHandleSet</span></a> to peek at
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> the underlying <a class="link" href="telepathy-glib-TpIntSet.html#TpIntSet"><span class="type">TpIntSet</span></a> used by this <a class="link" href="telepathy-glib-handle-repo.html#TpHandleSet"><span class="type">TpHandleSet</span></a>
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2713660"></a><h3>
<a name="tp-handle-set-add"></a>tp_handle_set_add ()</h3>
<a class="indexterm" name="id2713670"></a><pre class="programlisting">void                tp_handle_set_add                   (<a class="link" href="telepathy-glib-handle-repo.html#TpHandleSet">TpHandleSet</a> *set,
                                                         <a class="link" href="telepathy-glib-handle.html#TpHandle">TpHandle</a> handle);</pre>
<p>
Add a handle to a <a class="link" href="telepathy-glib-handle-repo.html#TpHandleSet"><span class="type">TpHandleSet</span></a>,and reference it in the attched
<span class="type">TpHandleRepo</span></p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>set</code></em>&#160;:</span></p></td>
<td> <a class="link" href="telepathy-glib-handle-repo.html#TpHandleSet"><span class="type">TpHandleSet</span></a> to add this handle to
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>handle</code></em>&#160;:</span></p></td>
<td> handle to add
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2713752"></a><h3>
<a name="tp-handle-set-remove"></a>tp_handle_set_remove ()</h3>
<a class="indexterm" name="id2713762"></a><pre class="programlisting">gboolean            tp_handle_set_remove                (<a class="link" href="telepathy-glib-handle-repo.html#TpHandleSet">TpHandleSet</a> *set,
                                                         <a class="link" href="telepathy-glib-handle.html#TpHandle">TpHandle</a> handle);</pre>
<p>
Remove a handle to a <a class="link" href="telepathy-glib-handle-repo.html#TpHandleSet"><span class="type">TpHandleSet</span></a>,and unreference it in the attched
<span class="type">TpHandleRepo</span></p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>set</code></em>&#160;:</span></p></td>
<td> <a class="link" href="telepathy-glib-handle-repo.html#TpHandleSet"><span class="type">TpHandleSet</span></a> to remove this handle from
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>handle</code></em>&#160;:</span></p></td>
<td> handle to remove
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> FALSE if the handle was invalid, or was not in this set
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2713855"></a><h3>
<a name="tp-handle-set-is-member"></a>tp_handle_set_is_member ()</h3>
<a class="indexterm" name="id2713865"></a><pre class="programlisting">gboolean            tp_handle_set_is_member             (<a class="link" href="telepathy-glib-handle-repo.html#TpHandleSet">TpHandleSet</a> *set,
                                                         <a class="link" href="telepathy-glib-handle.html#TpHandle">TpHandle</a> handle);</pre>
<p>
Check if the handle is in this set</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>set</code></em>&#160;:</span></p></td>
<td> A <a class="link" href="telepathy-glib-handle-repo.html#TpHandleSet"><span class="type">TpHandleSet</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>handle</code></em>&#160;:</span></p></td>
<td> handle to check
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> TRUE if the handle is in this set

</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2713946"></a><h3>
<a name="tp-handle-set-foreach"></a>tp_handle_set_foreach ()</h3>
<a class="indexterm" name="id2713956"></a><pre class="programlisting">void                tp_handle_set_foreach               (<a class="link" href="telepathy-glib-handle-repo.html#TpHandleSet">TpHandleSet</a> *set,
                                                         <a class="link" href="telepathy-glib-handle-repo.html#TpHandleSetMemberFunc">TpHandleSetMemberFunc</a> func,
                                                         gpointer userdata);</pre>
<p>
Call <em class="parameter"><code>func</code></em>(<em class="parameter"><code>set</code></em>, <em class="parameter"><code>handle</code></em>, <em class="parameter"><code>userdata</code></em>) for each handle in <em class="parameter"><code>set</code></em>.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>set</code></em>&#160;:</span></p></td>
<td> A set of handles
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>func</code></em>&#160;:</span></p></td>
<td> A callback
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>userdata</code></em>&#160;:</span></p></td>
<td> Arbitrary data to pass to <em class="parameter"><code>func</code></em>
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2714069"></a><h3>
<a name="tp-handle-set-size"></a>tp_handle_set_size ()</h3>
<a class="indexterm" name="id2714080"></a><pre class="programlisting">int                 tp_handle_set_size                  (<a class="link" href="telepathy-glib-handle-repo.html#TpHandleSet">TpHandleSet</a> *set);</pre>
<p>
</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>set</code></em>&#160;:</span></p></td>
<td> A set of handles
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> the number of handles in this set
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2714136"></a><h3>
<a name="tp-handle-set-to-array"></a>tp_handle_set_to_array ()</h3>
<a class="indexterm" name="id2714146"></a><pre class="programlisting">GArray*             tp_handle_set_to_array              (<a class="link" href="telepathy-glib-handle-repo.html#TpHandleSet">TpHandleSet</a> *set);</pre>
<p>
</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>set</code></em>&#160;:</span></p></td>
<td> A handle set
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> a newly-allocated GArray of guint representing the handles
in the set
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2714203"></a><h3>
<a name="tp-handle-set-update"></a>tp_handle_set_update ()</h3>
<a class="indexterm" name="id2714214"></a><pre class="programlisting"><a class="link" href="telepathy-glib-TpIntSet.html#TpIntSet">TpIntSet</a>*           tp_handle_set_update                (<a class="link" href="telepathy-glib-handle-repo.html#TpHandleSet">TpHandleSet</a> *set,
                                                         const <a class="link" href="telepathy-glib-TpIntSet.html#TpIntSet">TpIntSet</a> *add);</pre>
<p>
Add a set of handles to a handle set, referencing those which are not
already members. The TpIntSet returned must be freed with tp_intset_destroy.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>set</code></em>&#160;:</span></p></td>
<td> a <a class="link" href="telepathy-glib-handle-repo.html#TpHandleSet"><span class="type">TpHandleSet</span></a> to update
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>add</code></em>&#160;:</span></p></td>
<td> a <a class="link" href="telepathy-glib-TpIntSet.html#TpIntSet"><span class="type">TpIntSet</span></a> of handles to add
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> the handles which were added (some subset of <em class="parameter"><code>add</code></em>)
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2714308"></a><h3>
<a name="tp-handle-set-difference-update"></a>tp_handle_set_difference_update ()</h3>
<a class="indexterm" name="id2714320"></a><pre class="programlisting"><a class="link" href="telepathy-glib-TpIntSet.html#TpIntSet">TpIntSet</a>*           tp_handle_set_difference_update     (<a class="link" href="telepathy-glib-handle-repo.html#TpHandleSet">TpHandleSet</a> *set,
                                                         const <a class="link" href="telepathy-glib-TpIntSet.html#TpIntSet">TpIntSet</a> *remove);</pre>
<p>
Remove a set of handles from a handle set, dereferencing those which are
members. The TpIntSet returned must be freed with tp_intset_destroy.
</p>
<p>
If you want to be able to inspect the handles in the set returned,
you must ensure that this function does not cause their refcount to drop
to zero, for instance by temporarily taking a reference to all the
handles in <em class="parameter"><code>remove</code></em>, calling this function, doing something with the
result and discarding the temporary references.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>set</code></em>&#160;:</span></p></td>
<td> a <a class="link" href="telepathy-glib-handle-repo.html#TpHandleSet"><span class="type">TpHandleSet</span></a> to update
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>remove</code></em>&#160;:</span></p></td>
<td> a <a class="link" href="telepathy-glib-TpIntSet.html#TpIntSet"><span class="type">TpIntSet</span></a> of handles to remove
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> the handles which were dereferenced and removed (some subset
 of <em class="parameter"><code>remove</code></em>).
</td>
</tr>
</tbody>
</table></div>
</div>
</div>
<div class="refsect1" lang="en">
<a name="id2714430"></a><h2>See Also</h2>
TpDynamicHandleRepo, TpStaticHandleRepo
</div>
<div class="refsect1" lang="en">
<a name="id2714437"></a><div class="refsect2" lang="en"><a name="id2714438"></a></div>
<hr>
<div class="refsect2" lang="en"><a name="id2714439"></a></div>
</div>
</div>
</body>
</html>
