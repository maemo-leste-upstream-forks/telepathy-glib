<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>TpChannelDispatchOperation</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.75.2">
<link rel="home" href="index.html" title="telepathy-glib Reference Manual">
<link rel="up" href="ch-client.html" title="Client-side proxies">
<link rel="prev" href="telepathy-glib-channel-dispatcher.html" title="TpChannelDispatcher">
<link rel="next" href="telepathy-glib-channel-request.html" title="TpChannelRequest">
<meta name="generator" content="GTK-Doc V1.11 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
<link rel="chapter" href="ch-dbus.html" title="General D-Bus support">
<link rel="chapter" href="ch-protocol.html" title="The Telepathy protocol">
<link rel="chapter" href="ch-client.html" title="Client-side proxies">
<link rel="chapter" href="ch-service-dbus.html" title="Service-side D-Bus interfaces">
<link rel="chapter" href="ch-service-base.html" title="Service-side implementation">
<link rel="chapter" href="ch-service-handles.html" title="Service-side handle repositories">
<link rel="chapter" href="ch-utilities.html" title="Utilities">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2">
<tr valign="middle">
<td><a accesskey="p" href="telepathy-glib-channel-dispatcher.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td>
<td><a accesskey="u" href="ch-client.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td>
<th width="100%" align="center">telepathy-glib Reference Manual</th>
<td><a accesskey="n" href="telepathy-glib-channel-request.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td>
</tr>
<tr><td colspan="5" class="shortcuts">
<a href="#telepathy-glib-channel-dispatch-operation.synopsis" class="shortcut">Top</a>
                 | 
                <a href="#telepathy-glib-channel-dispatch-operation.description" class="shortcut">Description</a>
                 | 
                <a href="#telepathy-glib-channel-dispatch-operation.object-hierarchy" class="shortcut">Object Hierarchy</a>
</td></tr>
</table>
<div class="refentry" title="TpChannelDispatchOperation">
<a name="telepathy-glib-channel-dispatch-operation"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2><span class="refentrytitle"><a name="telepathy-glib-channel-dispatch-operation.top_of_page"></a>TpChannelDispatchOperation</span></h2>
<p>TpChannelDispatchOperation — proxy object for a to the Telepathy channel
 dispatcher</p>
</td>
<td valign="top" align="right"></td>
</tr></table></div>
<div class="refsynopsisdiv" title="Synopsis">
<a name="telepathy-glib-channel-dispatch-operation.synopsis"></a><h2>Synopsis</h2>
<a name="TpChannelDispatchOperation"></a><pre class="synopsis">

#include &lt;telepathy-glib/channel-dispatch-operation.h&gt;

struct              <a class="link" href="telepathy-glib-channel-dispatch-operation.html#TpChannelDispatchOperation-struct" title="struct TpChannelDispatchOperation">TpChannelDispatchOperation</a>;
struct              <a class="link" href="telepathy-glib-channel-dispatch-operation.html#TpChannelDispatchOperationClass" title="struct TpChannelDispatchOperationClass">TpChannelDispatchOperationClass</a>;
<a class="link" href="telepathy-glib-channel-dispatch-operation.html#TpChannelDispatchOperation">TpChannelDispatchOperation</a> * <a class="link" href="telepathy-glib-channel-dispatch-operation.html#tp-channel-dispatch-operation-new" title="tp_channel_dispatch_operation_new ()">tp_channel_dispatch_operation_new</a>
                                                        (<a class="link" href="telepathy-glib-dbus.html#TpDBusDaemon">TpDBusDaemon</a> *bus_daemon,
                                                         const <a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"
>gchar</a> *object_path,
                                                         <a
href="http://library.gnome.org/devel/glib/unstable/glib-Hash-Tables.html#GHashTable"
>GHashTable</a> *immutable_properties,
                                                         <a
href="http://library.gnome.org/devel/glib/unstable/glib-Error-Reporting.html#GError"
>GError</a> **error);
void                <a class="link" href="telepathy-glib-channel-dispatch-operation.html#tp-channel-dispatch-operation-init-known-interfaces" title="tp_channel_dispatch_operation_init_known_interfaces ()">tp_channel_dispatch_operation_init_known_interfaces</a>
                                                        (void);

void                (<a class="link" href="telepathy-glib-channel-dispatch-operation.html#tp-cli-channel-dispatch-operation-callback-for-claim" title="tp_cli_channel_dispatch_operation_callback_for_claim ()">*tp_cli_channel_dispatch_operation_callback_for_claim</a>)
                                                        (<a class="link" href="telepathy-glib-channel-dispatch-operation.html#TpChannelDispatchOperation">TpChannelDispatchOperation</a> *proxy,
                                                         const <a
href="http://library.gnome.org/devel/glib/unstable/glib-Error-Reporting.html#GError"
>GError</a> *error,
                                                         <a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gpointer"
>gpointer</a> user_data,
                                                         <a
href="http://library.gnome.org/devel/gobject/unstable/gobject-The-Base-Object-Type.html#GObject"
>GObject</a> *weak_object);
<a class="link" href="telepathy-glib-proxy.html#TpProxyPendingCall" title="TpProxyPendingCall">TpProxyPendingCall</a> * <a class="link" href="telepathy-glib-channel-dispatch-operation.html#tp-cli-channel-dispatch-operation-call-claim" title="tp_cli_channel_dispatch_operation_call_claim ()">tp_cli_channel_dispatch_operation_call_claim</a>
                                                        (<a class="link" href="telepathy-glib-channel-dispatch-operation.html#TpChannelDispatchOperation">TpChannelDispatchOperation</a> *proxy,
                                                         <a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gint"
>gint</a> timeout_ms,
                                                         <a class="link" href="telepathy-glib-channel-dispatch-operation.html#tp-cli-channel-dispatch-operation-callback-for-claim" title="tp_cli_channel_dispatch_operation_callback_for_claim ()">tp_cli_channel_dispatch_operation_callback_for_claim</a> callback,
                                                         <a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gpointer"
>gpointer</a> user_data,
                                                         <a
href="http://library.gnome.org/devel/glib/unstable/glib-Datasets.html#GDestroyNotify"
>GDestroyNotify</a> destroy,
                                                         <a
href="http://library.gnome.org/devel/gobject/unstable/gobject-The-Base-Object-Type.html#GObject"
>GObject</a> *weak_object);
void                (<a class="link" href="telepathy-glib-channel-dispatch-operation.html#tp-cli-channel-dispatch-operation-callback-for-handle-with" title="tp_cli_channel_dispatch_operation_callback_for_handle_with ()">*tp_cli_channel_dispatch_operation_callback_for_handle_with</a>)
                                                        (<a class="link" href="telepathy-glib-channel-dispatch-operation.html#TpChannelDispatchOperation">TpChannelDispatchOperation</a> *proxy,
                                                         const <a
href="http://library.gnome.org/devel/glib/unstable/glib-Error-Reporting.html#GError"
>GError</a> *error,
                                                         <a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gpointer"
>gpointer</a> user_data,
                                                         <a
href="http://library.gnome.org/devel/gobject/unstable/gobject-The-Base-Object-Type.html#GObject"
>GObject</a> *weak_object);
<a class="link" href="telepathy-glib-proxy.html#TpProxyPendingCall" title="TpProxyPendingCall">TpProxyPendingCall</a> * <a class="link" href="telepathy-glib-channel-dispatch-operation.html#tp-cli-channel-dispatch-operation-call-handle-with" title="tp_cli_channel_dispatch_operation_call_handle_with ()">tp_cli_channel_dispatch_operation_call_handle_with</a>
                                                        (<a class="link" href="telepathy-glib-channel-dispatch-operation.html#TpChannelDispatchOperation">TpChannelDispatchOperation</a> *proxy,
                                                         <a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gint"
>gint</a> timeout_ms,
                                                         const <a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"
>gchar</a> *in_Handler,
                                                         <a class="link" href="telepathy-glib-channel-dispatch-operation.html#tp-cli-channel-dispatch-operation-callback-for-handle-with" title="tp_cli_channel_dispatch_operation_callback_for_handle_with ()">tp_cli_channel_dispatch_operation_callback_for_handle_with</a> callback,
                                                         <a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gpointer"
>gpointer</a> user_data,
                                                         <a
href="http://library.gnome.org/devel/glib/unstable/glib-Datasets.html#GDestroyNotify"
>GDestroyNotify</a> destroy,
                                                         <a
href="http://library.gnome.org/devel/gobject/unstable/gobject-The-Base-Object-Type.html#GObject"
>GObject</a> *weak_object);
void                (<a class="link" href="telepathy-glib-channel-dispatch-operation.html#tp-cli-channel-dispatch-operation-signal-callback-channel-lost" title="tp_cli_channel_dispatch_operation_signal_callback_channel_lost ()">*tp_cli_channel_dispatch_operation_signal_callback_channel_lost</a>)
                                                        (<a class="link" href="telepathy-glib-channel-dispatch-operation.html#TpChannelDispatchOperation">TpChannelDispatchOperation</a> *proxy,
                                                         const <a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"
>gchar</a> *arg_Channel,
                                                         const <a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"
>gchar</a> *arg_Error,
                                                         const <a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"
>gchar</a> *arg_Message,
                                                         <a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gpointer"
>gpointer</a> user_data,
                                                         <a
href="http://library.gnome.org/devel/gobject/unstable/gobject-The-Base-Object-Type.html#GObject"
>GObject</a> *weak_object);
<a class="link" href="telepathy-glib-proxy.html#TpProxySignalConnection" title="TpProxySignalConnection">TpProxySignalConnection</a> * <a class="link" href="telepathy-glib-channel-dispatch-operation.html#tp-cli-channel-dispatch-operation-connect-to-channel-lost" title="tp_cli_channel_dispatch_operation_connect_to_channel_lost ()">tp_cli_channel_dispatch_operation_connect_to_channel_lost</a>
                                                        (<a class="link" href="telepathy-glib-channel-dispatch-operation.html#TpChannelDispatchOperation">TpChannelDispatchOperation</a> *proxy,
                                                         <a class="link" href="telepathy-glib-channel-dispatch-operation.html#tp-cli-channel-dispatch-operation-signal-callback-channel-lost" title="tp_cli_channel_dispatch_operation_signal_callback_channel_lost ()">tp_cli_channel_dispatch_operation_signal_callback_channel_lost</a> callback,
                                                         <a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gpointer"
>gpointer</a> user_data,
                                                         <a
href="http://library.gnome.org/devel/glib/unstable/glib-Datasets.html#GDestroyNotify"
>GDestroyNotify</a> destroy,
                                                         <a
href="http://library.gnome.org/devel/gobject/unstable/gobject-The-Base-Object-Type.html#GObject"
>GObject</a> *weak_object,
                                                         <a
href="http://library.gnome.org/devel/glib/unstable/glib-Error-Reporting.html#GError"
>GError</a> **error);
void                (<a class="link" href="telepathy-glib-channel-dispatch-operation.html#tp-cli-channel-dispatch-operation-signal-callback-finished" title="tp_cli_channel_dispatch_operation_signal_callback_finished ()">*tp_cli_channel_dispatch_operation_signal_callback_finished</a>)
                                                        (<a class="link" href="telepathy-glib-channel-dispatch-operation.html#TpChannelDispatchOperation">TpChannelDispatchOperation</a> *proxy,
                                                         <a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gpointer"
>gpointer</a> user_data,
                                                         <a
href="http://library.gnome.org/devel/gobject/unstable/gobject-The-Base-Object-Type.html#GObject"
>GObject</a> *weak_object);
<a class="link" href="telepathy-glib-proxy.html#TpProxySignalConnection" title="TpProxySignalConnection">TpProxySignalConnection</a> * <a class="link" href="telepathy-glib-channel-dispatch-operation.html#tp-cli-channel-dispatch-operation-connect-to-finished" title="tp_cli_channel_dispatch_operation_connect_to_finished ()">tp_cli_channel_dispatch_operation_connect_to_finished</a>
                                                        (<a class="link" href="telepathy-glib-channel-dispatch-operation.html#TpChannelDispatchOperation">TpChannelDispatchOperation</a> *proxy,
                                                         <a class="link" href="telepathy-glib-channel-dispatch-operation.html#tp-cli-channel-dispatch-operation-signal-callback-finished" title="tp_cli_channel_dispatch_operation_signal_callback_finished ()">tp_cli_channel_dispatch_operation_signal_callback_finished</a> callback,
                                                         <a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gpointer"
>gpointer</a> user_data,
                                                         <a
href="http://library.gnome.org/devel/glib/unstable/glib-Datasets.html#GDestroyNotify"
>GDestroyNotify</a> destroy,
                                                         <a
href="http://library.gnome.org/devel/gobject/unstable/gobject-The-Base-Object-Type.html#GObject"
>GObject</a> *weak_object,
                                                         <a
href="http://library.gnome.org/devel/glib/unstable/glib-Error-Reporting.html#GError"
>GError</a> **error);
</pre>
</div>
<div class="refsect1" title="Object Hierarchy">
<a name="telepathy-glib-channel-dispatch-operation.object-hierarchy"></a><h2>Object Hierarchy</h2>
<pre class="synopsis">
  <a
href="http://library.gnome.org/devel/gobject/unstable/gobject-The-Base-Object-Type.html#GObject"
>GObject</a>
   +----<a class="link" href="telepathy-glib-proxy.html#TpProxy">TpProxy</a>
         +----TpChannelDispatchOperation
</pre>
</div>
<div class="refsect1" title="Description">
<a name="telepathy-glib-channel-dispatch-operation.description"></a><h2>Description</h2>
<p>
One of the channel dispatcher's functions is to offer incoming channels to
Approver clients for approval. Approvers respond to the channel dispatcher
via a <a class="link" href="telepathy-glib-channel-dispatch-operation.html#TpChannelDispatchOperation"><span class="type">TpChannelDispatchOperation</span></a> object.</p>
<p>
</p>
</div>
<div class="refsect1" title="Details">
<a name="telepathy-glib-channel-dispatch-operation.details"></a><h2>Details</h2>
<div class="refsect2" title="struct TpChannelDispatchOperation">
<a name="TpChannelDispatchOperation-struct"></a><h3>struct TpChannelDispatchOperation</h3>
<pre class="programlisting">struct TpChannelDispatchOperation;</pre>
<p>
One of the channel dispatcher's functions is to offer incoming channels to
Approver clients for approval. An approver should generally ask the user
whether they want to participate in the requested communication channels
(join the chat or chatroom, answer the call, accept the file transfer, or
whatever is appropriate). A collection of channels offered in this way
is represented by a ChannelDispatchOperation object.
</p>
<p>
If the user wishes to accept the communication channels, the approver
should call <a class="link" href="telepathy-glib-channel-dispatch-operation.html#tp-cli-channel-dispatch-operation-call-handle-with" title="tp_cli_channel_dispatch_operation_call_handle_with ()"><code class="function">tp_cli_channel_dispatch_operation_call_handle_with()</code></a> to
indicate the user's or approver's preferred handler for the channels (the
empty string indicates no particular preference, and will cause any
suitable handler to be used).
</p>
<p>
If the user wishes to reject the communication channels, or if the user
accepts the channels and the approver will handle them itself, the approver
should call <a class="link" href="telepathy-glib-channel-dispatch-operation.html#tp-cli-channel-dispatch-operation-call-claim" title="tp_cli_channel_dispatch_operation_call_claim ()"><code class="function">tp_cli_channel_dispatch_operation_call_claim()</code></a>. If this method
succeeds, the approver immediately has control over the channels as their
primary handler, and may do anything with them (in particular, it may close
them in whatever way seems most appropriate).
</p>
<p>
There are various situations in which the channel dispatch operation will
be closed, causing the <a class="link" href="telepathy-glib-proxy.html#TpProxy-invalidated" title='The "invalidated" signal'><span class="type">"invalidated"</span></a> signal to be emitted. If this
happens, the approver should stop prompting the user.
</p>
<p>
Because all approvers are launched simultaneously, the user might respond
to another approver; if this happens, the invalidated signal will be
emitted with the domain <a class="link" href="telepathy-glib-proxy.html#TP-DBUS-ERRORS--CAPS" title="TP_DBUS_ERRORS"><code class="literal">TP_DBUS_ERRORS</code></a> and the error code
<a class="link" href="telepathy-glib-proxy.html#TP-DBUS-ERROR-OBJECT-REMOVED--CAPS"><code class="literal">TP_DBUS_ERROR_OBJECT_REMOVED</code></a>.
</p>
<p>
If a channel closes, the D-Bus signal ChannelLost is emitted; this class
doesn't (yet) have a GObject binding for this signal, but you can use
<a class="link" href="telepathy-glib-channel-dispatch-operation.html#tp-cli-channel-dispatch-operation-connect-to-channel-lost" title="tp_cli_channel_dispatch_operation_connect_to_channel_lost ()"><code class="function">tp_cli_channel_dispatch_operation_connect_to_channel_lost()</code></a>. If all channels
close, there is nothing more to dispatch, so the invalidated signal will be
emitted with the domain <a class="link" href="telepathy-glib-proxy.html#TP-DBUS-ERRORS--CAPS" title="TP_DBUS_ERRORS"><code class="literal">TP_DBUS_ERRORS</code></a> and the error code
<a class="link" href="telepathy-glib-proxy.html#TP-DBUS-ERROR-OBJECT-REMOVED--CAPS"><code class="literal">TP_DBUS_ERROR_OBJECT_REMOVED</code></a>.
</p>
<p>
If the channel dispatcher crashes or exits, the invalidated
signal will be emitted with the domain <a class="link" href="telepathy-glib-proxy.html#TP-DBUS-ERRORS--CAPS" title="TP_DBUS_ERRORS"><code class="literal">TP_DBUS_ERRORS</code></a> and the error code
<a class="link" href="telepathy-glib-proxy.html#TP-DBUS-ERROR-NAME-OWNER-LOST--CAPS"><code class="literal">TP_DBUS_ERROR_NAME_OWNER_LOST</code></a>. In a high-quality implementation, the
dispatcher should be restarted, at which point it will create new
channel dispatch operations for any undispatched channels, and the approver
will be notified again.
</p>
<p>
This proxy is usable but incomplete: accessors for the D-Bus properties will
be added in a later version of telepathy-glib, along with a mechanism
similar to <a class="link" href="telepathy-glib-connection.html#tp-connection-call-when-ready" title="tp_connection_call_when_ready ()"><code class="function">tp_connection_call_when_ready()</code></a>.</p>
<p>
</p>
<p class="since">Since 0.7.32</p>
</div>
<hr>
<div class="refsect2" title="struct TpChannelDispatchOperationClass">
<a name="TpChannelDispatchOperationClass"></a><h3>struct TpChannelDispatchOperationClass</h3>
<pre class="programlisting">struct TpChannelDispatchOperationClass {
};
</pre>
<p>
The class of a <a class="link" href="telepathy-glib-channel-dispatch-operation.html#TpChannelDispatchOperation"><span class="type">TpChannelDispatchOperation</span></a>.</p>
<p>
</p>
</div>
<hr>
<div class="refsect2" title="tp_channel_dispatch_operation_new ()">
<a name="tp-channel-dispatch-operation-new"></a><h3>tp_channel_dispatch_operation_new ()</h3>
<pre class="programlisting"><a class="link" href="telepathy-glib-channel-dispatch-operation.html#TpChannelDispatchOperation">TpChannelDispatchOperation</a> * tp_channel_dispatch_operation_new
                                                        (<a class="link" href="telepathy-glib-dbus.html#TpDBusDaemon">TpDBusDaemon</a> *bus_daemon,
                                                         const <a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"
>gchar</a> *object_path,
                                                         <a
href="http://library.gnome.org/devel/glib/unstable/glib-Hash-Tables.html#GHashTable"
>GHashTable</a> *immutable_properties,
                                                         <a
href="http://library.gnome.org/devel/glib/unstable/glib-Error-Reporting.html#GError"
>GError</a> **error);</pre>
<p>
Convenience function to create a new channel dispatch operation proxy.
</p>
<p>
The <em class="parameter"><code>immutable_properties</code></em> argument is not yet used.</p>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>bus_daemon</code></em> :</span></p></td>
<td> Proxy for the D-Bus daemon
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>object_path</code></em> :</span></p></td>
<td> The non-NULL object path of this channel dispatch operation
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>immutable_properties</code></em> :</span></p></td>
<td> As many as are known of the immutable D-Bus
 properties of this channel dispatch operation, or <code class="literal">NULL</code> if none are known
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em> :</span></p></td>
<td> Used to raise an error if <code class="literal">NULL</code> is returned
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> a new reference to an channel dispatch operation proxy, or <code class="literal">NULL</code> if
   <em class="parameter"><code>object_path</code></em> is not syntactically valid or the channel dispatcher is not
   running
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="tp_channel_dispatch_operation_init_known_interfaces ()">
<a name="tp-channel-dispatch-operation-init-known-interfaces"></a><h3>tp_channel_dispatch_operation_init_known_interfaces ()</h3>
<pre class="programlisting">void                tp_channel_dispatch_operation_init_known_interfaces
                                                        (void);</pre>
<p>
Ensure that the known interfaces for TpChannelDispatchOperation have been
set up. This is done automatically when necessary, but for correct
overriding of library interfaces by local extensions, you should
call this function before calling
<a class="link" href="telepathy-glib-proxy-subclass.html#tp-proxy-or-subclass-hook-on-interface-add" title="tp_proxy_or_subclass_hook_on_interface_add ()"><code class="function">tp_proxy_or_subclass_hook_on_interface_add()</code></a> with first argument
<code class="literal">TP_TYPE_CHANNEL_DISPATCH_OPERATION</code>.</p>
<p>
</p>
<p class="since">Since 0.7.32</p>
</div>
<hr>
<div class="refsect2" title="tp_cli_channel_dispatch_operation_callback_for_claim ()">
<a name="tp-cli-channel-dispatch-operation-callback-for-claim"></a><h3>tp_cli_channel_dispatch_operation_callback_for_claim ()</h3>
<pre class="programlisting">void                (*tp_cli_channel_dispatch_operation_callback_for_claim)
                                                        (<a class="link" href="telepathy-glib-channel-dispatch-operation.html#TpChannelDispatchOperation">TpChannelDispatchOperation</a> *proxy,
                                                         const <a
href="http://library.gnome.org/devel/glib/unstable/glib-Error-Reporting.html#GError"
>GError</a> *error,
                                                         <a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gpointer"
>gpointer</a> user_data,
                                                         <a
href="http://library.gnome.org/devel/gobject/unstable/gobject-The-Base-Object-Type.html#GObject"
>GObject</a> *weak_object);</pre>
<p>
Signature of the callback called when a Claim method call
succeeds or fails.</p>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em> :</span></p></td>
<td> the proxy on which the call was made
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em> :</span></p></td>
<td> <code class="literal">NULL</code> on success, or an error on failure
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em> :</span></p></td>
<td> user-supplied data
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>weak_object</code></em> :</span></p></td>
<td> user-supplied object
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="tp_cli_channel_dispatch_operation_call_claim ()">
<a name="tp-cli-channel-dispatch-operation-call-claim"></a><h3>tp_cli_channel_dispatch_operation_call_claim ()</h3>
<pre class="programlisting"><a class="link" href="telepathy-glib-proxy.html#TpProxyPendingCall" title="TpProxyPendingCall">TpProxyPendingCall</a> * tp_cli_channel_dispatch_operation_call_claim
                                                        (<a class="link" href="telepathy-glib-channel-dispatch-operation.html#TpChannelDispatchOperation">TpChannelDispatchOperation</a> *proxy,
                                                         <a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gint"
>gint</a> timeout_ms,
                                                         <a class="link" href="telepathy-glib-channel-dispatch-operation.html#tp-cli-channel-dispatch-operation-callback-for-claim" title="tp_cli_channel_dispatch_operation_callback_for_claim ()">tp_cli_channel_dispatch_operation_callback_for_claim</a> callback,
                                                         <a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gpointer"
>gpointer</a> user_data,
                                                         <a
href="http://library.gnome.org/devel/glib/unstable/glib-Datasets.html#GDestroyNotify"
>GDestroyNotify</a> destroy,
                                                         <a
href="http://library.gnome.org/devel/gobject/unstable/gobject-The-Base-Object-Type.html#GObject"
>GObject</a> *weak_object);</pre>
<p>
Start a Claim method call.
</p>
<p>
&lt;tp:docstring xmlns="http://www.w3.org/1999/xhtml"&gt;         &lt;p&gt;Called by an approver to claim channels for handling           internally. If this method is called successfully, the process           calling this method becomes the handler for the channel, but           &lt;em&gt;does not&lt;/em&gt; have the &lt;tp:dbus-ref namespace="org.freedesktop.Telepathy.Client.Handler"&gt;HandleChannels&lt;/tp:dbus-ref&gt;           method called on it.&lt;/p&gt;          &lt;p&gt;Clients that call Claim on channels but do not immediately           close them SHOULD implement the Handler interface and its           &lt;tp:dbus-ref namespace="org.freedesktop.Telepathy.Client.Handler"&gt;HandledChannels&lt;/tp:dbus-ref&gt;           property.&lt;/p&gt;          &lt;p&gt;Approvers wishing to reject channels MUST call this method to           claim ownership of them, and MUST NOT call           &lt;tp:dbus-ref namespace="org.freedesktop.Telepathy.Channel"&gt;Close&lt;/tp:dbus-ref&gt;           on the channels unless/until this method returns successfully.&lt;/p&gt;          &lt;tp:rationale&gt;           &lt;p&gt;The channel dispatcher can't know how best to close arbitrary             channel types, so it leaves it up to the approver to do so.             For instance, for Text channels it is necessary             to acknowledge any messages that have already been displayed to             the user first - ideally, the approver would display and then             acknowledge the messages - or to call &lt;tp:dbus-ref namespace="org.freedesktop.Telepathy"&gt;Channel.Interface.Destroyable.Destroy&lt;/tp:dbus-ref&gt;             if the destructive behaviour of that method is desired.&lt;/p&gt;            &lt;p&gt;Similarly, an Approver for StreamedMedia channels can close the             channel with a reason (e.g. &amp;quot;busy&amp;quot;) if desired. The channel             dispatcher, which is designed to have no specific knowledge             of particular channel types, can't do that.&lt;/p&gt;         &lt;/tp:rationale&gt;          &lt;p&gt;If successful, this method will cause the ChannelDispatchOperation           object to disappear, emitting           &lt;tp:member-ref&gt;Finished&lt;/tp:member-ref&gt;, in the same way as for           &lt;tp:member-ref&gt;HandleWith&lt;/tp:member-ref&gt;.&lt;/p&gt;          &lt;p&gt;This method may fail because the dispatch operation has already           been completed. Again, see HandleWith for more details. The approver           MUST NOT attempt to interact with the channels further in this           case.&lt;/p&gt;          &lt;p&gt;(FIXME: list some other possible errors)&lt;/p&gt;</p>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em> :</span></p></td>
<td> the <a class="link" href="telepathy-glib-proxy.html#TpProxy"><span class="type">TpProxy</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>timeout_ms</code></em> :</span></p></td>
<td> the timeout in milliseconds, or -1 to use the
  default
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>callback</code></em> :</span></p></td>
<td> called when the method call succeeds or fails;
  may be <code class="literal">NULL</code> to make a "fire and forget" call with no 
  reply tracking
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em> :</span></p></td>
<td> user-supplied data passed to the callback;
  must be <code class="literal">NULL</code> if <em class="parameter"><code>callback</code></em> is <code class="literal">NULL</code>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>destroy</code></em> :</span></p></td>
<td> called with the user_data as argument, after the
  call has succeeded, failed or been cancelled;
  must be <code class="literal">NULL</code> if <em class="parameter"><code>callback</code></em> is <code class="literal">NULL</code>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>weak_object</code></em> :</span></p></td>
<td> If not <code class="literal">NULL</code>, a <a
href="http://library.gnome.org/devel/gobject/unstable/gobject-The-Base-Object-Type.html#GObject"
><span class="type">GObject</span></a> which will be 
  weakly referenced; if it is destroyed, this call 
  will automatically be cancelled. Must be <code class="literal">NULL</code> if 
  <em class="parameter"><code>callback</code></em> is <code class="literal">NULL</code>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> a <a class="link" href="telepathy-glib-proxy.html#TpProxyPendingCall" title="TpProxyPendingCall"><span class="type">TpProxyPendingCall</span></a> representing the call in
 progress. It is borrowed from the object, and will become
 invalid when the callback is called, the call is
 cancelled or the <a class="link" href="telepathy-glib-proxy.html#TpProxy"><span class="type">TpProxy</span></a> becomes invalid.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="tp_cli_channel_dispatch_operation_callback_for_handle_with ()">
<a name="tp-cli-channel-dispatch-operation-callback-for-handle-with"></a><h3>tp_cli_channel_dispatch_operation_callback_for_handle_with ()</h3>
<pre class="programlisting">void                (*tp_cli_channel_dispatch_operation_callback_for_handle_with)
                                                        (<a class="link" href="telepathy-glib-channel-dispatch-operation.html#TpChannelDispatchOperation">TpChannelDispatchOperation</a> *proxy,
                                                         const <a
href="http://library.gnome.org/devel/glib/unstable/glib-Error-Reporting.html#GError"
>GError</a> *error,
                                                         <a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gpointer"
>gpointer</a> user_data,
                                                         <a
href="http://library.gnome.org/devel/gobject/unstable/gobject-The-Base-Object-Type.html#GObject"
>GObject</a> *weak_object);</pre>
<p>
Signature of the callback called when a HandleWith method call
succeeds or fails.</p>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em> :</span></p></td>
<td> the proxy on which the call was made
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em> :</span></p></td>
<td> <code class="literal">NULL</code> on success, or an error on failure
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em> :</span></p></td>
<td> user-supplied data
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>weak_object</code></em> :</span></p></td>
<td> user-supplied object
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="tp_cli_channel_dispatch_operation_call_handle_with ()">
<a name="tp-cli-channel-dispatch-operation-call-handle-with"></a><h3>tp_cli_channel_dispatch_operation_call_handle_with ()</h3>
<pre class="programlisting"><a class="link" href="telepathy-glib-proxy.html#TpProxyPendingCall" title="TpProxyPendingCall">TpProxyPendingCall</a> * tp_cli_channel_dispatch_operation_call_handle_with
                                                        (<a class="link" href="telepathy-glib-channel-dispatch-operation.html#TpChannelDispatchOperation">TpChannelDispatchOperation</a> *proxy,
                                                         <a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gint"
>gint</a> timeout_ms,
                                                         const <a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"
>gchar</a> *in_Handler,
                                                         <a class="link" href="telepathy-glib-channel-dispatch-operation.html#tp-cli-channel-dispatch-operation-callback-for-handle-with" title="tp_cli_channel_dispatch_operation_callback_for_handle_with ()">tp_cli_channel_dispatch_operation_callback_for_handle_with</a> callback,
                                                         <a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gpointer"
>gpointer</a> user_data,
                                                         <a
href="http://library.gnome.org/devel/glib/unstable/glib-Datasets.html#GDestroyNotify"
>GDestroyNotify</a> destroy,
                                                         <a
href="http://library.gnome.org/devel/gobject/unstable/gobject-The-Base-Object-Type.html#GObject"
>GObject</a> *weak_object);</pre>
<p>
Start a HandleWith method call.
</p>
<p>
&lt;tp:docstring xmlns="http://www.w3.org/1999/xhtml"&gt;         &lt;p&gt;Called by an approver to accept a channel bundle and request that           the given handler be used to handle it.&lt;/p&gt;          &lt;p&gt;If successful, this method will cause the ChannelDispatchOperation           object to disappear, emitting           &lt;tp:member-ref&gt;Finished&lt;/tp:member-ref&gt;.&lt;/p&gt;          &lt;p&gt;However, this method may fail because the dispatch has already been           completed and the object has already gone. If this occurs, it           indicates that another approver has asked for the bundle to be           handled by a particular handler. The approver MUST NOT attempt           to interact with the channels further in this case, unless it is           separately invoked as the handler.&lt;/p&gt;          &lt;p&gt;Approvers which are also channel handlers SHOULD use           &lt;tp:member-ref&gt;Claim&lt;/tp:member-ref&gt; instead           of HandleWith to request that they can handle a channel bundle           themselves.&lt;/p&gt;          &lt;p&gt;(FIXME: list some possible errors)&lt;/p&gt;          &lt;p&gt;If the channel handler raises an error from &lt;tp:dbus-ref namespace="org.freedesktop.Telepathy.Client.Handler"&gt;HandleChannels&lt;/tp:dbus-ref&gt;,           this method           MAY respond by raising that same error, even if it is not           specifically documented here.&lt;/p&gt;</p>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em> :</span></p></td>
<td> the <a class="link" href="telepathy-glib-proxy.html#TpProxy"><span class="type">TpProxy</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>timeout_ms</code></em> :</span></p></td>
<td> the timeout in milliseconds, or -1 to use the
  default
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>in_Handler</code></em> :</span></p></td>
<td> Used to pass an 'in' argument: &lt;tp:docstring xmlns="http://www.w3.org/1999/xhtml"&gt;           &lt;p&gt;The well-known bus name (starting with             &lt;code&gt;org.freedesktop.Telepathy.Client.&lt;/code&gt;) of the channel             handler that should handle the channel, or the empty string             if the client has no preferred channel handler.&lt;/p&gt;
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>callback</code></em> :</span></p></td>
<td> called when the method call succeeds or fails;
  may be <code class="literal">NULL</code> to make a "fire and forget" call with no 
  reply tracking
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em> :</span></p></td>
<td> user-supplied data passed to the callback;
  must be <code class="literal">NULL</code> if <em class="parameter"><code>callback</code></em> is <code class="literal">NULL</code>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>destroy</code></em> :</span></p></td>
<td> called with the user_data as argument, after the
  call has succeeded, failed or been cancelled;
  must be <code class="literal">NULL</code> if <em class="parameter"><code>callback</code></em> is <code class="literal">NULL</code>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>weak_object</code></em> :</span></p></td>
<td> If not <code class="literal">NULL</code>, a <a
href="http://library.gnome.org/devel/gobject/unstable/gobject-The-Base-Object-Type.html#GObject"
><span class="type">GObject</span></a> which will be 
  weakly referenced; if it is destroyed, this call 
  will automatically be cancelled. Must be <code class="literal">NULL</code> if 
  <em class="parameter"><code>callback</code></em> is <code class="literal">NULL</code>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> a <a class="link" href="telepathy-glib-proxy.html#TpProxyPendingCall" title="TpProxyPendingCall"><span class="type">TpProxyPendingCall</span></a> representing the call in
 progress. It is borrowed from the object, and will become
 invalid when the callback is called, the call is
 cancelled or the <a class="link" href="telepathy-glib-proxy.html#TpProxy"><span class="type">TpProxy</span></a> becomes invalid.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="tp_cli_channel_dispatch_operation_signal_callback_channel_lost ()">
<a name="tp-cli-channel-dispatch-operation-signal-callback-channel-lost"></a><h3>tp_cli_channel_dispatch_operation_signal_callback_channel_lost ()</h3>
<pre class="programlisting">void                (*tp_cli_channel_dispatch_operation_signal_callback_channel_lost)
                                                        (<a class="link" href="telepathy-glib-channel-dispatch-operation.html#TpChannelDispatchOperation">TpChannelDispatchOperation</a> *proxy,
                                                         const <a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"
>gchar</a> *arg_Channel,
                                                         const <a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"
>gchar</a> *arg_Error,
                                                         const <a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"
>gchar</a> *arg_Message,
                                                         <a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gpointer"
>gpointer</a> user_data,
                                                         <a
href="http://library.gnome.org/devel/gobject/unstable/gobject-The-Base-Object-Type.html#GObject"
>GObject</a> *weak_object);</pre>
<p>
Represents the signature of a callback for the signal ChannelLost.</p>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em> :</span></p></td>
<td> The proxy on which <a class="link" href="telepathy-glib-channel-dispatch-operation.html#tp-cli-channel-dispatch-operation-connect-to-channel-lost" title="tp_cli_channel_dispatch_operation_connect_to_channel_lost ()"><code class="function">tp_cli_channel_dispatch_operation_connect_to_channel_lost()</code></a>
 was called
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>arg_Channel</code></em> :</span></p></td>
<td> The &lt;tp:dbus-ref namespace="org.freedesktop.Telepathy"&gt;Channel&lt;/tp:dbus-ref&gt;           that closed.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>arg_Error</code></em> :</span></p></td>
<td> &lt;tp:docstring xmlns="http://www.w3.org/1999/xhtml"&gt;           &lt;p&gt;The name of a D-Bus error indicating why the channel closed. If             no better reason can be found,             &lt;code&gt;org.freedesktop.Telepathy.Error.NotAvailable&lt;/code&gt; MAY             be used as a fallback; this means that this error SHOULD NOT be             given any more specific meaning.&lt;/p&gt;
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>arg_Message</code></em> :</span></p></td>
<td> A string associated with the D-Bus error.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em> :</span></p></td>
<td> User-supplied data
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>weak_object</code></em> :</span></p></td>
<td> User-supplied weakly referenced object
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="tp_cli_channel_dispatch_operation_connect_to_channel_lost ()">
<a name="tp-cli-channel-dispatch-operation-connect-to-channel-lost"></a><h3>tp_cli_channel_dispatch_operation_connect_to_channel_lost ()</h3>
<pre class="programlisting"><a class="link" href="telepathy-glib-proxy.html#TpProxySignalConnection" title="TpProxySignalConnection">TpProxySignalConnection</a> * tp_cli_channel_dispatch_operation_connect_to_channel_lost
                                                        (<a class="link" href="telepathy-glib-channel-dispatch-operation.html#TpChannelDispatchOperation">TpChannelDispatchOperation</a> *proxy,
                                                         <a class="link" href="telepathy-glib-channel-dispatch-operation.html#tp-cli-channel-dispatch-operation-signal-callback-channel-lost" title="tp_cli_channel_dispatch_operation_signal_callback_channel_lost ()">tp_cli_channel_dispatch_operation_signal_callback_channel_lost</a> callback,
                                                         <a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gpointer"
>gpointer</a> user_data,
                                                         <a
href="http://library.gnome.org/devel/glib/unstable/glib-Datasets.html#GDestroyNotify"
>GDestroyNotify</a> destroy,
                                                         <a
href="http://library.gnome.org/devel/gobject/unstable/gobject-The-Base-Object-Type.html#GObject"
>GObject</a> *weak_object,
                                                         <a
href="http://library.gnome.org/devel/glib/unstable/glib-Error-Reporting.html#GError"
>GError</a> **error);</pre>
<p>
Connect a handler to the signal ChannelLost.
</p>
<p>
&lt;tp:docstring xmlns="http://www.w3.org/1999/xhtml"&gt;         &lt;p&gt;A channel has closed before it could be claimed or handled. If           this is emitted for the last remaining channel in a channel           dispatch operation, it MUST immediately be followed by           &lt;tp:member-ref&gt;Finished&lt;/tp:member-ref&gt;.&lt;/p&gt;          &lt;p&gt;This signal MUST NOT be emitted until all Approvers that were           invoked have returned (successfully or with an error) from           their &lt;tp:dbus-ref namespace="org.freedesktop.Telepathy.Client.Approver"&gt;AddDispatchOperation&lt;/tp:dbus-ref&gt;           method.&lt;/p&gt;          &lt;tp:rationale&gt;           &lt;p&gt;This means that Approvers can connect to the ChannelLost signal             in a race-free way. Non-approver processes that discover             a channel dispatch operation in some way (such as observers)             will have to follow the usual &amp;quot;connect to signals then recover             state&amp;quot; model - first connect to ChannelLost and             &lt;tp:member-ref&gt;Finished&lt;/tp:member-ref&gt;,             then download &lt;tp:member-ref&gt;Channels&lt;/tp:member-ref&gt; (and             on error, perhaps assume that the operation has already             Finished).&lt;/p&gt;         &lt;/tp:rationale&gt;</p>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em> :</span></p></td>
<td> A <a class="link" href="telepathy-glib-channel-dispatch-operation.html#TpChannelDispatchOperation"><span class="type">TpChannelDispatchOperation</span></a> or subclass
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>callback</code></em> :</span></p></td>
<td> Callback to be called when the signal is
  received
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em> :</span></p></td>
<td> User-supplied data for the callback
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>destroy</code></em> :</span></p></td>
<td> Destructor for the user-supplied data, which
  will be called when this signal is disconnected, or
  before this function returns <code class="literal">NULL</code>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>weak_object</code></em> :</span></p></td>
<td> A <a
href="http://library.gnome.org/devel/gobject/unstable/gobject-The-Base-Object-Type.html#GObject"
><span class="type">GObject</span></a> which will be weakly referenced; 
  if it is destroyed, this callback will automatically be
  disconnected
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em> :</span></p></td>
<td> If not <code class="literal">NULL</code>, used to raise an error if <code class="literal">NULL</code> is
  returned
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> a <a class="link" href="telepathy-glib-proxy.html#TpProxySignalConnection" title="TpProxySignalConnection"><span class="type">TpProxySignalConnection</span></a> containing all of the
above, which can be used to disconnect the signal; or
<code class="literal">NULL</code> if the proxy does not have the desired interface
or has become invalid.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="tp_cli_channel_dispatch_operation_signal_callback_finished ()">
<a name="tp-cli-channel-dispatch-operation-signal-callback-finished"></a><h3>tp_cli_channel_dispatch_operation_signal_callback_finished ()</h3>
<pre class="programlisting">void                (*tp_cli_channel_dispatch_operation_signal_callback_finished)
                                                        (<a class="link" href="telepathy-glib-channel-dispatch-operation.html#TpChannelDispatchOperation">TpChannelDispatchOperation</a> *proxy,
                                                         <a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gpointer"
>gpointer</a> user_data,
                                                         <a
href="http://library.gnome.org/devel/gobject/unstable/gobject-The-Base-Object-Type.html#GObject"
>GObject</a> *weak_object);</pre>
<p>
Represents the signature of a callback for the signal Finished.</p>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em> :</span></p></td>
<td> The proxy on which <a class="link" href="telepathy-glib-channel-dispatch-operation.html#tp-cli-channel-dispatch-operation-connect-to-finished" title="tp_cli_channel_dispatch_operation_connect_to_finished ()"><code class="function">tp_cli_channel_dispatch_operation_connect_to_finished()</code></a>
 was called
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em> :</span></p></td>
<td> User-supplied data
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>weak_object</code></em> :</span></p></td>
<td> User-supplied weakly referenced object
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="tp_cli_channel_dispatch_operation_connect_to_finished ()">
<a name="tp-cli-channel-dispatch-operation-connect-to-finished"></a><h3>tp_cli_channel_dispatch_operation_connect_to_finished ()</h3>
<pre class="programlisting"><a class="link" href="telepathy-glib-proxy.html#TpProxySignalConnection" title="TpProxySignalConnection">TpProxySignalConnection</a> * tp_cli_channel_dispatch_operation_connect_to_finished
                                                        (<a class="link" href="telepathy-glib-channel-dispatch-operation.html#TpChannelDispatchOperation">TpChannelDispatchOperation</a> *proxy,
                                                         <a class="link" href="telepathy-glib-channel-dispatch-operation.html#tp-cli-channel-dispatch-operation-signal-callback-finished" title="tp_cli_channel_dispatch_operation_signal_callback_finished ()">tp_cli_channel_dispatch_operation_signal_callback_finished</a> callback,
                                                         <a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gpointer"
>gpointer</a> user_data,
                                                         <a
href="http://library.gnome.org/devel/glib/unstable/glib-Datasets.html#GDestroyNotify"
>GDestroyNotify</a> destroy,
                                                         <a
href="http://library.gnome.org/devel/gobject/unstable/gobject-The-Base-Object-Type.html#GObject"
>GObject</a> *weak_object,
                                                         <a
href="http://library.gnome.org/devel/glib/unstable/glib-Error-Reporting.html#GError"
>GError</a> **error);</pre>
<p>
Connect a handler to the signal Finished.
</p>
<p>
&lt;tp:docstring xmlns="http://www.w3.org/1999/xhtml"&gt;         &lt;p&gt;Emitted when this dispatch operation finishes. The dispatch           operation is no longer present and further methods must not be           called on it.&lt;/p&gt;          &lt;p&gt;Approvers that have a user interface SHOULD stop notifying the user           about the channels in response to this signal; they MAY assume that           on errors, they would have received           &lt;tp:member-ref&gt;ChannelLost&lt;/tp:member-ref&gt; first.&lt;/p&gt;          &lt;p&gt;Its object path SHOULD NOT be reused for a subsequent dispatch           operation; the ChannelDispatcher MUST choose object paths           in a way that avoids immediate re-use.&lt;/p&gt;          &lt;tp:rationale&gt;           &lt;p&gt;Otherwise, clients might accidentally call             &lt;tp:member-ref&gt;HandleWith&lt;/tp:member-ref&gt; or             &lt;tp:member-ref&gt;Claim&lt;/tp:member-ref&gt; on a new dispatch operation             instead of the one they intended to handle.&lt;/p&gt;         &lt;/tp:rationale&gt;          &lt;p&gt;This signal MUST NOT be emitted until all Approvers that were           invoked have returned (successfully or with an error) from           their &lt;tp:dbus-ref namespace="org.freedesktop.Telepathy.Client.Approver"&gt;AddDispatchOperation&lt;/tp:dbus-ref&gt;           method.&lt;/p&gt;          &lt;tp:rationale&gt;           &lt;p&gt;This means that Approvers can connect to the ChannelLost signal             in a race-free way. Non-approver processes that discover             a channel dispatch operation in some way (such as observers)             will have to follow the usual &amp;quot;connect to signals then recover             state&amp;quot; model - first connect to             &lt;tp:member-ref&gt;ChannelLost&lt;/tp:member-ref&gt; and             Finished, then download &lt;tp:member-ref&gt;Channels&lt;/tp:member-ref&gt;             (and on error, perhaps assume that the operation has already             Finished).&lt;/p&gt;         &lt;/tp:rationale&gt;</p>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em> :</span></p></td>
<td> A <a class="link" href="telepathy-glib-channel-dispatch-operation.html#TpChannelDispatchOperation"><span class="type">TpChannelDispatchOperation</span></a> or subclass
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>callback</code></em> :</span></p></td>
<td> Callback to be called when the signal is
  received
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em> :</span></p></td>
<td> User-supplied data for the callback
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>destroy</code></em> :</span></p></td>
<td> Destructor for the user-supplied data, which
  will be called when this signal is disconnected, or
  before this function returns <code class="literal">NULL</code>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>weak_object</code></em> :</span></p></td>
<td> A <a
href="http://library.gnome.org/devel/gobject/unstable/gobject-The-Base-Object-Type.html#GObject"
><span class="type">GObject</span></a> which will be weakly referenced; 
  if it is destroyed, this callback will automatically be
  disconnected
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em> :</span></p></td>
<td> If not <code class="literal">NULL</code>, used to raise an error if <code class="literal">NULL</code> is
  returned
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> a <a class="link" href="telepathy-glib-proxy.html#TpProxySignalConnection" title="TpProxySignalConnection"><span class="type">TpProxySignalConnection</span></a> containing all of the
above, which can be used to disconnect the signal; or
<code class="literal">NULL</code> if the proxy does not have the desired interface
or has become invalid.
</td>
</tr>
</tbody>
</table></div>
</div>
</div>
<div class="refsect1" title="See Also">
<a name="telepathy-glib-channel-dispatch-operation.see-also"></a><h2>See Also</h2>
#TpChannelDispatcher
</div>
</div>
<div class="footer">
<hr>
          Generated by GTK-Doc V1.11</div>
</body>
</html>
