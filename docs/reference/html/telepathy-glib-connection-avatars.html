<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<title>Connection Avatars interface</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.73.2">
<link rel="start" href="index.html" title="telepathy-glib Reference Manual">
<link rel="up" href="ch-client.html" title="Client-side proxies">
<link rel="prev" href="telepathy-glib-connection-aliasing.html" title="Connection Aliasing interface">
<link rel="next" href="telepathy-glib-connection-caps.html" title="Connection Capabilities interface">
<meta name="generator" content="GTK-Doc V1.9 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
<link rel="chapter" href="ch-dbus.html" title="General D-Bus support">
<link rel="chapter" href="ch-protocol.html" title="The Telepathy protocol">
<link rel="chapter" href="ch-client.html" title="Client-side proxies">
<link rel="chapter" href="ch-service-dbus.html" title="Service-side D-Bus interfaces">
<link rel="chapter" href="ch-service-base.html" title="Service-side implementation">
<link rel="chapter" href="ch-service-handles.html" title="Service-side handle repositories">
<link rel="chapter" href="ch-utilities.html" title="Utilities">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2">
<tr valign="middle">
<td><a accesskey="p" href="telepathy-glib-connection-aliasing.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td>
<td><a accesskey="u" href="ch-client.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td>
<th width="100%" align="center">telepathy-glib Reference Manual</th>
<td><a accesskey="n" href="telepathy-glib-connection-caps.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td>
</tr>
<tr><td colspan="5" class="shortcuts"><nobr><a href="#id2614032" class="shortcut">Top</a>
                  &#160;|&#160;
                  <a href="#id2681029" class="shortcut">Description</a></nobr></td></tr>
</table>
<div class="refentry" lang="en">
<a name="telepathy-glib-connection-avatars"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2>
<a name="id2614032"></a><span class="refentrytitle">Connection Avatars interface</span>
</h2>
<p>Connection Avatars interface &#8212; client-side wrappers for the Avatars interface</p>
</td>
<td valign="top" align="right"></td>
</tr></table></div>
<div class="refsynopsisdiv">
<h2>Synopsis</h2>
<pre class="synopsis">

#include &lt;telepathy-glib/connection.h&gt;


gboolean            <a class="link" href="telepathy-glib-connection-avatars.html#tp-cli-connection-interface-avatars-run-clear-avatar">tp_cli_connection_interface_avatars_run_clear_avatar</a>
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         gint timeout_ms,
                                                         GError **error,
                                                         GMainLoop **loop);
gboolean            <a class="link" href="telepathy-glib-connection-avatars.html#tp-cli-connection-interface-avatars-run-get-avatar-requirements">tp_cli_connection_interface_avatars_run_get_avatar_requirements</a>
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         gint timeout_ms,
                                                         gchar ***out0,
                                                         guint *out1,
                                                         guint *out2,
                                                         guint *out3,
                                                         guint *out4,
                                                         guint *out5,
                                                         GError **error,
                                                         GMainLoop **loop);
gboolean            <a class="link" href="telepathy-glib-connection-avatars.html#tp-cli-connection-interface-avatars-run-get-avatar-tokens">tp_cli_connection_interface_avatars_run_get_avatar_tokens</a>
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         gint timeout_ms,
                                                         const GArray *in_contacts,
                                                         gchar ***out0,
                                                         GError **error,
                                                         GMainLoop **loop);
gboolean            <a class="link" href="telepathy-glib-connection-avatars.html#tp-cli-connection-interface-avatars-run-get-known-avatar-tokens">tp_cli_connection_interface_avatars_run_get_known_avatar_tokens</a>
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         gint timeout_ms,
                                                         const GArray *in_contacts,
                                                         GHashTable **out0,
                                                         GError **error,
                                                         GMainLoop **loop);
gboolean            <a class="link" href="telepathy-glib-connection-avatars.html#tp-cli-connection-interface-avatars-run-request-avatar">tp_cli_connection_interface_avatars_run_request_avatar</a>
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         gint timeout_ms,
                                                         guint in_contact,
                                                         GArray **out0,
                                                         gchar **out1,
                                                         GError **error,
                                                         GMainLoop **loop);
gboolean            <a class="link" href="telepathy-glib-connection-avatars.html#tp-cli-connection-interface-avatars-run-request-avatars">tp_cli_connection_interface_avatars_run_request_avatars</a>
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         gint timeout_ms,
                                                         const GArray *in_contacts,
                                                         GError **error,
                                                         GMainLoop **loop);
gboolean            <a class="link" href="telepathy-glib-connection-avatars.html#tp-cli-connection-interface-avatars-run-set-avatar">tp_cli_connection_interface_avatars_run_set_avatar</a>
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         gint timeout_ms,
                                                         const GArray *in_avatar,
                                                         const gchar *in_mime_type,
                                                         gchar **out0,
                                                         GError **error,
                                                         GMainLoop **loop);
<a class="link" href="telepathy-glib-proxy.html#TpProxyPendingCall">TpProxyPendingCall</a>* <a class="link" href="telepathy-glib-connection-avatars.html#tp-cli-connection-interface-avatars-call-clear-avatar">tp_cli_connection_interface_avatars_call_clear_avatar</a>
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         gint timeout_ms,
                                                         <a class="link" href="telepathy-glib-connection-avatars.html#tp-cli-connection-interface-avatars-callback-for-clear-avatar">tp_cli_connection_interface_avatars_callback_for_clear_avatar</a> callback,
                                                         gpointer user_data,
                                                         GDestroyNotify destroy,
                                                         GObject *weak_object);
<a class="link" href="telepathy-glib-proxy.html#TpProxyPendingCall">TpProxyPendingCall</a>* <a class="link" href="telepathy-glib-connection-avatars.html#tp-cli-connection-interface-avatars-call-get-avatar-requirements">tp_cli_connection_interface_avatars_call_get_avatar_requirements</a>
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         gint timeout_ms,
                                                         <a class="link" href="telepathy-glib-connection-avatars.html#tp-cli-connection-interface-avatars-callback-for-get-avatar-requirements">tp_cli_connection_interface_avatars_callback_for_get_avatar_requirements</a> callback,
                                                         gpointer user_data,
                                                         GDestroyNotify destroy,
                                                         GObject *weak_object);
<a class="link" href="telepathy-glib-proxy.html#TpProxyPendingCall">TpProxyPendingCall</a>* <a class="link" href="telepathy-glib-connection-avatars.html#tp-cli-connection-interface-avatars-call-get-avatar-tokens">tp_cli_connection_interface_avatars_call_get_avatar_tokens</a>
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         gint timeout_ms,
                                                         const GArray *in_contacts,
                                                         <a class="link" href="telepathy-glib-connection-avatars.html#tp-cli-connection-interface-avatars-callback-for-get-avatar-tokens">tp_cli_connection_interface_avatars_callback_for_get_avatar_tokens</a> callback,
                                                         gpointer user_data,
                                                         GDestroyNotify destroy,
                                                         GObject *weak_object);
<a class="link" href="telepathy-glib-proxy.html#TpProxyPendingCall">TpProxyPendingCall</a>* <a class="link" href="telepathy-glib-connection-avatars.html#tp-cli-connection-interface-avatars-call-get-known-avatar-tokens">tp_cli_connection_interface_avatars_call_get_known_avatar_tokens</a>
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         gint timeout_ms,
                                                         const GArray *in_contacts,
                                                         <a class="link" href="telepathy-glib-connection-avatars.html#tp-cli-connection-interface-avatars-callback-for-get-known-avatar-tokens">tp_cli_connection_interface_avatars_callback_for_get_known_avatar_tokens</a> callback,
                                                         gpointer user_data,
                                                         GDestroyNotify destroy,
                                                         GObject *weak_object);
<a class="link" href="telepathy-glib-proxy.html#TpProxyPendingCall">TpProxyPendingCall</a>* <a class="link" href="telepathy-glib-connection-avatars.html#tp-cli-connection-interface-avatars-call-request-avatar">tp_cli_connection_interface_avatars_call_request_avatar</a>
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         gint timeout_ms,
                                                         guint in_contact,
                                                         <a class="link" href="telepathy-glib-connection-avatars.html#tp-cli-connection-interface-avatars-callback-for-request-avatar">tp_cli_connection_interface_avatars_callback_for_request_avatar</a> callback,
                                                         gpointer user_data,
                                                         GDestroyNotify destroy,
                                                         GObject *weak_object);
<a class="link" href="telepathy-glib-proxy.html#TpProxyPendingCall">TpProxyPendingCall</a>* <a class="link" href="telepathy-glib-connection-avatars.html#tp-cli-connection-interface-avatars-call-request-avatars">tp_cli_connection_interface_avatars_call_request_avatars</a>
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         gint timeout_ms,
                                                         const GArray *in_contacts,
                                                         <a class="link" href="telepathy-glib-connection-avatars.html#tp-cli-connection-interface-avatars-callback-for-request-avatars">tp_cli_connection_interface_avatars_callback_for_request_avatars</a> callback,
                                                         gpointer user_data,
                                                         GDestroyNotify destroy,
                                                         GObject *weak_object);
<a class="link" href="telepathy-glib-proxy.html#TpProxyPendingCall">TpProxyPendingCall</a>* <a class="link" href="telepathy-glib-connection-avatars.html#tp-cli-connection-interface-avatars-call-set-avatar">tp_cli_connection_interface_avatars_call_set_avatar</a>
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         gint timeout_ms,
                                                         const GArray *in_avatar,
                                                         const gchar *in_mime_type,
                                                         <a class="link" href="telepathy-glib-connection-avatars.html#tp-cli-connection-interface-avatars-callback-for-set-avatar">tp_cli_connection_interface_avatars_callback_for_set_avatar</a> callback,
                                                         gpointer user_data,
                                                         GDestroyNotify destroy,
                                                         GObject *weak_object);
void                (<a class="link" href="telepathy-glib-connection-avatars.html#tp-cli-connection-interface-avatars-callback-for-clear-avatar">*tp_cli_connection_interface_avatars_callback_for_clear_avatar</a>)
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         const GError *error,
                                                         gpointer user_data,
                                                         GObject *weak_object);
void                (<a class="link" href="telepathy-glib-connection-avatars.html#tp-cli-connection-interface-avatars-callback-for-get-avatar-requirements">*tp_cli_connection_interface_avatars_callback_for_get_avatar_requirements</a>)
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         const gchar **out0,
                                                         guint out1,
                                                         guint out2,
                                                         guint out3,
                                                         guint out4,
                                                         guint out5,
                                                         const GError *error,
                                                         gpointer user_data,
                                                         GObject *weak_object);
void                (<a class="link" href="telepathy-glib-connection-avatars.html#tp-cli-connection-interface-avatars-callback-for-get-avatar-tokens">*tp_cli_connection_interface_avatars_callback_for_get_avatar_tokens</a>)
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         const gchar **out0,
                                                         const GError *error,
                                                         gpointer user_data,
                                                         GObject *weak_object);
void                (<a class="link" href="telepathy-glib-connection-avatars.html#tp-cli-connection-interface-avatars-callback-for-get-known-avatar-tokens">*tp_cli_connection_interface_avatars_callback_for_get_known_avatar_tokens</a>)
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         GHashTable *out0,
                                                         const GError *error,
                                                         gpointer user_data,
                                                         GObject *weak_object);
void                (<a class="link" href="telepathy-glib-connection-avatars.html#tp-cli-connection-interface-avatars-callback-for-request-avatar">*tp_cli_connection_interface_avatars_callback_for_request_avatar</a>)
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         const GArray *out0,
                                                         const gchar *out1,
                                                         const GError *error,
                                                         gpointer user_data,
                                                         GObject *weak_object);
void                (<a class="link" href="telepathy-glib-connection-avatars.html#tp-cli-connection-interface-avatars-callback-for-request-avatars">*tp_cli_connection_interface_avatars_callback_for_request_avatars</a>)
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         const GError *error,
                                                         gpointer user_data,
                                                         GObject *weak_object);
void                (<a class="link" href="telepathy-glib-connection-avatars.html#tp-cli-connection-interface-avatars-callback-for-set-avatar">*tp_cli_connection_interface_avatars_callback_for_set_avatar</a>)
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         const gchar *out0,
                                                         const GError *error,
                                                         gpointer user_data,
                                                         GObject *weak_object);
<a class="link" href="telepathy-glib-proxy.html#TpProxySignalConnection">TpProxySignalConnection</a>* <a class="link" href="telepathy-glib-connection-avatars.html#tp-cli-connection-interface-avatars-connect-to-avatar-retrieved">tp_cli_connection_interface_avatars_connect_to_avatar_retrieved</a>
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         <a class="link" href="telepathy-glib-connection-avatars.html#tp-cli-connection-interface-avatars-signal-callback-avatar-retrieved">tp_cli_connection_interface_avatars_signal_callback_avatar_retrieved</a> callback,
                                                         gpointer user_data,
                                                         GDestroyNotify destroy,
                                                         GObject *weak_object,
                                                         GError **error);
<a class="link" href="telepathy-glib-proxy.html#TpProxySignalConnection">TpProxySignalConnection</a>* <a class="link" href="telepathy-glib-connection-avatars.html#tp-cli-connection-interface-avatars-connect-to-avatar-updated">tp_cli_connection_interface_avatars_connect_to_avatar_updated</a>
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         <a class="link" href="telepathy-glib-connection-avatars.html#tp-cli-connection-interface-avatars-signal-callback-avatar-updated">tp_cli_connection_interface_avatars_signal_callback_avatar_updated</a> callback,
                                                         gpointer user_data,
                                                         GDestroyNotify destroy,
                                                         GObject *weak_object,
                                                         GError **error);
void                (<a class="link" href="telepathy-glib-connection-avatars.html#tp-cli-connection-interface-avatars-signal-callback-avatar-retrieved">*tp_cli_connection_interface_avatars_signal_callback_avatar_retrieved</a>)
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         guint arg_contact,
                                                         const gchar *arg_token,
                                                         const GArray *arg_avatar,
                                                         const gchar *arg_type,
                                                         gpointer user_data,
                                                         GObject *weak_object);
void                (<a class="link" href="telepathy-glib-connection-avatars.html#tp-cli-connection-interface-avatars-signal-callback-avatar-updated">*tp_cli_connection_interface_avatars_signal_callback_avatar_updated</a>)
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         guint arg_contact,
                                                         const gchar *arg_new_avatar_token,
                                                         gpointer user_data,
                                                         GObject *weak_object);
</pre>
</div>
<div class="refsect1" lang="en">
<a name="id2681029"></a><h2>Description</h2>
<p>
Most instant messaging protocols allow users to set an icon or avatar.
This section documents the auto-generated C wrappers for the Avatar
interface, used with <a class="link" href="telepathy-glib-connection.html#TpConnection"><span class="type">TpConnection</span></a> objects.</p>
<p>

</p>
</div>
<div class="refsect1" lang="en">
<a name="id2681058"></a><h2>Details</h2>
<div class="refsect2" lang="en">
<a name="id2681069"></a><h3>
<a name="tp-cli-connection-interface-avatars-run-clear-avatar"></a>tp_cli_connection_interface_avatars_run_clear_avatar ()</h3>
<a class="indexterm" name="id2681083"></a><pre class="programlisting">gboolean            tp_cli_connection_interface_avatars_run_clear_avatar
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         gint timeout_ms,
                                                         GError **error,
                                                         GMainLoop **loop);</pre>
<p>
Call the method ClearAvatar and run the main loop
until it returns. Before calling this method, you must
add a reference to any borrowed objects you need to keep,
and generally ensure that everything is in a consistent
state.
</p>
<p>
Remove the avatar image for this connection.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em>&#160;:</span></p></td>
<td> A <a class="link" href="telepathy-glib-connection.html#TpConnection"><span class="type">TpConnection</span></a> or subclass
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>timeout_ms</code></em>&#160;:</span></p></td>
<td> Timeout in milliseconds, or -1 for default
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></p></td>
<td> If not <code class="literal">NULL</code>, used to return errors if <code class="literal">FALSE</code> 
 is returned
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>loop</code></em>&#160;:</span></p></td>
<td> If not <code class="literal">NULL</code>, set before re-entering 
 the main loop, to point to a <span class="type">GMainLoop</span> 
 which can be used to cancel this call with 
 <code class="function">g_main_loop_quit()</code>, causing a return of 
 <code class="literal">FALSE</code> with <em class="parameter"><code>error</code></em> set to <a class="link" href="telepathy-glib-proxy.html#TP-DBUS-ERROR-CANCELLED:CAPS"><code class="literal">TP_DBUS_ERROR_CANCELLED</code></a>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> TRUE on success, FALSE and sets <em class="parameter"><code>error</code></em> on error
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2681301"></a><h3>
<a name="tp-cli-connection-interface-avatars-run-get-avatar-requirements"></a>tp_cli_connection_interface_avatars_run_get_avatar_requirements ()</h3>
<a class="indexterm" name="id2681316"></a><pre class="programlisting">gboolean            tp_cli_connection_interface_avatars_run_get_avatar_requirements
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         gint timeout_ms,
                                                         gchar ***out0,
                                                         guint *out1,
                                                         guint *out2,
                                                         guint *out3,
                                                         guint *out4,
                                                         guint *out5,
                                                         GError **error,
                                                         GMainLoop **loop);</pre>
<p>
Call the method GetAvatarRequirements and run the main loop
until it returns. Before calling this method, you must
add a reference to any borrowed objects you need to keep,
and generally ensure that everything is in a consistent
state.
</p>
<p>
Get the required format of avatars on this connection.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em>&#160;:</span></p></td>
<td> A <a class="link" href="telepathy-glib-connection.html#TpConnection"><span class="type">TpConnection</span></a> or subclass
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>timeout_ms</code></em>&#160;:</span></p></td>
<td> Timeout in milliseconds, or -1 for default
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>out0</code></em>&#160;:</span></p></td>
<td> Used to return an 'out' argument if <code class="literal">TRUE</code> is returned: An array of supported MIME types (eg image/jpeg)
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>out1</code></em>&#160;:</span></p></td>
<td> Used to return an 'out' argument if <code class="literal">TRUE</code> is returned: The minimum image width in pixels
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>out2</code></em>&#160;:</span></p></td>
<td> Used to return an 'out' argument if <code class="literal">TRUE</code> is returned: The minimum image height in pixels
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>out3</code></em>&#160;:</span></p></td>
<td> Used to return an 'out' argument if <code class="literal">TRUE</code> is returned: The maximum image width in pixels, or 0 if there is no limit
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>out4</code></em>&#160;:</span></p></td>
<td> Used to return an 'out' argument if <code class="literal">TRUE</code> is returned: The maximum image height in pixels, or 0 if there is no limit
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>out5</code></em>&#160;:</span></p></td>
<td> Used to return an 'out' argument if <code class="literal">TRUE</code> is returned: The maximum image size in bytes, or 0 if there is no limit
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></p></td>
<td> If not <code class="literal">NULL</code>, used to return errors if <code class="literal">FALSE</code> 
 is returned
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>loop</code></em>&#160;:</span></p></td>
<td> If not <code class="literal">NULL</code>, set before re-entering 
 the main loop, to point to a <span class="type">GMainLoop</span> 
 which can be used to cancel this call with 
 <code class="function">g_main_loop_quit()</code>, causing a return of 
 <code class="literal">FALSE</code> with <em class="parameter"><code>error</code></em> set to <a class="link" href="telepathy-glib-proxy.html#TP-DBUS-ERROR-CANCELLED:CAPS"><code class="literal">TP_DBUS_ERROR_CANCELLED</code></a>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> TRUE on success, FALSE and sets <em class="parameter"><code>error</code></em> on error
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2681722"></a><h3>
<a name="tp-cli-connection-interface-avatars-run-get-avatar-tokens"></a>tp_cli_connection_interface_avatars_run_get_avatar_tokens ()</h3>
<a class="indexterm" name="id2681737"></a><pre class="programlisting">gboolean            tp_cli_connection_interface_avatars_run_get_avatar_tokens
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         gint timeout_ms,
                                                         const GArray *in_contacts,
                                                         gchar ***out0,
                                                         GError **error,
                                                         GMainLoop **loop);</pre>
<p>
Call the method GetAvatarTokens and run the main loop
until it returns. Before calling this method, you must
add a reference to any borrowed objects you need to keep,
and generally ensure that everything is in a consistent
state.
</p>
<p>
Get the unique tokens for all of the given contacts' avatars.          Using this method in new Telepathy clients is deprecated; use         GetKnownAvatarTokens instead.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em>&#160;:</span></p></td>
<td> A <a class="link" href="telepathy-glib-connection.html#TpConnection"><span class="type">TpConnection</span></a> or subclass
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>timeout_ms</code></em>&#160;:</span></p></td>
<td> Timeout in milliseconds, or -1 for default
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>in_contacts</code></em>&#160;:</span></p></td>
<td> Used to pass an 'in' argument: An array of handles representing contacts
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>out0</code></em>&#160;:</span></p></td>
<td> Used to return an 'out' argument if <code class="literal">TRUE</code> is returned: An array of avatar tokens or empty strings (if no avatar is set) in the           same order as the given array of contact handles
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></p></td>
<td> If not <code class="literal">NULL</code>, used to return errors if <code class="literal">FALSE</code> 
 is returned
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>loop</code></em>&#160;:</span></p></td>
<td> If not <code class="literal">NULL</code>, set before re-entering 
 the main loop, to point to a <span class="type">GMainLoop</span> 
 which can be used to cancel this call with 
 <code class="function">g_main_loop_quit()</code>, causing a return of 
 <code class="literal">FALSE</code> with <em class="parameter"><code>error</code></em> set to <a class="link" href="telepathy-glib-proxy.html#TP-DBUS-ERROR-CANCELLED:CAPS"><code class="literal">TP_DBUS_ERROR_CANCELLED</code></a>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> TRUE on success, FALSE and sets <em class="parameter"><code>error</code></em> on error
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2682012"></a><h3>
<a name="tp-cli-connection-interface-avatars-run-get-known-avatar-tokens"></a>tp_cli_connection_interface_avatars_run_get_known_avatar_tokens ()</h3>
<a class="indexterm" name="id2682027"></a><pre class="programlisting">gboolean            tp_cli_connection_interface_avatars_run_get_known_avatar_tokens
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         gint timeout_ms,
                                                         const GArray *in_contacts,
                                                         GHashTable **out0,
                                                         GError **error,
                                                         GMainLoop **loop);</pre>
<p>
Call the method GetKnownAvatarTokens and run the main loop
until it returns. Before calling this method, you must
add a reference to any borrowed objects you need to keep,
and generally ensure that everything is in a consistent
state.
</p>
<p>
Get the unique tokens for the given contacts' avatars. These tokens         can be persisted across connections, and should be used by the client         to check whether the avatars have been updated.  A CM must always have         the tokens for the self handle if one is set (even if it is set to no         avatar). Otherwise, only tokens that are already known are returned. An         empty token means the given contact has no avatar.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em>&#160;:</span></p></td>
<td> A <a class="link" href="telepathy-glib-connection.html#TpConnection"><span class="type">TpConnection</span></a> or subclass
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>timeout_ms</code></em>&#160;:</span></p></td>
<td> Timeout in milliseconds, or -1 for default
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>in_contacts</code></em>&#160;:</span></p></td>
<td> Used to pass an 'in' argument: An array of handles representing contacts
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>out0</code></em>&#160;:</span></p></td>
<td> Used to return an 'out' argument if <code class="literal">TRUE</code> is returned: A dictionary of handles mapped to avatar tokens, containing only           the known avatar tokens.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></p></td>
<td> If not <code class="literal">NULL</code>, used to return errors if <code class="literal">FALSE</code> 
 is returned
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>loop</code></em>&#160;:</span></p></td>
<td> If not <code class="literal">NULL</code>, set before re-entering 
 the main loop, to point to a <span class="type">GMainLoop</span> 
 which can be used to cancel this call with 
 <code class="function">g_main_loop_quit()</code>, causing a return of 
 <code class="literal">FALSE</code> with <em class="parameter"><code>error</code></em> set to <a class="link" href="telepathy-glib-proxy.html#TP-DBUS-ERROR-CANCELLED:CAPS"><code class="literal">TP_DBUS_ERROR_CANCELLED</code></a>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> TRUE on success, FALSE and sets <em class="parameter"><code>error</code></em> on error
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2696716"></a><h3>
<a name="tp-cli-connection-interface-avatars-run-request-avatar"></a>tp_cli_connection_interface_avatars_run_request_avatar ()</h3>
<a class="indexterm" name="id2696730"></a><pre class="programlisting">gboolean            tp_cli_connection_interface_avatars_run_request_avatar
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         gint timeout_ms,
                                                         guint in_contact,
                                                         GArray **out0,
                                                         gchar **out1,
                                                         GError **error,
                                                         GMainLoop **loop);</pre>
<p>
Call the method RequestAvatar and run the main loop
until it returns. Before calling this method, you must
add a reference to any borrowed objects you need to keep,
and generally ensure that everything is in a consistent
state.
</p>
<p>
Request the avatar for a given contact. Using this method in new         Telepathy clients is deprecated; use RequestAvatars instead.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em>&#160;:</span></p></td>
<td> A <a class="link" href="telepathy-glib-connection.html#TpConnection"><span class="type">TpConnection</span></a> or subclass
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>timeout_ms</code></em>&#160;:</span></p></td>
<td> Timeout in milliseconds, or -1 for default
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>in_contact</code></em>&#160;:</span></p></td>
<td> Used to pass an 'in' argument: An integer handle for the contact to request the avatar for
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>out0</code></em>&#160;:</span></p></td>
<td> Used to return an 'out' argument if <code class="literal">TRUE</code> is returned: An array of bytes containing the image data
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>out1</code></em>&#160;:</span></p></td>
<td> Used to return an 'out' argument if <code class="literal">TRUE</code> is returned: A string containing the image MIME type (eg image/jpeg), or empty if         unknown
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></p></td>
<td> If not <code class="literal">NULL</code>, used to return errors if <code class="literal">FALSE</code> 
 is returned
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>loop</code></em>&#160;:</span></p></td>
<td> If not <code class="literal">NULL</code>, set before re-entering 
 the main loop, to point to a <span class="type">GMainLoop</span> 
 which can be used to cancel this call with 
 <code class="function">g_main_loop_quit()</code>, causing a return of 
 <code class="literal">FALSE</code> with <em class="parameter"><code>error</code></em> set to <a class="link" href="telepathy-glib-proxy.html#TP-DBUS-ERROR-CANCELLED:CAPS"><code class="literal">TP_DBUS_ERROR_CANCELLED</code></a>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> TRUE on success, FALSE and sets <em class="parameter"><code>error</code></em> on error
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2697008"></a><h3>
<a name="tp-cli-connection-interface-avatars-run-request-avatars"></a>tp_cli_connection_interface_avatars_run_request_avatars ()</h3>
<a class="indexterm" name="id2697021"></a><pre class="programlisting">gboolean            tp_cli_connection_interface_avatars_run_request_avatars
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         gint timeout_ms,
                                                         const GArray *in_contacts,
                                                         GError **error,
                                                         GMainLoop **loop);</pre>
<p>
Call the method RequestAvatars and run the main loop
until it returns. Before calling this method, you must
add a reference to any borrowed objects you need to keep,
and generally ensure that everything is in a consistent
state.
</p>
<p>
Request avatars for a number of contacts. The AvatarRetrieved signal         is emitted for each avatar retrieved. If the handles are valid but         retrieving an avatar fails (for any reason, including the contact not         having an avatar) the AvatarRetrieved signal is not emitted for that         contact.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em>&#160;:</span></p></td>
<td> A <a class="link" href="telepathy-glib-connection.html#TpConnection"><span class="type">TpConnection</span></a> or subclass
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>timeout_ms</code></em>&#160;:</span></p></td>
<td> Timeout in milliseconds, or -1 for default
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>in_contacts</code></em>&#160;:</span></p></td>
<td> Used to pass an 'in' argument: The contacts to retrieve avatars for
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></p></td>
<td> If not <code class="literal">NULL</code>, used to return errors if <code class="literal">FALSE</code> 
 is returned
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>loop</code></em>&#160;:</span></p></td>
<td> If not <code class="literal">NULL</code>, set before re-entering 
 the main loop, to point to a <span class="type">GMainLoop</span> 
 which can be used to cancel this call with 
 <code class="function">g_main_loop_quit()</code>, causing a return of 
 <code class="literal">FALSE</code> with <em class="parameter"><code>error</code></em> set to <a class="link" href="telepathy-glib-proxy.html#TP-DBUS-ERROR-CANCELLED:CAPS"><code class="literal">TP_DBUS_ERROR_CANCELLED</code></a>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> TRUE on success, FALSE and sets <em class="parameter"><code>error</code></em> on error
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2697243"></a><h3>
<a name="tp-cli-connection-interface-avatars-run-set-avatar"></a>tp_cli_connection_interface_avatars_run_set_avatar ()</h3>
<a class="indexterm" name="id2697256"></a><pre class="programlisting">gboolean            tp_cli_connection_interface_avatars_run_set_avatar
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         gint timeout_ms,
                                                         const GArray *in_avatar,
                                                         const gchar *in_mime_type,
                                                         gchar **out0,
                                                         GError **error,
                                                         GMainLoop **loop);</pre>
<p>
Call the method SetAvatar and run the main loop
until it returns. Before calling this method, you must
add a reference to any borrowed objects you need to keep,
and generally ensure that everything is in a consistent
state.
</p>
<p>
Set a new avatar image for this connection. The avatar image must         respect the requirements obtained by GetAvatarRequirements.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em>&#160;:</span></p></td>
<td> A <a class="link" href="telepathy-glib-connection.html#TpConnection"><span class="type">TpConnection</span></a> or subclass
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>timeout_ms</code></em>&#160;:</span></p></td>
<td> Timeout in milliseconds, or -1 for default
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>in_avatar</code></em>&#160;:</span></p></td>
<td> Used to pass an 'in' argument: An array of bytes representing the avatar image data
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>in_mime_type</code></em>&#160;:</span></p></td>
<td> Used to pass an 'in' argument: A string representing the image MIME type
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>out0</code></em>&#160;:</span></p></td>
<td> Used to return an 'out' argument if <code class="literal">TRUE</code> is returned: The string token of the new avatar
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></p></td>
<td> If not <code class="literal">NULL</code>, used to return errors if <code class="literal">FALSE</code> 
 is returned
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>loop</code></em>&#160;:</span></p></td>
<td> If not <code class="literal">NULL</code>, set before re-entering 
 the main loop, to point to a <span class="type">GMainLoop</span> 
 which can be used to cancel this call with 
 <code class="function">g_main_loop_quit()</code>, causing a return of 
 <code class="literal">FALSE</code> with <em class="parameter"><code>error</code></em> set to <a class="link" href="telepathy-glib-proxy.html#TP-DBUS-ERROR-CANCELLED:CAPS"><code class="literal">TP_DBUS_ERROR_CANCELLED</code></a>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> TRUE on success, FALSE and sets <em class="parameter"><code>error</code></em> on error
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2697526"></a><h3>
<a name="tp-cli-connection-interface-avatars-call-clear-avatar"></a>tp_cli_connection_interface_avatars_call_clear_avatar ()</h3>
<a class="indexterm" name="id2697540"></a><pre class="programlisting"><a class="link" href="telepathy-glib-proxy.html#TpProxyPendingCall">TpProxyPendingCall</a>* tp_cli_connection_interface_avatars_call_clear_avatar
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         gint timeout_ms,
                                                         <a class="link" href="telepathy-glib-connection-avatars.html#tp-cli-connection-interface-avatars-callback-for-clear-avatar">tp_cli_connection_interface_avatars_callback_for_clear_avatar</a> callback,
                                                         gpointer user_data,
                                                         GDestroyNotify destroy,
                                                         GObject *weak_object);</pre>
<p>
Start a ClearAvatar method call.
</p>
<p>
Remove the avatar image for this connection.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em>&#160;:</span></p></td>
<td> the <a class="link" href="telepathy-glib-proxy.html#TpProxy"><span class="type">TpProxy</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>timeout_ms</code></em>&#160;:</span></p></td>
<td> the timeout in milliseconds, or -1 to use the
  default
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>callback</code></em>&#160;:</span></p></td>
<td> called when the method call succeeds or fails
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em>&#160;:</span></p></td>
<td> user-supplied data passed to the callback
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>destroy</code></em>&#160;:</span></p></td>
<td> called with the user_data as argument, after the
  call has succeeded, failed or been cancelled
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>weak_object</code></em>&#160;:</span></p></td>
<td> A <span class="type">GObject</span> which will be weakly referenced; 
  if it is destroyed, this callback will automatically be
  disconnected
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> a <a class="link" href="telepathy-glib-proxy.html#TpProxyPendingCall"><span class="type">TpProxyPendingCall</span></a> representing the call in
 progress. It is borrowed from the object, and will become
 invalid when the callback is called, the call is
 cancelled or the <a class="link" href="telepathy-glib-proxy.html#TpProxy"><span class="type">TpProxy</span></a> becomes invalid.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2697733"></a><h3>
<a name="tp-cli-connection-interface-avatars-call-get-avatar-requirements"></a>tp_cli_connection_interface_avatars_call_get_avatar_requirements ()</h3>
<a class="indexterm" name="id2697747"></a><pre class="programlisting"><a class="link" href="telepathy-glib-proxy.html#TpProxyPendingCall">TpProxyPendingCall</a>* tp_cli_connection_interface_avatars_call_get_avatar_requirements
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         gint timeout_ms,
                                                         <a class="link" href="telepathy-glib-connection-avatars.html#tp-cli-connection-interface-avatars-callback-for-get-avatar-requirements">tp_cli_connection_interface_avatars_callback_for_get_avatar_requirements</a> callback,
                                                         gpointer user_data,
                                                         GDestroyNotify destroy,
                                                         GObject *weak_object);</pre>
<p>
Start a GetAvatarRequirements method call.
</p>
<p>
Get the required format of avatars on this connection.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em>&#160;:</span></p></td>
<td> the <a class="link" href="telepathy-glib-proxy.html#TpProxy"><span class="type">TpProxy</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>timeout_ms</code></em>&#160;:</span></p></td>
<td> the timeout in milliseconds, or -1 to use the
  default
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>callback</code></em>&#160;:</span></p></td>
<td> called when the method call succeeds or fails
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em>&#160;:</span></p></td>
<td> user-supplied data passed to the callback
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>destroy</code></em>&#160;:</span></p></td>
<td> called with the user_data as argument, after the
  call has succeeded, failed or been cancelled
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>weak_object</code></em>&#160;:</span></p></td>
<td> A <span class="type">GObject</span> which will be weakly referenced; 
  if it is destroyed, this callback will automatically be
  disconnected
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> a <a class="link" href="telepathy-glib-proxy.html#TpProxyPendingCall"><span class="type">TpProxyPendingCall</span></a> representing the call in
 progress. It is borrowed from the object, and will become
 invalid when the callback is called, the call is
 cancelled or the <a class="link" href="telepathy-glib-proxy.html#TpProxy"><span class="type">TpProxy</span></a> becomes invalid.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2697941"></a><h3>
<a name="tp-cli-connection-interface-avatars-call-get-avatar-tokens"></a>tp_cli_connection_interface_avatars_call_get_avatar_tokens ()</h3>
<a class="indexterm" name="id2697954"></a><pre class="programlisting"><a class="link" href="telepathy-glib-proxy.html#TpProxyPendingCall">TpProxyPendingCall</a>* tp_cli_connection_interface_avatars_call_get_avatar_tokens
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         gint timeout_ms,
                                                         const GArray *in_contacts,
                                                         <a class="link" href="telepathy-glib-connection-avatars.html#tp-cli-connection-interface-avatars-callback-for-get-avatar-tokens">tp_cli_connection_interface_avatars_callback_for_get_avatar_tokens</a> callback,
                                                         gpointer user_data,
                                                         GDestroyNotify destroy,
                                                         GObject *weak_object);</pre>
<p>
Start a GetAvatarTokens method call.
</p>
<p>
Get the unique tokens for all of the given contacts' avatars.          Using this method in new Telepathy clients is deprecated; use         GetKnownAvatarTokens instead.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em>&#160;:</span></p></td>
<td> the <a class="link" href="telepathy-glib-proxy.html#TpProxy"><span class="type">TpProxy</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>timeout_ms</code></em>&#160;:</span></p></td>
<td> the timeout in milliseconds, or -1 to use the
  default
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>in_contacts</code></em>&#160;:</span></p></td>
<td> Used to pass an 'in' argument: An array of handles representing contacts
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>callback</code></em>&#160;:</span></p></td>
<td> called when the method call succeeds or fails
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em>&#160;:</span></p></td>
<td> user-supplied data passed to the callback
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>destroy</code></em>&#160;:</span></p></td>
<td> called with the user_data as argument, after the
  call has succeeded, failed or been cancelled
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>weak_object</code></em>&#160;:</span></p></td>
<td> A <span class="type">GObject</span> which will be weakly referenced; 
  if it is destroyed, this callback will automatically be
  disconnected
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> a <a class="link" href="telepathy-glib-proxy.html#TpProxyPendingCall"><span class="type">TpProxyPendingCall</span></a> representing the call in
 progress. It is borrowed from the object, and will become
 invalid when the callback is called, the call is
 cancelled or the <a class="link" href="telepathy-glib-proxy.html#TpProxy"><span class="type">TpProxy</span></a> becomes invalid.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2698170"></a><h3>
<a name="tp-cli-connection-interface-avatars-call-get-known-avatar-tokens"></a>tp_cli_connection_interface_avatars_call_get_known_avatar_tokens ()</h3>
<a class="indexterm" name="id2698184"></a><pre class="programlisting"><a class="link" href="telepathy-glib-proxy.html#TpProxyPendingCall">TpProxyPendingCall</a>* tp_cli_connection_interface_avatars_call_get_known_avatar_tokens
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         gint timeout_ms,
                                                         const GArray *in_contacts,
                                                         <a class="link" href="telepathy-glib-connection-avatars.html#tp-cli-connection-interface-avatars-callback-for-get-known-avatar-tokens">tp_cli_connection_interface_avatars_callback_for_get_known_avatar_tokens</a> callback,
                                                         gpointer user_data,
                                                         GDestroyNotify destroy,
                                                         GObject *weak_object);</pre>
<p>
Start a GetKnownAvatarTokens method call.
</p>
<p>
Get the unique tokens for the given contacts' avatars. These tokens         can be persisted across connections, and should be used by the client         to check whether the avatars have been updated.  A CM must always have         the tokens for the self handle if one is set (even if it is set to no         avatar). Otherwise, only tokens that are already known are returned. An         empty token means the given contact has no avatar.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em>&#160;:</span></p></td>
<td> the <a class="link" href="telepathy-glib-proxy.html#TpProxy"><span class="type">TpProxy</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>timeout_ms</code></em>&#160;:</span></p></td>
<td> the timeout in milliseconds, or -1 to use the
  default
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>in_contacts</code></em>&#160;:</span></p></td>
<td> Used to pass an 'in' argument: An array of handles representing contacts
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>callback</code></em>&#160;:</span></p></td>
<td> called when the method call succeeds or fails
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em>&#160;:</span></p></td>
<td> user-supplied data passed to the callback
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>destroy</code></em>&#160;:</span></p></td>
<td> called with the user_data as argument, after the
  call has succeeded, failed or been cancelled
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>weak_object</code></em>&#160;:</span></p></td>
<td> A <span class="type">GObject</span> which will be weakly referenced; 
  if it is destroyed, this callback will automatically be
  disconnected
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> a <a class="link" href="telepathy-glib-proxy.html#TpProxyPendingCall"><span class="type">TpProxyPendingCall</span></a> representing the call in
 progress. It is borrowed from the object, and will become
 invalid when the callback is called, the call is
 cancelled or the <a class="link" href="telepathy-glib-proxy.html#TpProxy"><span class="type">TpProxy</span></a> becomes invalid.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2698405"></a><h3>
<a name="tp-cli-connection-interface-avatars-call-request-avatar"></a>tp_cli_connection_interface_avatars_call_request_avatar ()</h3>
<a class="indexterm" name="id2698418"></a><pre class="programlisting"><a class="link" href="telepathy-glib-proxy.html#TpProxyPendingCall">TpProxyPendingCall</a>* tp_cli_connection_interface_avatars_call_request_avatar
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         gint timeout_ms,
                                                         guint in_contact,
                                                         <a class="link" href="telepathy-glib-connection-avatars.html#tp-cli-connection-interface-avatars-callback-for-request-avatar">tp_cli_connection_interface_avatars_callback_for_request_avatar</a> callback,
                                                         gpointer user_data,
                                                         GDestroyNotify destroy,
                                                         GObject *weak_object);</pre>
<p>
Start a RequestAvatar method call.
</p>
<p>
Request the avatar for a given contact. Using this method in new         Telepathy clients is deprecated; use RequestAvatars instead.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em>&#160;:</span></p></td>
<td> the <a class="link" href="telepathy-glib-proxy.html#TpProxy"><span class="type">TpProxy</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>timeout_ms</code></em>&#160;:</span></p></td>
<td> the timeout in milliseconds, or -1 to use the
  default
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>in_contact</code></em>&#160;:</span></p></td>
<td> Used to pass an 'in' argument: An integer handle for the contact to request the avatar for
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>callback</code></em>&#160;:</span></p></td>
<td> called when the method call succeeds or fails
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em>&#160;:</span></p></td>
<td> user-supplied data passed to the callback
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>destroy</code></em>&#160;:</span></p></td>
<td> called with the user_data as argument, after the
  call has succeeded, failed or been cancelled
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>weak_object</code></em>&#160;:</span></p></td>
<td> A <span class="type">GObject</span> which will be weakly referenced; 
  if it is destroyed, this callback will automatically be
  disconnected
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> a <a class="link" href="telepathy-glib-proxy.html#TpProxyPendingCall"><span class="type">TpProxyPendingCall</span></a> representing the call in
 progress. It is borrowed from the object, and will become
 invalid when the callback is called, the call is
 cancelled or the <a class="link" href="telepathy-glib-proxy.html#TpProxy"><span class="type">TpProxy</span></a> becomes invalid.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2698634"></a><h3>
<a name="tp-cli-connection-interface-avatars-call-request-avatars"></a>tp_cli_connection_interface_avatars_call_request_avatars ()</h3>
<a class="indexterm" name="id2698647"></a><pre class="programlisting"><a class="link" href="telepathy-glib-proxy.html#TpProxyPendingCall">TpProxyPendingCall</a>* tp_cli_connection_interface_avatars_call_request_avatars
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         gint timeout_ms,
                                                         const GArray *in_contacts,
                                                         <a class="link" href="telepathy-glib-connection-avatars.html#tp-cli-connection-interface-avatars-callback-for-request-avatars">tp_cli_connection_interface_avatars_callback_for_request_avatars</a> callback,
                                                         gpointer user_data,
                                                         GDestroyNotify destroy,
                                                         GObject *weak_object);</pre>
<p>
Start a RequestAvatars method call.
</p>
<p>
Request avatars for a number of contacts. The AvatarRetrieved signal         is emitted for each avatar retrieved. If the handles are valid but         retrieving an avatar fails (for any reason, including the contact not         having an avatar) the AvatarRetrieved signal is not emitted for that         contact.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em>&#160;:</span></p></td>
<td> the <a class="link" href="telepathy-glib-proxy.html#TpProxy"><span class="type">TpProxy</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>timeout_ms</code></em>&#160;:</span></p></td>
<td> the timeout in milliseconds, or -1 to use the
  default
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>in_contacts</code></em>&#160;:</span></p></td>
<td> Used to pass an 'in' argument: The contacts to retrieve avatars for
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>callback</code></em>&#160;:</span></p></td>
<td> called when the method call succeeds or fails
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em>&#160;:</span></p></td>
<td> user-supplied data passed to the callback
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>destroy</code></em>&#160;:</span></p></td>
<td> called with the user_data as argument, after the
  call has succeeded, failed or been cancelled
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>weak_object</code></em>&#160;:</span></p></td>
<td> A <span class="type">GObject</span> which will be weakly referenced; 
  if it is destroyed, this callback will automatically be
  disconnected
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> a <a class="link" href="telepathy-glib-proxy.html#TpProxyPendingCall"><span class="type">TpProxyPendingCall</span></a> representing the call in
 progress. It is borrowed from the object, and will become
 invalid when the callback is called, the call is
 cancelled or the <a class="link" href="telepathy-glib-proxy.html#TpProxy"><span class="type">TpProxy</span></a> becomes invalid.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2698866"></a><h3>
<a name="tp-cli-connection-interface-avatars-call-set-avatar"></a>tp_cli_connection_interface_avatars_call_set_avatar ()</h3>
<a class="indexterm" name="id2698879"></a><pre class="programlisting"><a class="link" href="telepathy-glib-proxy.html#TpProxyPendingCall">TpProxyPendingCall</a>* tp_cli_connection_interface_avatars_call_set_avatar
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         gint timeout_ms,
                                                         const GArray *in_avatar,
                                                         const gchar *in_mime_type,
                                                         <a class="link" href="telepathy-glib-connection-avatars.html#tp-cli-connection-interface-avatars-callback-for-set-avatar">tp_cli_connection_interface_avatars_callback_for_set_avatar</a> callback,
                                                         gpointer user_data,
                                                         GDestroyNotify destroy,
                                                         GObject *weak_object);</pre>
<p>
Start a SetAvatar method call.
</p>
<p>
Set a new avatar image for this connection. The avatar image must         respect the requirements obtained by GetAvatarRequirements.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em>&#160;:</span></p></td>
<td> the <a class="link" href="telepathy-glib-proxy.html#TpProxy"><span class="type">TpProxy</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>timeout_ms</code></em>&#160;:</span></p></td>
<td> the timeout in milliseconds, or -1 to use the
  default
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>in_avatar</code></em>&#160;:</span></p></td>
<td> Used to pass an 'in' argument: An array of bytes representing the avatar image data
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>in_mime_type</code></em>&#160;:</span></p></td>
<td> Used to pass an 'in' argument: A string representing the image MIME type
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>callback</code></em>&#160;:</span></p></td>
<td> called when the method call succeeds or fails
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em>&#160;:</span></p></td>
<td> user-supplied data passed to the callback
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>destroy</code></em>&#160;:</span></p></td>
<td> called with the user_data as argument, after the
  call has succeeded, failed or been cancelled
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>weak_object</code></em>&#160;:</span></p></td>
<td> A <span class="type">GObject</span> which will be weakly referenced; 
  if it is destroyed, this callback will automatically be
  disconnected
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> a <a class="link" href="telepathy-glib-proxy.html#TpProxyPendingCall"><span class="type">TpProxyPendingCall</span></a> representing the call in
 progress. It is borrowed from the object, and will become
 invalid when the callback is called, the call is
 cancelled or the <a class="link" href="telepathy-glib-proxy.html#TpProxy"><span class="type">TpProxy</span></a> becomes invalid.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2699114"></a><h3>
<a name="tp-cli-connection-interface-avatars-callback-for-clear-avatar"></a>tp_cli_connection_interface_avatars_callback_for_clear_avatar ()</h3>
<a class="indexterm" name="id2699128"></a><pre class="programlisting">void                (*tp_cli_connection_interface_avatars_callback_for_clear_avatar)
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         const GError *error,
                                                         gpointer user_data,
                                                         GObject *weak_object);</pre>
<p>
Signature of the callback called when a ClearAvatar method call
succeeds or fails.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em>&#160;:</span></p></td>
<td> the proxy on which the call was made
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></p></td>
<td> <code class="literal">NULL</code> on success, or an error on failure
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em>&#160;:</span></p></td>
<td> user-supplied data
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>weak_object</code></em>&#160;:</span></p></td>
<td> user-supplied object
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2699244"></a><h3>
<a name="tp-cli-connection-interface-avatars-callback-for-get-avatar-requirements"></a>tp_cli_connection_interface_avatars_callback_for_get_avatar_requirements ()</h3>
<a class="indexterm" name="id2699259"></a><pre class="programlisting">void                (*tp_cli_connection_interface_avatars_callback_for_get_avatar_requirements)
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         const gchar **out0,
                                                         guint out1,
                                                         guint out2,
                                                         guint out3,
                                                         guint out4,
                                                         guint out5,
                                                         const GError *error,
                                                         gpointer user_data,
                                                         GObject *weak_object);</pre>
<p>
Signature of the callback called when a GetAvatarRequirements method call
succeeds or fails.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em>&#160;:</span></p></td>
<td> the proxy on which the call was made
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>out0</code></em>&#160;:</span></p></td>
<td> Used to return an 'out' argument if <em class="parameter"><code>error</code></em> is <code class="literal">NULL</code>: An array of supported MIME types (eg image/jpeg)
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>out1</code></em>&#160;:</span></p></td>
<td> Used to return an 'out' argument if <em class="parameter"><code>error</code></em> is <code class="literal">NULL</code>: The minimum image width in pixels
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>out2</code></em>&#160;:</span></p></td>
<td> Used to return an 'out' argument if <em class="parameter"><code>error</code></em> is <code class="literal">NULL</code>: The minimum image height in pixels
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>out3</code></em>&#160;:</span></p></td>
<td> Used to return an 'out' argument if <em class="parameter"><code>error</code></em> is <code class="literal">NULL</code>: The maximum image width in pixels, or 0 if there is no limit
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>out4</code></em>&#160;:</span></p></td>
<td> Used to return an 'out' argument if <em class="parameter"><code>error</code></em> is <code class="literal">NULL</code>: The maximum image height in pixels, or 0 if there is no limit
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>out5</code></em>&#160;:</span></p></td>
<td> Used to return an 'out' argument if <em class="parameter"><code>error</code></em> is <code class="literal">NULL</code>: The maximum image size in bytes, or 0 if there is no limit
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></p></td>
<td> <code class="literal">NULL</code> on success, or an error on failure
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em>&#160;:</span></p></td>
<td> user-supplied data
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>weak_object</code></em>&#160;:</span></p></td>
<td> user-supplied object
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2699581"></a><h3>
<a name="tp-cli-connection-interface-avatars-callback-for-get-avatar-tokens"></a>tp_cli_connection_interface_avatars_callback_for_get_avatar_tokens ()</h3>
<a class="indexterm" name="id2699596"></a><pre class="programlisting">void                (*tp_cli_connection_interface_avatars_callback_for_get_avatar_tokens)
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         const gchar **out0,
                                                         const GError *error,
                                                         gpointer user_data,
                                                         GObject *weak_object);</pre>
<p>
Signature of the callback called when a GetAvatarTokens method call
succeeds or fails.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em>&#160;:</span></p></td>
<td> the proxy on which the call was made
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>out0</code></em>&#160;:</span></p></td>
<td> Used to return an 'out' argument if <em class="parameter"><code>error</code></em> is <code class="literal">NULL</code>: An array of avatar tokens or empty strings (if no avatar is set) in the           same order as the given array of contact handles
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></p></td>
<td> <code class="literal">NULL</code> on success, or an error on failure
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em>&#160;:</span></p></td>
<td> user-supplied data
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>weak_object</code></em>&#160;:</span></p></td>
<td> user-supplied object
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2699746"></a><h3>
<a name="tp-cli-connection-interface-avatars-callback-for-get-known-avatar-tokens"></a>tp_cli_connection_interface_avatars_callback_for_get_known_avatar_tokens ()</h3>
<a class="indexterm" name="id2699761"></a><pre class="programlisting">void                (*tp_cli_connection_interface_avatars_callback_for_get_known_avatar_tokens)
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         GHashTable *out0,
                                                         const GError *error,
                                                         gpointer user_data,
                                                         GObject *weak_object);</pre>
<p>
Signature of the callback called when a GetKnownAvatarTokens method call
succeeds or fails.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em>&#160;:</span></p></td>
<td> the proxy on which the call was made
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>out0</code></em>&#160;:</span></p></td>
<td> Used to return an 'out' argument if <em class="parameter"><code>error</code></em> is <code class="literal">NULL</code>: A dictionary of handles mapped to avatar tokens, containing only           the known avatar tokens.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></p></td>
<td> <code class="literal">NULL</code> on success, or an error on failure
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em>&#160;:</span></p></td>
<td> user-supplied data
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>weak_object</code></em>&#160;:</span></p></td>
<td> user-supplied object
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2699912"></a><h3>
<a name="tp-cli-connection-interface-avatars-callback-for-request-avatar"></a>tp_cli_connection_interface_avatars_callback_for_request_avatar ()</h3>
<a class="indexterm" name="id2699926"></a><pre class="programlisting">void                (*tp_cli_connection_interface_avatars_callback_for_request_avatar)
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         const GArray *out0,
                                                         const gchar *out1,
                                                         const GError *error,
                                                         gpointer user_data,
                                                         GObject *weak_object);</pre>
<p>
Signature of the callback called when a RequestAvatar method call
succeeds or fails.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em>&#160;:</span></p></td>
<td> the proxy on which the call was made
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>out0</code></em>&#160;:</span></p></td>
<td> Used to return an 'out' argument if <em class="parameter"><code>error</code></em> is <code class="literal">NULL</code>: An array of bytes containing the image data
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>out1</code></em>&#160;:</span></p></td>
<td> Used to return an 'out' argument if <em class="parameter"><code>error</code></em> is <code class="literal">NULL</code>: A string containing the image MIME type (eg image/jpeg), or empty if         unknown
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></p></td>
<td> <code class="literal">NULL</code> on success, or an error on failure
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em>&#160;:</span></p></td>
<td> user-supplied data
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>weak_object</code></em>&#160;:</span></p></td>
<td> user-supplied object
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2700112"></a><h3>
<a name="tp-cli-connection-interface-avatars-callback-for-request-avatars"></a>tp_cli_connection_interface_avatars_callback_for_request_avatars ()</h3>
<a class="indexterm" name="id2700126"></a><pre class="programlisting">void                (*tp_cli_connection_interface_avatars_callback_for_request_avatars)
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         const GError *error,
                                                         gpointer user_data,
                                                         GObject *weak_object);</pre>
<p>
Signature of the callback called when a RequestAvatars method call
succeeds or fails.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em>&#160;:</span></p></td>
<td> the proxy on which the call was made
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></p></td>
<td> <code class="literal">NULL</code> on success, or an error on failure
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em>&#160;:</span></p></td>
<td> user-supplied data
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>weak_object</code></em>&#160;:</span></p></td>
<td> user-supplied object
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2700241"></a><h3>
<a name="tp-cli-connection-interface-avatars-callback-for-set-avatar"></a>tp_cli_connection_interface_avatars_callback_for_set_avatar ()</h3>
<a class="indexterm" name="id2700255"></a><pre class="programlisting">void                (*tp_cli_connection_interface_avatars_callback_for_set_avatar)
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         const gchar *out0,
                                                         const GError *error,
                                                         gpointer user_data,
                                                         GObject *weak_object);</pre>
<p>
Signature of the callback called when a SetAvatar method call
succeeds or fails.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em>&#160;:</span></p></td>
<td> the proxy on which the call was made
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>out0</code></em>&#160;:</span></p></td>
<td> Used to return an 'out' argument if <em class="parameter"><code>error</code></em> is <code class="literal">NULL</code>: The string token of the new avatar
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></p></td>
<td> <code class="literal">NULL</code> on success, or an error on failure
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em>&#160;:</span></p></td>
<td> user-supplied data
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>weak_object</code></em>&#160;:</span></p></td>
<td> user-supplied object
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2700404"></a><h3>
<a name="tp-cli-connection-interface-avatars-connect-to-avatar-retrieved"></a>tp_cli_connection_interface_avatars_connect_to_avatar_retrieved ()</h3>
<a class="indexterm" name="id2700418"></a><pre class="programlisting"><a class="link" href="telepathy-glib-proxy.html#TpProxySignalConnection">TpProxySignalConnection</a>* tp_cli_connection_interface_avatars_connect_to_avatar_retrieved
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         <a class="link" href="telepathy-glib-connection-avatars.html#tp-cli-connection-interface-avatars-signal-callback-avatar-retrieved">tp_cli_connection_interface_avatars_signal_callback_avatar_retrieved</a> callback,
                                                         gpointer user_data,
                                                         GDestroyNotify destroy,
                                                         GObject *weak_object,
                                                         GError **error);</pre>
<p>
Connect a handler to the signal AvatarRetrieved.
</p>
<p>
Emitted when the avatar for a contact has been retrieved.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em>&#160;:</span></p></td>
<td> A <a class="link" href="telepathy-glib-connection.html#TpConnection"><span class="type">TpConnection</span></a> or subclass
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>callback</code></em>&#160;:</span></p></td>
<td> Callback to be called when the signal is
  received
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em>&#160;:</span></p></td>
<td> User-supplied data for the callback
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>destroy</code></em>&#160;:</span></p></td>
<td> Destructor for the user-supplied data, which
  will be called when this signal is disconnected, or
  before this function returns <code class="literal">NULL</code>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>weak_object</code></em>&#160;:</span></p></td>
<td> A <span class="type">GObject</span> which will be weakly referenced; 
  if it is destroyed, this callback will automatically be
  disconnected
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></p></td>
<td> If not <code class="literal">NULL</code>, used to raise an error if <code class="literal">NULL</code> is
  returned
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> a <a class="link" href="telepathy-glib-proxy.html#TpProxySignalConnection"><span class="type">TpProxySignalConnection</span></a> containing all of the
above, which can be used to disconnect the signal; or
<code class="literal">NULL</code> if the proxy does not have the desired interface
or has become invalid.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2700639"></a><h3>
<a name="tp-cli-connection-interface-avatars-connect-to-avatar-updated"></a>tp_cli_connection_interface_avatars_connect_to_avatar_updated ()</h3>
<a class="indexterm" name="id2700653"></a><pre class="programlisting"><a class="link" href="telepathy-glib-proxy.html#TpProxySignalConnection">TpProxySignalConnection</a>* tp_cli_connection_interface_avatars_connect_to_avatar_updated
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         <a class="link" href="telepathy-glib-connection-avatars.html#tp-cli-connection-interface-avatars-signal-callback-avatar-updated">tp_cli_connection_interface_avatars_signal_callback_avatar_updated</a> callback,
                                                         gpointer user_data,
                                                         GDestroyNotify destroy,
                                                         GObject *weak_object,
                                                         GError **error);</pre>
<p>
Connect a handler to the signal AvatarUpdated.
</p>
<p>
Emitted when the avatar for a contact has been updated, or first         discovered on this connection. If the token differs from the token         associated with the client's cached avatar for this contact, the new         avatar should be requested with RequestAvatars.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em>&#160;:</span></p></td>
<td> A <a class="link" href="telepathy-glib-connection.html#TpConnection"><span class="type">TpConnection</span></a> or subclass
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>callback</code></em>&#160;:</span></p></td>
<td> Callback to be called when the signal is
  received
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em>&#160;:</span></p></td>
<td> User-supplied data for the callback
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>destroy</code></em>&#160;:</span></p></td>
<td> Destructor for the user-supplied data, which
  will be called when this signal is disconnected, or
  before this function returns <code class="literal">NULL</code>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>weak_object</code></em>&#160;:</span></p></td>
<td> A <span class="type">GObject</span> which will be weakly referenced; 
  if it is destroyed, this callback will automatically be
  disconnected
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></p></td>
<td> If not <code class="literal">NULL</code>, used to raise an error if <code class="literal">NULL</code> is
  returned
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> a <a class="link" href="telepathy-glib-proxy.html#TpProxySignalConnection"><span class="type">TpProxySignalConnection</span></a> containing all of the
above, which can be used to disconnect the signal; or
<code class="literal">NULL</code> if the proxy does not have the desired interface
or has become invalid.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2700878"></a><h3>
<a name="tp-cli-connection-interface-avatars-signal-callback-avatar-retrieved"></a>tp_cli_connection_interface_avatars_signal_callback_avatar_retrieved ()</h3>
<a class="indexterm" name="id2700892"></a><pre class="programlisting">void                (*tp_cli_connection_interface_avatars_signal_callback_avatar_retrieved)
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         guint arg_contact,
                                                         const gchar *arg_token,
                                                         const GArray *arg_avatar,
                                                         const gchar *arg_type,
                                                         gpointer user_data,
                                                         GObject *weak_object);</pre>
<p>
Represents the signature of a callback for the signal AvatarRetrieved.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em>&#160;:</span></p></td>
<td> The proxy on which <a class="link" href="telepathy-glib-connection-avatars.html#tp-cli-connection-interface-avatars-connect-to-avatar-retrieved"><code class="function">tp_cli_connection_interface_avatars_connect_to_avatar_retrieved()</code></a>
 was called
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>arg_contact</code></em>&#160;:</span></p></td>
<td> The contact whose avatar has been retrieved
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>arg_token</code></em>&#160;:</span></p></td>
<td> The token corresponding to the avatar
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>arg_avatar</code></em>&#160;:</span></p></td>
<td> An array of bytes containing the image data
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>arg_type</code></em>&#160;:</span></p></td>
<td> A string containing the image MIME type (eg image/jpeg), or empty if           unknown
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em>&#160;:</span></p></td>
<td> User-supplied data
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>weak_object</code></em>&#160;:</span></p></td>
<td> User-supplied weakly referenced object
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2701072"></a><h3>
<a name="tp-cli-connection-interface-avatars-signal-callback-avatar-updated"></a>tp_cli_connection_interface_avatars_signal_callback_avatar_updated ()</h3>
<a class="indexterm" name="id2701087"></a><pre class="programlisting">void                (*tp_cli_connection_interface_avatars_signal_callback_avatar_updated)
                                                        (<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a> *proxy,
                                                         guint arg_contact,
                                                         const gchar *arg_new_avatar_token,
                                                         gpointer user_data,
                                                         GObject *weak_object);</pre>
<p>
Represents the signature of a callback for the signal AvatarUpdated.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em>&#160;:</span></p></td>
<td> The proxy on which <a class="link" href="telepathy-glib-connection-avatars.html#tp-cli-connection-interface-avatars-connect-to-avatar-updated"><code class="function">tp_cli_connection_interface_avatars_connect_to_avatar_updated()</code></a>
 was called
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>arg_contact</code></em>&#160;:</span></p></td>
<td> An integer handle for the contact whose avatar has changed
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>arg_new_avatar_token</code></em>&#160;:</span></p></td>
<td> Unique token for their new avatar
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em>&#160;:</span></p></td>
<td> User-supplied data
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>weak_object</code></em>&#160;:</span></p></td>
<td> User-supplied weakly referenced object
</td>
</tr>
</tbody>
</table></div>
</div>
</div>
<div class="refsect1" lang="en">
<a name="id2701225"></a><h2>See Also</h2>
<a class="link" href="telepathy-glib-connection.html#TpConnection"><span class="type">TpConnection</span></a>
</div>
<div class="refsect1" lang="en">
<a name="id2701238"></a><div class="refsect2" lang="en"><a name="id2701239"></a></div>
<hr>
<div class="refsect2" lang="en"><a name="id2701240"></a></div>
</div>
</div>
</body>
</html>
