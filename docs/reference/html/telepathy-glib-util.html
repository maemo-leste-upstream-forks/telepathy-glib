<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Utilities</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.75.2">
<link rel="home" href="index.html" title="telepathy-glib API Reference Manual">
<link rel="up" href="ch-utilities.html" title="Utilities">
<link rel="prev" href="ch-utilities.html" title="Utilities">
<link rel="next" href="telepathy-glib-gnio-util.html" title="GNIO Utilities">
<meta name="generator" content="GTK-Doc V1.17 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2">
<tr valign="middle">
<td><a accesskey="p" href="ch-utilities.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td>
<td><a accesskey="u" href="ch-utilities.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td>
<th width="100%" align="center">telepathy-glib API Reference Manual</th>
<td><a accesskey="n" href="telepathy-glib-gnio-util.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td>
</tr>
<tr><td colspan="5" class="shortcuts">
<a href="#telepathy-glib-util.synopsis" class="shortcut">Top</a>
                   | 
                  <a href="#telepathy-glib-util.description" class="shortcut">Description</a>
</td></tr>
</table>
<div class="refentry">
<a name="telepathy-glib-util"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2><span class="refentrytitle"><a name="telepathy-glib-util.top_of_page"></a>Utilities</span></h2>
<p>Utilities — Non-Telepathy utility functions</p>
</td>
<td valign="top" align="right"></td>
</tr></table></div>
<div class="refsynopsisdiv">
<a name="telepathy-glib-util.synopsis"></a><h2>Synopsis</h2>
<pre class="synopsis">
#include &lt;telepathy-glib/util.h&gt;

#define             <a class="link" href="telepathy-glib-util.html#tp-verify" title="tp_verify()">tp_verify</a>                           (R)
#define             <a class="link" href="telepathy-glib-util.html#tp-verify-true" title="tp_verify_true()">tp_verify_true</a>                      (R)
#define             <a class="link" href="telepathy-glib-util.html#tp-verify-statement" title="tp_verify_statement()">tp_verify_statement</a>                 (R)
<span class="returnvalue">void</span>                <a class="link" href="telepathy-glib-util.html#tp-g-hash-table-update" title="tp_g_hash_table_update ()">tp_g_hash_table_update</a>              (<em class="parameter"><code><span class="type">GHashTable</span> *target</code></em>,
                                                         <em class="parameter"><code><span class="type">GHashTable</span> *source</code></em>,
                                                         <em class="parameter"><code><span class="type">GBoxedCopyFunc</span> key_dup</code></em>,
                                                         <em class="parameter"><code><span class="type">GBoxedCopyFunc</span> value_dup</code></em>);
<span class="returnvalue">gboolean</span>            <a class="link" href="telepathy-glib-util.html#tp-g-ptr-array-contains" title="tp_g_ptr_array_contains ()">tp_g_ptr_array_contains</a>             (<em class="parameter"><code><span class="type">GPtrArray</span> *haystack</code></em>,
                                                         <em class="parameter"><code><span class="type">gpointer</span> needle</code></em>);
<span class="returnvalue">void</span>                <a class="link" href="telepathy-glib-util.html#tp-g-ptr-array-extend" title="tp_g_ptr_array_extend ()">tp_g_ptr_array_extend</a>               (<em class="parameter"><code><span class="type">GPtrArray</span> *target</code></em>,
                                                         <em class="parameter"><code><span class="type">GPtrArray</span> *source</code></em>);
<span class="returnvalue">GValue</span> *            <a class="link" href="telepathy-glib-util.html#tp-g-value-slice-new" title="tp_g_value_slice_new ()">tp_g_value_slice_new</a>                (<em class="parameter"><code><span class="type">GType</span> type</code></em>);
<span class="returnvalue">GValue</span> *            <a class="link" href="telepathy-glib-util.html#tp-g-value-slice-new-boolean" title="tp_g_value_slice_new_boolean ()">tp_g_value_slice_new_boolean</a>        (<em class="parameter"><code><span class="type">gboolean</span> b</code></em>);
<span class="returnvalue">GValue</span> *            <a class="link" href="telepathy-glib-util.html#tp-g-value-slice-new-boxed" title="tp_g_value_slice_new_boxed ()">tp_g_value_slice_new_boxed</a>          (<em class="parameter"><code><span class="type">GType</span> type</code></em>,
                                                         <em class="parameter"><code><span class="type">gconstpointer</span> p</code></em>);
<span class="returnvalue">GValue</span> *            <a class="link" href="telepathy-glib-util.html#tp-g-value-slice-new-static-boxed" title="tp_g_value_slice_new_static_boxed ()">tp_g_value_slice_new_static_boxed</a>   (<em class="parameter"><code><span class="type">GType</span> type</code></em>,
                                                         <em class="parameter"><code><span class="type">gconstpointer</span> p</code></em>);
<span class="returnvalue">GValue</span> *            <a class="link" href="telepathy-glib-util.html#tp-g-value-slice-new-take-boxed" title="tp_g_value_slice_new_take_boxed ()">tp_g_value_slice_new_take_boxed</a>     (<em class="parameter"><code><span class="type">GType</span> type</code></em>,
                                                         <em class="parameter"><code><span class="type">gpointer</span> p</code></em>);
<span class="returnvalue">GValue</span> *            <a class="link" href="telepathy-glib-util.html#tp-g-value-slice-new-double" title="tp_g_value_slice_new_double ()">tp_g_value_slice_new_double</a>         (<em class="parameter"><code><span class="type">double</span> d</code></em>);
<span class="returnvalue">GValue</span> *            <a class="link" href="telepathy-glib-util.html#tp-g-value-slice-new-int" title="tp_g_value_slice_new_int ()">tp_g_value_slice_new_int</a>            (<em class="parameter"><code><span class="type">gint</span> n</code></em>);
<span class="returnvalue">GValue</span> *            <a class="link" href="telepathy-glib-util.html#tp-g-value-slice-new-int64" title="tp_g_value_slice_new_int64 ()">tp_g_value_slice_new_int64</a>          (<em class="parameter"><code><span class="type">gint64</span> n</code></em>);
<span class="returnvalue">GValue</span> *            <a class="link" href="telepathy-glib-util.html#tp-g-value-slice-new-string" title="tp_g_value_slice_new_string ()">tp_g_value_slice_new_string</a>         (<em class="parameter"><code>const <span class="type">gchar</span> *string</code></em>);
<span class="returnvalue">GValue</span> *            <a class="link" href="telepathy-glib-util.html#tp-g-value-slice-new-static-string" title="tp_g_value_slice_new_static_string ()">tp_g_value_slice_new_static_string</a>  (<em class="parameter"><code>const <span class="type">gchar</span> *string</code></em>);
<span class="returnvalue">GValue</span> *            <a class="link" href="telepathy-glib-util.html#tp-g-value-slice-new-take-string" title="tp_g_value_slice_new_take_string ()">tp_g_value_slice_new_take_string</a>    (<em class="parameter"><code><span class="type">gchar</span> *string</code></em>);
<span class="returnvalue">GValue</span> *            <a class="link" href="telepathy-glib-util.html#tp-g-value-slice-new-uint" title="tp_g_value_slice_new_uint ()">tp_g_value_slice_new_uint</a>           (<em class="parameter"><code><span class="type">guint</span> n</code></em>);
<span class="returnvalue">GValue</span> *            <a class="link" href="telepathy-glib-util.html#tp-g-value-slice-new-uint64" title="tp_g_value_slice_new_uint64 ()">tp_g_value_slice_new_uint64</a>         (<em class="parameter"><code><span class="type">guint64</span> n</code></em>);
<span class="returnvalue">GValue</span> *            <a class="link" href="telepathy-glib-util.html#tp-g-value-slice-new-byte" title="tp_g_value_slice_new_byte ()">tp_g_value_slice_new_byte</a>           (<em class="parameter"><code><span class="type">guchar</span> n</code></em>);
<span class="returnvalue">void</span>                <a class="link" href="telepathy-glib-util.html#tp-g-value-slice-free" title="tp_g_value_slice_free ()">tp_g_value_slice_free</a>               (<em class="parameter"><code><span class="type">GValue</span> *value</code></em>);
<span class="returnvalue">GValue</span> *            <a class="link" href="telepathy-glib-util.html#tp-g-value-slice-dup" title="tp_g_value_slice_dup ()">tp_g_value_slice_dup</a>                (<em class="parameter"><code>const <span class="type">GValue</span> *value</code></em>);
<span class="returnvalue">gboolean</span>            <a class="link" href="telepathy-glib-util.html#tp-str-empty" title="tp_str_empty ()">tp_str_empty</a>                        (<em class="parameter"><code>const <span class="type">gchar</span> *s</code></em>);
<span class="returnvalue">gboolean</span>            <a class="link" href="telepathy-glib-util.html#tp-strdiff" title="tp_strdiff ()">tp_strdiff</a>                          (<em class="parameter"><code>const <span class="type">gchar</span> *left</code></em>,
                                                         <em class="parameter"><code>const <span class="type">gchar</span> *right</code></em>);
<span class="returnvalue">gpointer</span>            <a class="link" href="telepathy-glib-util.html#tp-mixin-offset-cast" title="tp_mixin_offset_cast ()">tp_mixin_offset_cast</a>                (<em class="parameter"><code><span class="type">gpointer</span> instance</code></em>,
                                                         <em class="parameter"><code><span class="type">guint</span> offset</code></em>);
<span class="returnvalue">guint</span>               <a class="link" href="telepathy-glib-util.html#tp-mixin-class-get-offset" title="tp_mixin_class_get_offset ()">tp_mixin_class_get_offset</a>           (<em class="parameter"><code><span class="type">gpointer</span> klass</code></em>,
                                                         <em class="parameter"><code><span class="type">GQuark</span> quark</code></em>);
<span class="returnvalue">guint</span>               <a class="link" href="telepathy-glib-util.html#tp-mixin-instance-get-offset" title="tp_mixin_instance_get_offset ()">tp_mixin_instance_get_offset</a>        (<em class="parameter"><code><span class="type">gpointer</span> instance</code></em>,
                                                         <em class="parameter"><code><span class="type">GQuark</span> quark</code></em>);
<span class="returnvalue">gchar</span> *             <a class="link" href="telepathy-glib-util.html#tp-escape-as-identifier" title="tp_escape_as_identifier ()">tp_escape_as_identifier</a>             (<em class="parameter"><code>const <span class="type">gchar</span> *name</code></em>);
<span class="returnvalue">gboolean</span>            <a class="link" href="telepathy-glib-util.html#tp-strv-contains" title="tp_strv_contains ()">tp_strv_contains</a>                    (<em class="parameter"><code>const <span class="type">gchar</span> * const *strv</code></em>,
                                                         <em class="parameter"><code>const <span class="type">gchar</span> *str</code></em>);
<span class="returnvalue">gint64</span>              <a class="link" href="telepathy-glib-util.html#tp-g-key-file-get-int64" title="tp_g_key_file_get_int64 ()">tp_g_key_file_get_int64</a>             (<em class="parameter"><code><span class="type">GKeyFile</span> *key_file</code></em>,
                                                         <em class="parameter"><code>const <span class="type">gchar</span> *group_name</code></em>,
                                                         <em class="parameter"><code>const <span class="type">gchar</span> *key</code></em>,
                                                         <em class="parameter"><code><span class="type">GError</span> **error</code></em>);
<span class="returnvalue">guint64</span>             <a class="link" href="telepathy-glib-util.html#tp-g-key-file-get-uint64" title="tp_g_key_file_get_uint64 ()">tp_g_key_file_get_uint64</a>            (<em class="parameter"><code><span class="type">GKeyFile</span> *key_file</code></em>,
                                                         <em class="parameter"><code>const <span class="type">gchar</span> *group_name</code></em>,
                                                         <em class="parameter"><code>const <span class="type">gchar</span> *key</code></em>,
                                                         <em class="parameter"><code><span class="type">GError</span> **error</code></em>);
<span class="returnvalue">gulong</span>              <a class="link" href="telepathy-glib-util.html#tp-g-signal-connect-object" title="tp_g_signal_connect_object ()">tp_g_signal_connect_object</a>          (<em class="parameter"><code><span class="type">gpointer</span> instance</code></em>,
                                                         <em class="parameter"><code>const <span class="type">gchar</span> *detailed_signal</code></em>,
                                                         <em class="parameter"><code><span class="type">GCallback</span> c_handler</code></em>,
                                                         <em class="parameter"><code><span class="type">gpointer</span> gobject</code></em>,
                                                         <em class="parameter"><code><span class="type">GConnectFlags</span> connect_flags</code></em>);
<span class="returnvalue">GValueArray</span> *       <a class="link" href="telepathy-glib-util.html#tp-value-array-build" title="tp_value_array_build ()">tp_value_array_build</a>                (<em class="parameter"><code><span class="type">gsize</span> length</code></em>,
                                                         <em class="parameter"><code><span class="type">GType</span> type</code></em>,
                                                         <em class="parameter"><code>...</code></em>);
<span class="returnvalue">void</span>                <a class="link" href="telepathy-glib-util.html#tp-value-array-unpack" title="tp_value_array_unpack ()">tp_value_array_unpack</a>               (<em class="parameter"><code><span class="type">GValueArray</span> *array</code></em>,
                                                         <em class="parameter"><code><span class="type">gsize</span> len</code></em>,
                                                         <em class="parameter"><code>...</code></em>);
                    <a class="link" href="telepathy-glib-util.html#TpWeakRef" title="TpWeakRef">TpWeakRef</a>;
<a class="link" href="telepathy-glib-util.html#TpWeakRef" title="TpWeakRef"><span class="returnvalue">TpWeakRef</span></a> *         <a class="link" href="telepathy-glib-util.html#tp-weak-ref-new" title="tp_weak_ref_new ()">tp_weak_ref_new</a>                     (<em class="parameter"><code><span class="type">gpointer</span> object</code></em>,
                                                         <em class="parameter"><code><span class="type">gpointer</span> user_data</code></em>,
                                                         <em class="parameter"><code><span class="type">GDestroyNotify</span> destroy</code></em>);
<span class="returnvalue">gpointer</span>            <a class="link" href="telepathy-glib-util.html#tp-weak-ref-dup-object" title="tp_weak_ref_dup_object ()">tp_weak_ref_dup_object</a>              (<em class="parameter"><code><a class="link" href="telepathy-glib-util.html#TpWeakRef" title="TpWeakRef"><span class="type">TpWeakRef</span></a> *self</code></em>);
<span class="returnvalue">gpointer</span>            <a class="link" href="telepathy-glib-util.html#tp-weak-ref-get-user-data" title="tp_weak_ref_get_user_data ()">tp_weak_ref_get_user_data</a>           (<em class="parameter"><code><a class="link" href="telepathy-glib-util.html#TpWeakRef" title="TpWeakRef"><span class="type">TpWeakRef</span></a> *self</code></em>);
<span class="returnvalue">void</span>                <a class="link" href="telepathy-glib-util.html#tp-weak-ref-destroy" title="tp_weak_ref_destroy ()">tp_weak_ref_destroy</a>                 (<em class="parameter"><code><a class="link" href="telepathy-glib-util.html#TpWeakRef" title="TpWeakRef"><span class="type">TpWeakRef</span></a> *self</code></em>);
#define             <a class="link" href="telepathy-glib-util.html#tp-clear-pointer" title="tp_clear_pointer()">tp_clear_pointer</a>                    (pp,
                                                         destroy)
#define             <a class="link" href="telepathy-glib-util.html#tp-clear-object" title="tp_clear_object()">tp_clear_object</a>                     (op)
#define             <a class="link" href="telepathy-glib-util.html#tp-clear-boxed" title="tp_clear_boxed()">tp_clear_boxed</a>                      (gtype,
                                                         pp)
<span class="returnvalue">void</span>                <a class="link" href="telepathy-glib-util.html#tp-simple-async-report-success-in-idle" title="tp_simple_async_report_success_in_idle ()">tp_simple_async_report_success_in_idle</a>
                                                        (<em class="parameter"><code><span class="type">GObject</span> *source</code></em>,
                                                         <em class="parameter"><code><span class="type">GAsyncReadyCallback</span> callback</code></em>,
                                                         <em class="parameter"><code><span class="type">gpointer</span> user_data</code></em>,
                                                         <em class="parameter"><code><span class="type">gpointer</span> source_tag</code></em>);
<span class="returnvalue">gint64</span>              <a class="link" href="telepathy-glib-util.html#tp-user-action-time-from-x11" title="tp_user_action_time_from_x11 ()">tp_user_action_time_from_x11</a>        (<em class="parameter"><code><span class="type">guint32</span> x11_time</code></em>);
<span class="returnvalue">gboolean</span>            <a class="link" href="telepathy-glib-util.html#tp-user-action-time-should-present" title="tp_user_action_time_should_present ()">tp_user_action_time_should_present</a>  (<em class="parameter"><code><span class="type">gint64</span> user_action_time</code></em>,
                                                         <em class="parameter"><code><span class="type">guint32</span> *x11_time</code></em>);
<span class="returnvalue">gchar</span> *             <a class="link" href="telepathy-glib-util.html#tp-utf8-make-valid" title="tp_utf8_make_valid ()">tp_utf8_make_valid</a>                  (<em class="parameter"><code>const <span class="type">gchar</span> *name</code></em>);
</pre>
</div>
<div class="refsect1">
<a name="telepathy-glib-util.description"></a><h2>Description</h2>
<p>
Some utility functions used in telepathy-glib which could have been in
GLib, but aren't.
</p>
</div>
<div class="refsect1">
<a name="telepathy-glib-util.details"></a><h2>Details</h2>
<div class="refsect2">
<a name="tp-verify"></a><h3>tp_verify()</h3>
<pre class="programlisting"># define tp_verify(R) extern int (* tp_verify_function__ (void)) [tp_verify_true (R)]
</pre>
<p>
Make an assertion at compile time, like C++0x's proposed static_assert
keyword. If <em class="parameter"><code>R</code></em> is determined to be true, there is no overhead at runtime;
if <em class="parameter"><code>R</code></em> is determined to be false, compilation will fail.
</p>
<p>
This macro can be used at file scope (it expands to a dummy extern
declaration).
</p>
<p>
(This is gnulib's verify macro, written by Paul Eggert, Bruno Haible and
Jim Meyering.)
</p>
<p>
This macro will be deprecated in a future telepathy-glib release. Please
use GLib 2.20's <code class="function">G_STATIC_ASSERT()</code> macro in new code.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><p><span class="term"><em class="parameter"><code>R</code></em> :</span></p></td>
<td>a requirement (constant expression) to be checked at compile-time</td>
</tr></tbody>
</table></div>
<p class="since">Since 0.7.34</p>
</div>
<hr>
<div class="refsect2">
<a name="tp-verify-true"></a><h3>tp_verify_true()</h3>
<pre class="programlisting">#define             tp_verify_true(R)</pre>
<p>
Make an assertion at compile time, like C++0x's proposed static_assert
keyword. If <em class="parameter"><code>R</code></em> is determined to be true, there is no overhead at runtime,
and the macro evaluates to 1 as an integer constant expression;
if <em class="parameter"><code>R</code></em> is determined to be false, compilation will fail.
</p>
<p>
This macro can be used anywhere that an integer constant expression would
be allowed.
</p>
<p>
(This is gnulib's verify_true macro, written by Paul Eggert, Bruno Haible
and Jim Meyering.)
</p>
<p>
This macro will be deprecated in a future telepathy-glib release. Please
use GLib 2.20's <code class="function">G_STATIC_ASSERT()</code> macro in new code.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>R</code></em> :</span></p></td>
<td>a requirement (constant expression) to be checked at compile-time</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>1</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 0.7.34</p>
</div>
<hr>
<div class="refsect2">
<a name="tp-verify-statement"></a><h3>tp_verify_statement()</h3>
<pre class="programlisting">#define tp_verify_statement(R) ((void) tp_verify_true (R))
</pre>
<p>
Make an assertion at compile time, like C++0x's proposed static_assert
keyword. If <em class="parameter"><code>R</code></em> is determined to be true, there is no overhead at runtime;
if <em class="parameter"><code>R</code></em> is determined to be false, compilation will fail.
</p>
<p>
This macro can be used anywhere that a statement would be allowed; it
is equivalent to ((void) tp_verify_true (R)).
</p>
<p>
This macro will be deprecated in a future telepathy-glib release. Please
use GLib 2.20's <code class="function">G_STATIC_ASSERT()</code> macro in new code.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><p><span class="term"><em class="parameter"><code>R</code></em> :</span></p></td>
<td>a requirement (constant expression) to be checked at compile-time</td>
</tr></tbody>
</table></div>
<p class="since">Since 0.7.34</p>
</div>
<hr>
<div class="refsect2">
<a name="tp-g-hash-table-update"></a><h3>tp_g_hash_table_update ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                tp_g_hash_table_update              (<em class="parameter"><code><span class="type">GHashTable</span> *target</code></em>,
                                                         <em class="parameter"><code><span class="type">GHashTable</span> *source</code></em>,
                                                         <em class="parameter"><code><span class="type">GBoxedCopyFunc</span> key_dup</code></em>,
                                                         <em class="parameter"><code><span class="type">GBoxedCopyFunc</span> value_dup</code></em>);</pre>
<p>
Add each item in <em class="parameter"><code>source</code></em> to <em class="parameter"><code>target</code></em>, replacing any existing item with the
same key. <em class="parameter"><code>key_dup</code></em> and <em class="parameter"><code>value_dup</code></em> are used to duplicate the items; in
principle they could also be used to convert between types.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>target</code></em> :</span></p></td>
<td>The hash table to be updated</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>source</code></em> :</span></p></td>
<td>The hash table to update it with (read-only)</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>key_dup</code></em> :</span></p></td>
<td>function to duplicate a key from <em class="parameter"><code>source</code></em> so it can be be stored
in <em class="parameter"><code>target</code></em>. If NULL, the key is not copied, but is used as-is</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>value_dup</code></em> :</span></p></td>
<td>function to duplicate a value from <em class="parameter"><code>source</code></em> so it can be stored
in <em class="parameter"><code>target</code></em>. If NULL, the value is not copied, but is used as-is</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 0.7.0</p>
</div>
<hr>
<div class="refsect2">
<a name="tp-g-ptr-array-contains"></a><h3>tp_g_ptr_array_contains ()</h3>
<pre class="programlisting"><span class="returnvalue">gboolean</span>            tp_g_ptr_array_contains             (<em class="parameter"><code><span class="type">GPtrArray</span> *haystack</code></em>,
                                                         <em class="parameter"><code><span class="type">gpointer</span> needle</code></em>);</pre>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>haystack</code></em> :</span></p></td>
<td>The pointer array to be searched</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>needle</code></em> :</span></p></td>
<td>The pointer to look for</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>
<code class="literal">TRUE</code> if <em class="parameter"><code>needle</code></em> is one of the elements of <em class="parameter"><code>haystack</code></em>
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="tp-g-ptr-array-extend"></a><h3>tp_g_ptr_array_extend ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                tp_g_ptr_array_extend               (<em class="parameter"><code><span class="type">GPtrArray</span> *target</code></em>,
                                                         <em class="parameter"><code><span class="type">GPtrArray</span> *source</code></em>);</pre>
<p>
Appends all elements of <em class="parameter"><code>source</code></em> to <em class="parameter"><code>target</code></em>. Note that this only copies the
pointers from <em class="parameter"><code>source</code></em>; any duplication or reference-incrementing must be
performed by the caller.
</p>
<p>
After this function has been called, it is safe to call
<code class="function">g_ptr_array_free()</code> on <em class="parameter"><code>source</code></em> and also free the actual pointer array,
as long as doing so does not free the data pointed to by the new
items in <em class="parameter"><code>target</code></em>.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>target</code></em> :</span></p></td>
<td>a <span class="type">GPtrArray</span> to copy items to</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>source</code></em> :</span></p></td>
<td>a <span class="type">GPtrArray</span> to copy items from</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 0.14.3</p>
</div>
<hr>
<div class="refsect2">
<a name="tp-g-value-slice-new"></a><h3>tp_g_value_slice_new ()</h3>
<pre class="programlisting"><span class="returnvalue">GValue</span> *            tp_g_value_slice_new                (<em class="parameter"><code><span class="type">GType</span> type</code></em>);</pre>
<p>
Slice-allocate an empty <span class="type">GValue</span>. <a class="link" href="telepathy-glib-util.html#tp-g-value-slice-new-boolean" title="tp_g_value_slice_new_boolean ()"><code class="function">tp_g_value_slice_new_boolean()</code></a> and similar
functions are likely to be more convenient to use for the types supported.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>type</code></em> :</span></p></td>
<td>The type desired for the new GValue</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>a newly allocated, newly initialized <span class="type">GValue</span>, to be freed with
<a class="link" href="telepathy-glib-util.html#tp-g-value-slice-free" title="tp_g_value_slice_free ()"><code class="function">tp_g_value_slice_free()</code></a> or <code class="function">g_slice_free()</code>.</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 0.5.14</p>
</div>
<hr>
<div class="refsect2">
<a name="tp-g-value-slice-new-boolean"></a><h3>tp_g_value_slice_new_boolean ()</h3>
<pre class="programlisting"><span class="returnvalue">GValue</span> *            tp_g_value_slice_new_boolean        (<em class="parameter"><code><span class="type">gboolean</span> b</code></em>);</pre>
<p>
Slice-allocate and initialize a <span class="type">GValue</span>. This function is convenient to
use when constructing hash tables from string to <span class="type">GValue</span>, for example.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>b</code></em> :</span></p></td>
<td>a boolean value</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>a <span class="type">GValue</span> of type <code class="literal">G_TYPE_BOOLEAN</code> with value <em class="parameter"><code>b</code></em>, to be freed with
<a class="link" href="telepathy-glib-util.html#tp-g-value-slice-free" title="tp_g_value_slice_free ()"><code class="function">tp_g_value_slice_free()</code></a> or <code class="function">g_slice_free()</code>
</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 0.7.27</p>
</div>
<hr>
<div class="refsect2">
<a name="tp-g-value-slice-new-boxed"></a><h3>tp_g_value_slice_new_boxed ()</h3>
<pre class="programlisting"><span class="returnvalue">GValue</span> *            tp_g_value_slice_new_boxed          (<em class="parameter"><code><span class="type">GType</span> type</code></em>,
                                                         <em class="parameter"><code><span class="type">gconstpointer</span> p</code></em>);</pre>
<p>
Slice-allocate and initialize a <span class="type">GValue</span>. This function is convenient to
use when constructing hash tables from string to <span class="type">GValue</span>, for example.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>type</code></em> :</span></p></td>
<td>a boxed type</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>p</code></em> :</span></p></td>
<td>a pointer of type <em class="parameter"><code>type</code></em>, which will be copied</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>a <span class="type">GValue</span> of type <em class="parameter"><code>type</code></em> whose value is a copy of <em class="parameter"><code>p</code></em>,
to be freed with <a class="link" href="telepathy-glib-util.html#tp-g-value-slice-free" title="tp_g_value_slice_free ()"><code class="function">tp_g_value_slice_free()</code></a> or <code class="function">g_slice_free()</code>
</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 0.7.27</p>
</div>
<hr>
<div class="refsect2">
<a name="tp-g-value-slice-new-static-boxed"></a><h3>tp_g_value_slice_new_static_boxed ()</h3>
<pre class="programlisting"><span class="returnvalue">GValue</span> *            tp_g_value_slice_new_static_boxed   (<em class="parameter"><code><span class="type">GType</span> type</code></em>,
                                                         <em class="parameter"><code><span class="type">gconstpointer</span> p</code></em>);</pre>
<p>
Slice-allocate and initialize a <span class="type">GValue</span>. This function is convenient to
use when constructing hash tables from string to <span class="type">GValue</span>, for example.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>type</code></em> :</span></p></td>
<td>a boxed type</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>p</code></em> :</span></p></td>
<td>a pointer of type <em class="parameter"><code>type</code></em>, which must remain valid forever</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>a <span class="type">GValue</span> of type <em class="parameter"><code>type</code></em> whose value is <em class="parameter"><code>p</code></em>,
to be freed with <a class="link" href="telepathy-glib-util.html#tp-g-value-slice-free" title="tp_g_value_slice_free ()"><code class="function">tp_g_value_slice_free()</code></a> or <code class="function">g_slice_free()</code>
</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 0.7.27</p>
</div>
<hr>
<div class="refsect2">
<a name="tp-g-value-slice-new-take-boxed"></a><h3>tp_g_value_slice_new_take_boxed ()</h3>
<pre class="programlisting"><span class="returnvalue">GValue</span> *            tp_g_value_slice_new_take_boxed     (<em class="parameter"><code><span class="type">GType</span> type</code></em>,
                                                         <em class="parameter"><code><span class="type">gpointer</span> p</code></em>);</pre>
<p>
Slice-allocate and initialize a <span class="type">GValue</span>. This function is convenient to
use when constructing hash tables from string to <span class="type">GValue</span>, for example.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>type</code></em> :</span></p></td>
<td>a boxed type</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>p</code></em> :</span></p></td>
<td>a pointer of type <em class="parameter"><code>type</code></em> which will be freed with <code class="function">g_boxed_free()</code> by the
returned <span class="type">GValue</span> (the caller must own it before calling this function, but
no longer owns it after this function returns)</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>a <span class="type">GValue</span> of type <em class="parameter"><code>type</code></em> whose value is <em class="parameter"><code>p</code></em>,
to be freed with <a class="link" href="telepathy-glib-util.html#tp-g-value-slice-free" title="tp_g_value_slice_free ()"><code class="function">tp_g_value_slice_free()</code></a> or <code class="function">g_slice_free()</code>
</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 0.7.27</p>
</div>
<hr>
<div class="refsect2">
<a name="tp-g-value-slice-new-double"></a><h3>tp_g_value_slice_new_double ()</h3>
<pre class="programlisting"><span class="returnvalue">GValue</span> *            tp_g_value_slice_new_double         (<em class="parameter"><code><span class="type">double</span> d</code></em>);</pre>
<p>
Slice-allocate and initialize a <span class="type">GValue</span>. This function is convenient to
use when constructing hash tables from string to <span class="type">GValue</span>, for example.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>d</code></em> :</span></p></td>
<td>a number</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>a <span class="type">GValue</span> of type <code class="literal">G_TYPE_DOUBLE</code> with value <em class="parameter"><code>n</code></em>, to be freed with
<a class="link" href="telepathy-glib-util.html#tp-g-value-slice-free" title="tp_g_value_slice_free ()"><code class="function">tp_g_value_slice_free()</code></a> or <code class="function">g_slice_free()</code>
</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 0.7.27</p>
</div>
<hr>
<div class="refsect2">
<a name="tp-g-value-slice-new-int"></a><h3>tp_g_value_slice_new_int ()</h3>
<pre class="programlisting"><span class="returnvalue">GValue</span> *            tp_g_value_slice_new_int            (<em class="parameter"><code><span class="type">gint</span> n</code></em>);</pre>
<p>
Slice-allocate and initialize a <span class="type">GValue</span>. This function is convenient to
use when constructing hash tables from string to <span class="type">GValue</span>, for example.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>n</code></em> :</span></p></td>
<td>an integer</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>a <span class="type">GValue</span> of type <code class="literal">G_TYPE_INT</code> with value <em class="parameter"><code>n</code></em>, to be freed with
<a class="link" href="telepathy-glib-util.html#tp-g-value-slice-free" title="tp_g_value_slice_free ()"><code class="function">tp_g_value_slice_free()</code></a> or <code class="function">g_slice_free()</code>
</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 0.7.27</p>
</div>
<hr>
<div class="refsect2">
<a name="tp-g-value-slice-new-int64"></a><h3>tp_g_value_slice_new_int64 ()</h3>
<pre class="programlisting"><span class="returnvalue">GValue</span> *            tp_g_value_slice_new_int64          (<em class="parameter"><code><span class="type">gint64</span> n</code></em>);</pre>
<p>
Slice-allocate and initialize a <span class="type">GValue</span>. This function is convenient to
use when constructing hash tables from string to <span class="type">GValue</span>, for example.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>n</code></em> :</span></p></td>
<td>a 64-bit integer</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>a <span class="type">GValue</span> of type <code class="literal">G_TYPE_INT64</code> with value <em class="parameter"><code>n</code></em>, to be freed with
<a class="link" href="telepathy-glib-util.html#tp-g-value-slice-free" title="tp_g_value_slice_free ()"><code class="function">tp_g_value_slice_free()</code></a> or <code class="function">g_slice_free()</code>
</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 0.7.27</p>
</div>
<hr>
<div class="refsect2">
<a name="tp-g-value-slice-new-string"></a><h3>tp_g_value_slice_new_string ()</h3>
<pre class="programlisting"><span class="returnvalue">GValue</span> *            tp_g_value_slice_new_string         (<em class="parameter"><code>const <span class="type">gchar</span> *string</code></em>);</pre>
<p>
Slice-allocate and initialize a <span class="type">GValue</span>. This function is convenient to
use when constructing hash tables from string to <span class="type">GValue</span>, for example.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>string</code></em> :</span></p></td>
<td>a string to be copied into the value</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>a <span class="type">GValue</span> of type <code class="literal">G_TYPE_STRING</code> whose value is a copy of <em class="parameter"><code>string</code></em>,
to be freed with <a class="link" href="telepathy-glib-util.html#tp-g-value-slice-free" title="tp_g_value_slice_free ()"><code class="function">tp_g_value_slice_free()</code></a> or <code class="function">g_slice_free()</code>
</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 0.7.27</p>
</div>
<hr>
<div class="refsect2">
<a name="tp-g-value-slice-new-static-string"></a><h3>tp_g_value_slice_new_static_string ()</h3>
<pre class="programlisting"><span class="returnvalue">GValue</span> *            tp_g_value_slice_new_static_string  (<em class="parameter"><code>const <span class="type">gchar</span> *string</code></em>);</pre>
<p>
Slice-allocate and initialize a <span class="type">GValue</span>. This function is convenient to
use when constructing hash tables from string to <span class="type">GValue</span>, for example.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>string</code></em> :</span></p></td>
<td>a static string which must remain valid forever, to be pointed to
by the value</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>a <span class="type">GValue</span> of type <code class="literal">G_TYPE_STRING</code> whose value is <em class="parameter"><code>string</code></em>,
to be freed with <a class="link" href="telepathy-glib-util.html#tp-g-value-slice-free" title="tp_g_value_slice_free ()"><code class="function">tp_g_value_slice_free()</code></a> or <code class="function">g_slice_free()</code>
</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 0.7.27</p>
</div>
<hr>
<div class="refsect2">
<a name="tp-g-value-slice-new-take-string"></a><h3>tp_g_value_slice_new_take_string ()</h3>
<pre class="programlisting"><span class="returnvalue">GValue</span> *            tp_g_value_slice_new_take_string    (<em class="parameter"><code><span class="type">gchar</span> *string</code></em>);</pre>
<p>
Slice-allocate and initialize a <span class="type">GValue</span>. This function is convenient to
use when constructing hash tables from string to <span class="type">GValue</span>, for example.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>string</code></em> :</span></p></td>
<td>a string which will be freed with <code class="function">g_free()</code> by the returned <span class="type">GValue</span>
(the caller must own it before calling this function, but no longer owns
it after this function returns)</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>a <span class="type">GValue</span> of type <code class="literal">G_TYPE_STRING</code> whose value is <em class="parameter"><code>string</code></em>,
to be freed with <a class="link" href="telepathy-glib-util.html#tp-g-value-slice-free" title="tp_g_value_slice_free ()"><code class="function">tp_g_value_slice_free()</code></a> or <code class="function">g_slice_free()</code>
</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 0.7.27</p>
</div>
<hr>
<div class="refsect2">
<a name="tp-g-value-slice-new-uint"></a><h3>tp_g_value_slice_new_uint ()</h3>
<pre class="programlisting"><span class="returnvalue">GValue</span> *            tp_g_value_slice_new_uint           (<em class="parameter"><code><span class="type">guint</span> n</code></em>);</pre>
<p>
Slice-allocate and initialize a <span class="type">GValue</span>. This function is convenient to
use when constructing hash tables from string to <span class="type">GValue</span>, for example.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>n</code></em> :</span></p></td>
<td>an unsigned integer</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>a <span class="type">GValue</span> of type <code class="literal">G_TYPE_UINT</code> with value <em class="parameter"><code>n</code></em>, to be freed with
<a class="link" href="telepathy-glib-util.html#tp-g-value-slice-free" title="tp_g_value_slice_free ()"><code class="function">tp_g_value_slice_free()</code></a> or <code class="function">g_slice_free()</code>
</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 0.7.27</p>
</div>
<hr>
<div class="refsect2">
<a name="tp-g-value-slice-new-uint64"></a><h3>tp_g_value_slice_new_uint64 ()</h3>
<pre class="programlisting"><span class="returnvalue">GValue</span> *            tp_g_value_slice_new_uint64         (<em class="parameter"><code><span class="type">guint64</span> n</code></em>);</pre>
<p>
Slice-allocate and initialize a <span class="type">GValue</span>. This function is convenient to
use when constructing hash tables from string to <span class="type">GValue</span>, for example.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>n</code></em> :</span></p></td>
<td>a 64-bit unsigned integer</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>a <span class="type">GValue</span> of type <code class="literal">G_TYPE_UINT64</code> with value <em class="parameter"><code>n</code></em>, to be freed with
<a class="link" href="telepathy-glib-util.html#tp-g-value-slice-free" title="tp_g_value_slice_free ()"><code class="function">tp_g_value_slice_free()</code></a> or <code class="function">g_slice_free()</code>
</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 0.7.27</p>
</div>
<hr>
<div class="refsect2">
<a name="tp-g-value-slice-new-byte"></a><h3>tp_g_value_slice_new_byte ()</h3>
<pre class="programlisting"><span class="returnvalue">GValue</span> *            tp_g_value_slice_new_byte           (<em class="parameter"><code><span class="type">guchar</span> n</code></em>);</pre>
<p>
Slice-allocate and initialize a <span class="type">GValue</span>. This function is convenient to
use when constructing hash tables from string to <span class="type">GValue</span>, for example.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>n</code></em> :</span></p></td>
<td>an unsigned integer</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>a <span class="type">GValue</span> of type <code class="literal">G_TYPE_UCHAR</code> with value <em class="parameter"><code>n</code></em>, to be freed with
<a class="link" href="telepathy-glib-util.html#tp-g-value-slice-free" title="tp_g_value_slice_free ()"><code class="function">tp_g_value_slice_free()</code></a> or <code class="function">g_slice_free()</code>
</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 0.11.0</p>
</div>
<hr>
<div class="refsect2">
<a name="tp-g-value-slice-free"></a><h3>tp_g_value_slice_free ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                tp_g_value_slice_free               (<em class="parameter"><code><span class="type">GValue</span> *value</code></em>);</pre>
<p>
Unset and free a slice-allocated GValue.
</p>
<p>
<code class="literal">(GDestroyNotify) tp_g_value_slice_free</code> can be used
as a destructor for values in a <span class="type">GHashTable</span>, for example.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><p><span class="term"><em class="parameter"><code>value</code></em> :</span></p></td>
<td>A GValue which was allocated with the g_slice API</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="tp-g-value-slice-dup"></a><h3>tp_g_value_slice_dup ()</h3>
<pre class="programlisting"><span class="returnvalue">GValue</span> *            tp_g_value_slice_dup                (<em class="parameter"><code>const <span class="type">GValue</span> *value</code></em>);</pre>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>value</code></em> :</span></p></td>
<td>A GValue</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>a newly allocated copy of <em class="parameter"><code>value</code></em>, to be freed with
<a class="link" href="telepathy-glib-util.html#tp-g-value-slice-free" title="tp_g_value_slice_free ()"><code class="function">tp_g_value_slice_free()</code></a> or <code class="function">g_slice_free()</code>.</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 0.5.14</p>
</div>
<hr>
<div class="refsect2">
<a name="tp-str-empty"></a><h3>tp_str_empty ()</h3>
<pre class="programlisting"><span class="returnvalue">gboolean</span>            tp_str_empty                        (<em class="parameter"><code>const <span class="type">gchar</span> *s</code></em>);</pre>
<p>
Return <code class="literal">TRUE</code> if <em class="parameter"><code>s</code></em> is empty, counting <code class="literal">NULL</code> as empty.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>s</code></em> :</span></p></td>
<td>a string. <span class="annotation">[<acronym title="Override the parsed C type with given type"><span class="acronym">type</span></acronym> utf8][<acronym title="Don't free data after the code is done."><span class="acronym">transfer none</span></acronym>]</span>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>
<code class="literal">TRUE</code> if <em class="parameter"><code>s</code></em> is either <code class="literal">NULL</code> or "". <span class="annotation">[<acronym title="Override the parsed C type with given type"><span class="acronym">type</span></acronym> boolean]</span>
</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 0.11.1</p>
</div>
<hr>
<div class="refsect2">
<a name="tp-strdiff"></a><h3>tp_strdiff ()</h3>
<pre class="programlisting"><span class="returnvalue">gboolean</span>            tp_strdiff                          (<em class="parameter"><code>const <span class="type">gchar</span> *left</code></em>,
                                                         <em class="parameter"><code>const <span class="type">gchar</span> *right</code></em>);</pre>
<p>
Return <code class="literal">TRUE</code> if the given strings are different. Unlike <span class="type">strcmp</span> this
function will handle null pointers, treating them as distinct from any
string.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>left</code></em> :</span></p></td>
<td>The first string to compare (may be NULL)</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>right</code></em> :</span></p></td>
<td>The second string to compare (may be NULL)</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>
<code class="literal">FALSE</code> if <em class="parameter"><code>left</code></em> and <em class="parameter"><code>right</code></em> are both <code class="literal">NULL</code>, or if
neither is <code class="literal">NULL</code> and both have the same contents; <code class="literal">TRUE</code> otherwise</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="tp-mixin-offset-cast"></a><h3>tp_mixin_offset_cast ()</h3>
<pre class="programlisting"><span class="returnvalue">gpointer</span>            tp_mixin_offset_cast                (<em class="parameter"><code><span class="type">gpointer</span> instance</code></em>,
                                                         <em class="parameter"><code><span class="type">guint</span> offset</code></em>);</pre>
<p>
Extend a pointer by an offset, provided the offset is not 0.
This is used to cast from an object instance to one of the telepathy-glib
mixin classes.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>instance</code></em> :</span></p></td>
<td>A pointer to a structure</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>offset</code></em> :</span></p></td>
<td>The offset of a structure member in bytes, which must not be 0</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>a pointer <em class="parameter"><code>offset</code></em> bytes beyond <em class="parameter"><code>instance</code></em>
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="tp-mixin-class-get-offset"></a><h3>tp_mixin_class_get_offset ()</h3>
<pre class="programlisting"><span class="returnvalue">guint</span>               tp_mixin_class_get_offset           (<em class="parameter"><code><span class="type">gpointer</span> klass</code></em>,
                                                         <em class="parameter"><code><span class="type">GQuark</span> quark</code></em>);</pre>
<p>
If the type of <em class="parameter"><code>klass</code></em>, or any of its ancestor types, has had an offset
attached using qdata with the given <em class="parameter"><code>quark</code></em>, return that offset; if not,
return 0.
</p>
<p>
In older telepathy-glib versions, calling this function on an instance that
did not have the mixin was considered to be a programming error. Since
version 0.13.9, 0 is returned, without error.
</p>
<p>
This is used to implement the telepathy-glib mixin classes.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>klass</code></em> :</span></p></td>
<td>A pointer to a GObjectClass-derived class structure</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>quark</code></em> :</span></p></td>
<td>A quark that was used to store the offset with <code class="function">g_type_set_qdata()</code>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>the offset of the mixin class</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="tp-mixin-instance-get-offset"></a><h3>tp_mixin_instance_get_offset ()</h3>
<pre class="programlisting"><span class="returnvalue">guint</span>               tp_mixin_instance_get_offset        (<em class="parameter"><code><span class="type">gpointer</span> instance</code></em>,
                                                         <em class="parameter"><code><span class="type">GQuark</span> quark</code></em>);</pre>
<p>
If the type of <em class="parameter"><code>instance</code></em>, or any of its ancestor types, has had an offset
attached using qdata with the given <em class="parameter"><code>quark</code></em>, return that offset. If not,
return 0.
</p>
<p>
In older telepathy-glib versions, calling this function on an instance that
did not have the mixin was considered to be a programming error. Since
version 0.13.9, 0 is returned, without error.
</p>
<p>
This is used to implement the telepathy-glib mixin classes.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>instance</code></em> :</span></p></td>
<td>A pointer to a GObject-derived instance structure</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>quark</code></em> :</span></p></td>
<td>A quark that was used to store the offset with <code class="function">g_type_set_qdata()</code>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>the offset of the mixin</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="tp-escape-as-identifier"></a><h3>tp_escape_as_identifier ()</h3>
<pre class="programlisting"><span class="returnvalue">gchar</span> *             tp_escape_as_identifier             (<em class="parameter"><code>const <span class="type">gchar</span> *name</code></em>);</pre>
<p>
Escape an arbitrary string so it follows the rules for a C identifier,
and hence an object path component, interface element component,
bus name component or member name in D-Bus.
</p>
<p>
Unlike g_strcanon this is a reversible encoding, so it preserves
distinctness.
</p>
<p>
The escaping consists of replacing all non-alphanumerics, and the first
character if it's a digit, with an underscore and two lower-case hex
digits:
</p>
<p>
   "0123abc_xyz\x01\xff" -&gt; _30123abc_5fxyz_01_ff
</p>
<p>
i.e. similar to URI encoding, but with _ taking the role of %, and a
smaller allowed set. As a special case, "" is escaped to "_" (just for
completeness, really).
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>name</code></em> :</span></p></td>
<td>The string to be escaped</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>the escaped string, which must be freed by the caller with <span class="type">g_free</span>
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="tp-strv-contains"></a><h3>tp_strv_contains ()</h3>
<pre class="programlisting"><span class="returnvalue">gboolean</span>            tp_strv_contains                    (<em class="parameter"><code>const <span class="type">gchar</span> * const *strv</code></em>,
                                                         <em class="parameter"><code>const <span class="type">gchar</span> *str</code></em>);</pre>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>strv</code></em> :</span></p></td>
<td>a NULL-terminated array of strings, or <code class="literal">NULL</code> (which is treated as an
empty strv)</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>str</code></em> :</span></p></td>
<td>a non-NULL string</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>TRUE if <em class="parameter"><code>str</code></em> is an element of <em class="parameter"><code>strv</code></em>, according to <code class="function">strcmp()</code>.</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 0.7.15</p>
</div>
<hr>
<div class="refsect2">
<a name="tp-g-key-file-get-int64"></a><h3>tp_g_key_file_get_int64 ()</h3>
<pre class="programlisting"><span class="returnvalue">gint64</span>              tp_g_key_file_get_int64             (<em class="parameter"><code><span class="type">GKeyFile</span> *key_file</code></em>,
                                                         <em class="parameter"><code>const <span class="type">gchar</span> *group_name</code></em>,
                                                         <em class="parameter"><code>const <span class="type">gchar</span> *key</code></em>,
                                                         <em class="parameter"><code><span class="type">GError</span> **error</code></em>);</pre>
<p>
Returns the value associated with <em class="parameter"><code>key</code></em> under <em class="parameter"><code>group_name</code></em> as a signed
64-bit integer. This is similar to <code class="function">g_key_file_get_integer()</code> but can return
64-bit results without truncation.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>key_file</code></em> :</span></p></td>
<td>a non-<code class="literal">NULL</code> <span class="type">GKeyFile</span>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>group_name</code></em> :</span></p></td>
<td>a non-<code class="literal">NULL</code> group name</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>key</code></em> :</span></p></td>
<td>a non-<code class="literal">NULL</code> key</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em> :</span></p></td>
<td>return location for a <span class="type">GError</span>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>the value associated with the key as a signed 64-bit integer, or
0 if the key was not found or could not be parsed.</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 0.7.31</p>
</div>
<hr>
<div class="refsect2">
<a name="tp-g-key-file-get-uint64"></a><h3>tp_g_key_file_get_uint64 ()</h3>
<pre class="programlisting"><span class="returnvalue">guint64</span>             tp_g_key_file_get_uint64            (<em class="parameter"><code><span class="type">GKeyFile</span> *key_file</code></em>,
                                                         <em class="parameter"><code>const <span class="type">gchar</span> *group_name</code></em>,
                                                         <em class="parameter"><code>const <span class="type">gchar</span> *key</code></em>,
                                                         <em class="parameter"><code><span class="type">GError</span> **error</code></em>);</pre>
<p>
Returns the value associated with <em class="parameter"><code>key</code></em> under <em class="parameter"><code>group_name</code></em> as an unsigned
64-bit integer. This is similar to <code class="function">g_key_file_get_integer()</code> but can return
large positive results without truncation.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>key_file</code></em> :</span></p></td>
<td>a non-<code class="literal">NULL</code> <span class="type">GKeyFile</span>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>group_name</code></em> :</span></p></td>
<td>a non-<code class="literal">NULL</code> group name</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>key</code></em> :</span></p></td>
<td>a non-<code class="literal">NULL</code> key</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em> :</span></p></td>
<td>return location for a <span class="type">GError</span>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>the value associated with the key as an unsigned 64-bit integer,
or 0 if the key was not found or could not be parsed.</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 0.7.31</p>
</div>
<hr>
<div class="refsect2">
<a name="tp-g-signal-connect-object"></a><h3>tp_g_signal_connect_object ()</h3>
<pre class="programlisting"><span class="returnvalue">gulong</span>              tp_g_signal_connect_object          (<em class="parameter"><code><span class="type">gpointer</span> instance</code></em>,
                                                         <em class="parameter"><code>const <span class="type">gchar</span> *detailed_signal</code></em>,
                                                         <em class="parameter"><code><span class="type">GCallback</span> c_handler</code></em>,
                                                         <em class="parameter"><code><span class="type">gpointer</span> gobject</code></em>,
                                                         <em class="parameter"><code><span class="type">GConnectFlags</span> connect_flags</code></em>);</pre>
<p>
Connects a <span class="type">GCallback</span> function to a signal for a particular object, as if
with <code class="function">g_signal_connect()</code>. Additionally, arranges for the signal handler to be
disconnected if <em class="parameter"><code>gobject</code></em> is destroyed.
</p>
<p>
This is similar to <code class="function">g_signal_connect_data()</code>, but uses a closure which
ensures that the <em class="parameter"><code>gobject</code></em> stays alive during the call to <em class="parameter"><code>c_handler</code></em>
by temporarily adding a reference count to <em class="parameter"><code>gobject</code></em>.
</p>
<p>
This is similar to <code class="function">g_signal_connect_object()</code>, but doesn't have the
documented bug that everyone is too scared to fix. Also, it does not allow
you to pass in NULL as <em class="parameter"><code>gobject</code></em>
</p>
<p>
This is intended to be a convenient way for objects to use themselves as
user_data for callbacks without having to explicitly disconnect all the
handlers in their finalizers.
</p>
<p>
Changed in 0.10.4 and 0.11.3: <code class="literal">G_CONNECT_AFTER</code> is now respected.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>instance</code></em> :</span></p></td>
<td>the instance to connect to.</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>detailed_signal</code></em> :</span></p></td>
<td>a string of the form "signal-name::detail".</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>c_handler</code></em> :</span></p></td>
<td>the <span class="type">GCallback</span> to connect.</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>gobject</code></em> :</span></p></td>
<td>the object to pass as data to <em class="parameter"><code>c_handler</code></em>.</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>connect_flags</code></em> :</span></p></td>
<td>a combination of <span class="type">GConnectFlags</span>. Only
<code class="literal">G_CONNECT_AFTER</code> and <code class="literal">G_CONNECT_SWAPPED</code> are supported by this function.</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>the handler id</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 0.9.2</p>
</div>
<hr>
<div class="refsect2">
<a name="tp-value-array-build"></a><h3>tp_value_array_build ()</h3>
<pre class="programlisting"><span class="returnvalue">GValueArray</span> *       tp_value_array_build                (<em class="parameter"><code><span class="type">gsize</span> length</code></em>,
                                                         <em class="parameter"><code><span class="type">GType</span> type</code></em>,
                                                         <em class="parameter"><code>...</code></em>);</pre>
<p>
Creates a new <span class="type">GValueArray</span> for use with structs, containing the values
passed in as parameters. The values are copied or reffed as appropriate for
their type.
</p>
<p>
</p>
<div class="example">
<a name="id1273195"></a><p class="title"><b>Example 3.  using tp_value_array_build</b></p>
<div class="example-contents"><pre class="programlisting">
GValueArray *array = tp_value_array_build (2,
   G_TYPE_STRING, host,
   G_TYPE_UINT, port,
   G_TYPE_INVALID);
   </pre></div>
</div>
<p><br class="example-break">
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>length</code></em> :</span></p></td>
<td>The number of elements that should be in the array</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>type</code></em> :</span></p></td>
<td>The type of the first argument.</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>...</code></em> :</span></p></td>
<td>The value of the first item in the struct followed by a list of type,
value pairs terminated by G_TYPE_INVALID.</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>a newly created <span class="type">GValueArray</span>, free with g_value_array_free.</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 0.9.2</p>
</div>
<hr>
<div class="refsect2">
<a name="tp-value-array-unpack"></a><h3>tp_value_array_unpack ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                tp_value_array_unpack               (<em class="parameter"><code><span class="type">GValueArray</span> *array</code></em>,
                                                         <em class="parameter"><code><span class="type">gsize</span> len</code></em>,
                                                         <em class="parameter"><code>...</code></em>);</pre>
<p>
Unpacks a <span class="type">GValueArray</span> into separate variables.
</p>
<p>
The contents of the values aren't copied into the variables, and so become
invalid when <em class="parameter"><code>array</code></em> is freed.
</p>
<p>
</p>
<div class="example">
<a name="id1273374"></a><p class="title"><b>Example 4. using tp_value_array_unpack</b></p>
<div class="example-contents"><pre class="programlisting">
const gchar *host;
guint port;

tp_value_array_unpack (array, 2,
   &amp;host,
   &amp;port);
   </pre></div>
</div>
<p><br class="example-break">
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>array</code></em> :</span></p></td>
<td>the array to unpack</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>len</code></em> :</span></p></td>
<td>The number of elements that should be in the array</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>...</code></em> :</span></p></td>
<td>a list of correctly typed pointers to store the values in</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 0.11.0</p>
</div>
<hr>
<div class="refsect2">
<a name="TpWeakRef"></a><h3>TpWeakRef</h3>
<pre class="programlisting">typedef struct _TpWeakRef TpWeakRef;</pre>
<p>
A simple wrapper for a weak reference to a <span class="type">GObject</span>, suitable for use in
asynchronous calls which should only affect the object if it hasn't already
been freed.
</p>
<p>
As well as wrapping a weak reference to an object, this structure can
contain an extra pointer to arbitrary data. This is useful for asynchronous
calls which act on an object and some second piece of data, which are quite
common in practice.
</p>
<p>
If more than one piece of auxiliary data is required, the <em class="parameter"><code>user_data</code></em>
argument to the constructor can be a struct or a <span class="type">GValueArray</span>.
</p>
<p class="since">Since 0.11.3</p>
</div>
<hr>
<div class="refsect2">
<a name="tp-weak-ref-new"></a><h3>tp_weak_ref_new ()</h3>
<pre class="programlisting"><a class="link" href="telepathy-glib-util.html#TpWeakRef" title="TpWeakRef"><span class="returnvalue">TpWeakRef</span></a> *         tp_weak_ref_new                     (<em class="parameter"><code><span class="type">gpointer</span> object</code></em>,
                                                         <em class="parameter"><code><span class="type">gpointer</span> user_data</code></em>,
                                                         <em class="parameter"><code><span class="type">GDestroyNotify</span> destroy</code></em>);</pre>
<p>
Return a new weak reference wrapper for <em class="parameter"><code>object</code></em>.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>object</code></em> :</span></p></td>
<td>an object to which to take a weak reference. <span class="annotation">[<acronym title="Override the parsed C type with given type"><span class="acronym">type</span></acronym> GObject.Object]</span>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em> :</span></p></td>
<td>optional additional data to store alongside the weak ref</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>destroy</code></em> :</span></p></td>
<td>destructor for <em class="parameter"><code>user_data</code></em>, called when the weak ref
is freed</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>a new weak-reference wrapper
Free-function: <a class="link" href="telepathy-glib-util.html#tp-weak-ref-destroy" title="tp_weak_ref_destroy ()"><code class="function">tp_weak_ref_destroy()</code></a>
</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 0.11.3</p>
</div>
<hr>
<div class="refsect2">
<a name="tp-weak-ref-dup-object"></a><h3>tp_weak_ref_dup_object ()</h3>
<pre class="programlisting"><span class="returnvalue">gpointer</span>            tp_weak_ref_dup_object              (<em class="parameter"><code><a class="link" href="telepathy-glib-util.html#TpWeakRef" title="TpWeakRef"><span class="type">TpWeakRef</span></a> *self</code></em>);</pre>
<p>
If the weakly referenced object still exists, return a new reference to
it. Otherwise, return <code class="literal">NULL</code>.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>self</code></em> :</span></p></td>
<td>a weak reference</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>a new reference, or <code class="literal">NULL</code>. <span class="annotation">[<acronym title="Override the parsed C type with given type"><span class="acronym">type</span></acronym> GObject.Object][<acronym title="Free data after the code is done."><span class="acronym">transfer full</span></acronym>]</span>
</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 0.11.3</p>
</div>
<hr>
<div class="refsect2">
<a name="tp-weak-ref-get-user-data"></a><h3>tp_weak_ref_get_user_data ()</h3>
<pre class="programlisting"><span class="returnvalue">gpointer</span>            tp_weak_ref_get_user_data           (<em class="parameter"><code><a class="link" href="telepathy-glib-util.html#TpWeakRef" title="TpWeakRef"><span class="type">TpWeakRef</span></a> *self</code></em>);</pre>
<p>
Return the additional data that was passed to <a class="link" href="telepathy-glib-util.html#tp-weak-ref-new" title="tp_weak_ref_new ()"><code class="function">tp_weak_ref_new()</code></a>.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>self</code></em> :</span></p></td>
<td>a weak reference</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>the additional data supplied in <a class="link" href="telepathy-glib-util.html#tp-weak-ref-new" title="tp_weak_ref_new ()"><code class="function">tp_weak_ref_new()</code></a>, which may be
<code class="literal">NULL</code>
</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 0.11.3</p>
</div>
<hr>
<div class="refsect2">
<a name="tp-weak-ref-destroy"></a><h3>tp_weak_ref_destroy ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                tp_weak_ref_destroy                 (<em class="parameter"><code><a class="link" href="telepathy-glib-util.html#TpWeakRef" title="TpWeakRef"><span class="type">TpWeakRef</span></a> *self</code></em>);</pre>
<p>
Free a weak reference wrapper. This drops the weak reference to the
object (if it still exists), and frees the user data with the user-supplied
destructor function if one was provided.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><p><span class="term"><em class="parameter"><code>self</code></em> :</span></p></td>
<td>a weak reference</td>
</tr></tbody>
</table></div>
<p class="since">Since 0.11.3</p>
</div>
<hr>
<div class="refsect2">
<a name="tp-clear-pointer"></a><h3>tp_clear_pointer()</h3>
<pre class="programlisting">#define             tp_clear_pointer(pp, destroy)</pre>
<p>
Set a variable holding a pointer to <code class="literal">NULL</code>. If it was not already <code class="literal">NULL</code>,
unref or destroy the object it previously pointed to with <em class="parameter"><code>destroy</code></em>.
</p>
<p>
More precisely, if *<em class="parameter"><code>pp</code></em> is non-<code class="literal">NULL</code>, set *<em class="parameter"><code>pp</code></em> to <code class="literal">NULL</code>, then
call <em class="parameter"><code>destroy</code></em> on the object that *<em class="parameter"><code>pp</code></em> previously pointed to.
</p>
<p>
This is analogous to <code class="function">g_clear_error()</code> for non-error objects, but also
ensures that <em class="parameter"><code>pp</code></em> is already <code class="literal">NULL</code> before the destructor is run.
</p>
<p>
Typical usage is something like this:
</p>
<p>
</p>
<div class="informalexample"><pre class="programlisting">
typedef struct {
  TpConnection *conn;
  GError *error;
  GHashTable *table;
  MyStruct *misc;
} Foo;
Foo *foo;

...

tp_clear_object (&amp;foo-&gt;conn);
g_clear_error (&amp;foo-&gt;error);
tp_clear_boxed (G_TYPE_HASH_TABLE, &amp;foo-&gt;table);
tp_clear_pointer (&amp;foo-&gt;misc, my_struct_destroy);
</pre></div>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>pp</code></em> :</span></p></td>
<td>a pointer to a variable, struct member etc. holding a pointer</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>destroy</code></em> :</span></p></td>
<td>a function to which a gpointer can be passed, to destroy *<em class="parameter"><code>pp</code></em>
(if calling this macro from C++, explicitly casting the function to
<span class="type">GDestroyNotify</span> may be necessary)</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 0.11.7</p>
</div>
<hr>
<div class="refsect2">
<a name="tp-clear-object"></a><h3>tp_clear_object()</h3>
<pre class="programlisting">#define tp_clear_object(op) tp_clear_pointer ((op), g_object_unref)
</pre>
<p>
Set a variable holding a <span class="type">GObject</span> to <code class="literal">NULL</code>. If it was not already <code class="literal">NULL</code>,
unref the object it previously pointed to.
</p>
<p>
This is exactly equivalent to calling <a class="link" href="telepathy-glib-util.html#tp-clear-pointer" title="tp_clear_pointer()"><code class="function">tp_clear_pointer()</code></a> on <em class="parameter"><code>op</code></em>,
with <em class="parameter"><code>destroy</code></em> = <code class="function">g_object_unref()</code>. See <a class="link" href="telepathy-glib-util.html#tp-clear-pointer" title="tp_clear_pointer()"><code class="function">tp_clear_pointer()</code></a> for example usage.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><p><span class="term"><em class="parameter"><code>op</code></em> :</span></p></td>
<td>a pointer to a variable, struct member etc. holding a <span class="type">GObject</span>
</td>
</tr></tbody>
</table></div>
<p class="since">Since 0.11.7</p>
</div>
<hr>
<div class="refsect2">
<a name="tp-clear-boxed"></a><h3>tp_clear_boxed()</h3>
<pre class="programlisting">#define             tp_clear_boxed(gtype, pp)</pre>
<p>
Set a variable holding a boxed object to <code class="literal">NULL</code>. If it was not already <code class="literal">NULL</code>,
destroy the boxed object it previously pointed to, as appropriate for
<em class="parameter"><code>gtype</code></em>.
</p>
<p>
More precisely, if *<em class="parameter"><code>pp</code></em> is non-<code class="literal">NULL</code>, set *<em class="parameter"><code>pp</code></em> to <code class="literal">NULL</code>, then
call <code class="function">g_boxed_free()</code> on the object that *<em class="parameter"><code>pp</code></em> previously pointed to.
</p>
<p>
This is similar to <a class="link" href="telepathy-glib-util.html#tp-clear-pointer" title="tp_clear_pointer()"><code class="function">tp_clear_pointer()</code></a>; see that function's documentation
for typical usage.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>gtype</code></em> :</span></p></td>
<td>the <span class="type">GType</span> of *<em class="parameter"><code>pp</code></em>, e.g. <code class="literal">G_TYPE_HASH_TABLE</code>. <span class="annotation">[<acronym title="Override the parsed C type with given type"><span class="acronym">type</span></acronym> GObject.Type]</span>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>pp</code></em> :</span></p></td>
<td>a pointer to a variable, struct member etc. holding a boxed object</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 0.11.7</p>
</div>
<hr>
<div class="refsect2">
<a name="tp-simple-async-report-success-in-idle"></a><h3>tp_simple_async_report_success_in_idle ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                tp_simple_async_report_success_in_idle
                                                        (<em class="parameter"><code><span class="type">GObject</span> *source</code></em>,
                                                         <em class="parameter"><code><span class="type">GAsyncReadyCallback</span> callback</code></em>,
                                                         <em class="parameter"><code><span class="type">gpointer</span> user_data</code></em>,
                                                         <em class="parameter"><code><span class="type">gpointer</span> source_tag</code></em>);</pre>
<p>
Create a new <span class="type">GSimpleAsyncResult</span> with no operation result, and call
<code class="function">g_simple_async_result_complete_in_idle()</code> on it.
</p>
<p>
This is like a successful version of <code class="function">g_simple_async_report_error_in_idle()</code>,
suitable for asynchronous functions that (conceptually) either succeed and
return nothing, or raise an error, such as <a class="link" href="telepathy-glib-proxy.html#tp-proxy-prepare-async" title="tp_proxy_prepare_async ()"><code class="function">tp_proxy_prepare_async()</code></a>.
</p>
<p>
The corresponding finish function should not call a function that attempts
to get a result, such as <code class="function">g_simple_async_result_get_op_res_gpointer()</code>.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>source</code></em> :</span></p></td>
<td>the source object</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>callback</code></em> :</span></p></td>
<td>the callback</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em> :</span></p></td>
<td>user data for <em class="parameter"><code>callback</code></em>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>source_tag</code></em> :</span></p></td>
<td>the source tag for the <span class="type">GSimpleAsyncResult</span>
</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 0.11.9</p>
</div>
<hr>
<div class="refsect2">
<a name="tp-user-action-time-from-x11"></a><h3>tp_user_action_time_from_x11 ()</h3>
<pre class="programlisting"><span class="returnvalue">gint64</span>              tp_user_action_time_from_x11        (<em class="parameter"><code><span class="type">guint32</span> x11_time</code></em>);</pre>
<p>
Convert an X11 timestamp into a user action time as used in Telepathy.
</p>
<p>
This also works for the timestamps used by Gdk 2.x and Clutter 1.0;
it may or may not work with other toolkits or versions.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>x11_time</code></em> :</span></p></td>
<td>an X11 timestamp, or 0 to indicate the current time</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>a nonzero Telepathy user action time, or
<a class="link" href="telepathy-glib-defs.html#TP-USER-ACTION-TIME-CURRENT-TIME:CAPS" title="TP_USER_ACTION_TIME_CURRENT_TIME"><code class="literal">TP_USER_ACTION_TIME_CURRENT_TIME</code></a>
</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 0.11.13</p>
</div>
<hr>
<div class="refsect2">
<a name="tp-user-action-time-should-present"></a><h3>tp_user_action_time_should_present ()</h3>
<pre class="programlisting"><span class="returnvalue">gboolean</span>            tp_user_action_time_should_present  (<em class="parameter"><code><span class="type">gint64</span> user_action_time</code></em>,
                                                         <em class="parameter"><code><span class="type">guint32</span> *x11_time</code></em>);</pre>
<p>
Interpret a Telepathy user action time to decide whether a Handler should
attempt to gain focus. If <code class="literal">TRUE</code> is returned, it would be appropriate to
call <code class="function">gtk_window_present_with_time()</code> using <em class="parameter"><code>x11_time</code></em> as input, for instance.
</p>
<p>
<em class="parameter"><code>x11_time</code></em> is used to return a timestamp in the right format for X11,
Gdk 2.x and Clutter 1.0; it may or may not work with other toolkits or
versions.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_action_time</code></em> :</span></p></td>
<td>the Telepathy user action time. <span class="annotation">[<acronym title="Override the parsed C type with given type"><span class="acronym">type</span></acronym> gint64]</span>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>x11_time</code></em> :</span></p></td>
<td>a pointer to guint32 used to
return an X11 timestamp, or 0 to indicate the current time; if
<code class="literal">FALSE</code> is returned, the value placed here is not meaningful. <span class="annotation">[<acronym title="Parameter for returning results. Default is transfer full."><span class="acronym">out</span></acronym>][<acronym title="NULL is ok, both for passing and for returning."><span class="acronym">allow-none</span></acronym>]</span>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>
<code class="literal">TRUE</code> if it would be appropriate to present a window</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 0.11.13</p>
</div>
<hr>
<div class="refsect2">
<a name="tp-utf8-make-valid"></a><h3>tp_utf8_make_valid ()</h3>
<pre class="programlisting"><span class="returnvalue">gchar</span> *             tp_utf8_make_valid                  (<em class="parameter"><code>const <span class="type">gchar</span> *name</code></em>);</pre>
<p>
Validate that the provided string is valid UTF8. If not,
replace all invalid bytes with unicode replacement
character (U+FFFD).
</p>
<p>
This method is a verbatim copy of glib's internal
<code class="function">_g_utf8_make_valid()</code> function, and will be deprecated as
soon as the glib one becomes public.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>name</code></em> :</span></p></td>
<td>string to coerce into UTF8</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>a new valid UTF8 string</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 0.13.15</p>
</div>
</div>
</div>
<div class="footer">
<hr>
          Generated by GTK-Doc V1.17</div>
</body>
</html>