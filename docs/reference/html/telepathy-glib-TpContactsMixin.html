<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>TpContactsMixin</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.75.2">
<link rel="home" href="index.html" title="telepathy-glib Reference Manual">
<link rel="up" href="ch-service-base.html" title="Service-side implementation">
<link rel="prev" href="TpChannelManager.html" title="TpChannelManager">
<link rel="next" href="telepathy-glib-dbus-properties-mixin.html" title="TpDBusPropertiesMixin">
<meta name="generator" content="GTK-Doc V1.11 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
<link rel="chapter" href="ch-dbus.html" title="General D-Bus support">
<link rel="chapter" href="ch-protocol.html" title="The Telepathy protocol">
<link rel="chapter" href="ch-client.html" title="Client-side proxies">
<link rel="chapter" href="ch-service-dbus.html" title="Service-side D-Bus interfaces">
<link rel="chapter" href="ch-service-base.html" title="Service-side implementation">
<link rel="chapter" href="ch-service-handles.html" title="Service-side handle repositories">
<link rel="chapter" href="ch-utilities.html" title="Utilities">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2">
<tr valign="middle">
<td><a accesskey="p" href="TpChannelManager.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td>
<td><a accesskey="u" href="ch-service-base.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td>
<th width="100%" align="center">telepathy-glib Reference Manual</th>
<td><a accesskey="n" href="telepathy-glib-dbus-properties-mixin.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td>
</tr>
<tr><td colspan="5" class="shortcuts">
<a href="#telepathy-glib-TpContactsMixin.synopsis" class="shortcut">Top</a>
                 | 
                <a href="#telepathy-glib-TpContactsMixin.description" class="shortcut">Description</a>
</td></tr>
</table>
<div class="refentry" title="TpContactsMixin">
<a name="telepathy-glib-TpContactsMixin"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2><span class="refentrytitle"><a name="telepathy-glib-TpContactsMixin.top_of_page"></a>TpContactsMixin</span></h2>
<p>TpContactsMixin — a mixin implementation of the contacts connection
interface</p>
</td>
<td valign="top" align="right"></td>
</tr></table></div>
<div class="refsynopsisdiv" title="Synopsis">
<a name="telepathy-glib-TpContactsMixin.synopsis"></a><h2>Synopsis</h2>
<pre class="synopsis">

#include &lt;telepathy-glib/contacts-mixin.h&gt;

                    <a class="link" href="telepathy-glib-TpContactsMixin.html#TpContactsMixin" title="TpContactsMixin">TpContactsMixin</a>;
                    <a class="link" href="telepathy-glib-TpContactsMixin.html#TpContactsMixinClass" title="TpContactsMixinClass">TpContactsMixinClass</a>;
void                <a class="link" href="telepathy-glib-TpContactsMixin.html#tp-contacts-mixin-add-contact-attributes-iface" title="tp_contacts_mixin_add_contact_attributes_iface ()">tp_contacts_mixin_add_contact_attributes_iface</a>
                                                        (<a
href="http://library.gnome.org/devel/gobject/unstable/gobject-The-Base-Object-Type.html#GObject"
>GObject</a> *obj,
                                                         const <a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"
>gchar</a> *interface,
                                                         <a class="link" href="telepathy-glib-TpContactsMixin.html#TpContactsMixinFillContactAttributesFunc" title="TpContactsMixinFillContactAttributesFunc ()">TpContactsMixinFillContactAttributesFunc</a> fill_contact_attributes);
void                <a class="link" href="telepathy-glib-TpContactsMixin.html#tp-contacts-mixin-class-init" title="tp_contacts_mixin_class_init ()">tp_contacts_mixin_class_init</a>        (<a
href="http://library.gnome.org/devel/gobject/unstable/gobject-The-Base-Object-Type.html#GObjectClass"
>GObjectClass</a> *obj_cls,
                                                         <a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#glong"
>glong</a> offset);
void                <a class="link" href="telepathy-glib-TpContactsMixin.html#tp-contacts-mixin-finalize" title="tp_contacts_mixin_finalize ()">tp_contacts_mixin_finalize</a>          (<a
href="http://library.gnome.org/devel/gobject/unstable/gobject-The-Base-Object-Type.html#GObject"
>GObject</a> *obj);
void                <a class="link" href="telepathy-glib-TpContactsMixin.html#tp-contacts-mixin-iface-init" title="tp_contacts_mixin_iface_init ()">tp_contacts_mixin_iface_init</a>        (<a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gpointer"
>gpointer</a> g_iface,
                                                         <a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gpointer"
>gpointer</a> iface_data);
void                <a class="link" href="telepathy-glib-TpContactsMixin.html#tp-contacts-mixin-init" title="tp_contacts_mixin_init ()">tp_contacts_mixin_init</a>              (<a
href="http://library.gnome.org/devel/gobject/unstable/gobject-The-Base-Object-Type.html#GObject"
>GObject</a> *obj,
                                                         <a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gsize"
>gsize</a> offset);
void                <a class="link" href="telepathy-glib-TpContactsMixin.html#tp-contacts-mixin-set-contact-attribute" title="tp_contacts_mixin_set_contact_attribute ()">tp_contacts_mixin_set_contact_attribute</a>
                                                        (<a
href="http://library.gnome.org/devel/glib/unstable/glib-Hash-Tables.html#GHashTable"
>GHashTable</a> *contact_attributes,
                                                         <a class="link" href="telepathy-glib-handle.html#TpHandle" title="TpHandle">TpHandle</a> handle,
                                                         <a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"
>gchar</a> *attribute,
                                                         <a
href="http://library.gnome.org/devel/gobject/unstable/gobject-Generic-values.html#GValue"
>GValue</a> *value);
void                (<a class="link" href="telepathy-glib-TpContactsMixin.html#TpContactsMixinFillContactAttributesFunc" title="TpContactsMixinFillContactAttributesFunc ()">*TpContactsMixinFillContactAttributesFunc</a>)
                                                        (<a
href="http://library.gnome.org/devel/gobject/unstable/gobject-The-Base-Object-Type.html#GObject"
>GObject</a> *obj,
                                                         const <a
href="http://library.gnome.org/devel/glib/unstable/glib-Arrays.html#GArray"
>GArray</a> *contacts,
                                                         <a
href="http://library.gnome.org/devel/glib/unstable/glib-Hash-Tables.html#GHashTable"
>GHashTable</a> *attributes_hash);
</pre>
</div>
<div class="refsect1" title="Description">
<a name="telepathy-glib-TpContactsMixin.description"></a><h2>Description</h2>
<p>
This mixin can be added to a <a class="link" href="TpBaseConnection.html" title="TpBaseConnection"><span class="type">TpBaseConnection</span></a> subclass to implement the
Contacts interface in a generic way.
</p>
<p>
To use the contacts mixin, include a <a class="link" href="telepathy-glib-TpContactsMixin.html#TpContactsMixinClass" title="TpContactsMixinClass"><span class="type">TpContactsMixinClass</span></a> somewhere in
your class structure and a <a class="link" href="telepathy-glib-TpContactsMixin.html#TpContactsMixin" title="TpContactsMixin"><span class="type">TpContactsMixin</span></a> somewhere in your instance
structure, and call <a class="link" href="telepathy-glib-TpContactsMixin.html#tp-contacts-mixin-class-init" title="tp_contacts_mixin_class_init ()"><code class="function">tp_contacts_mixin_class_init()</code></a> from your class_init
function, <a class="link" href="telepathy-glib-TpContactsMixin.html#tp-contacts-mixin-init" title="tp_contacts_mixin_init ()"><code class="function">tp_contacts_mixin_init()</code></a> from your init function or constructor,
and <a class="link" href="telepathy-glib-TpContactsMixin.html#tp-contacts-mixin-finalize" title="tp_contacts_mixin_finalize ()"><code class="function">tp_contacts_mixin_finalize()</code></a> from your dispose or finalize function.
</p>
<p>
To use the contacts mixin as the implementation of
<a class="link" href="telepathy-glib-svc-connection.html#TpSvcConnectionInterfaceContacts"><span class="type">TpSvcConnectionInterfaceContacts</span></a>, in the function you pass to
G_IMPLEMENT_INTERFACE, you should call tp_contacts_mixin_iface_init.
TpContactsMixin implements all of the D-Bus methods and properties in the
Contacts interface.
</p>
<p>
To add interfaces with contact attributes to this interface use
tp_contacts_mixin_add_contact_attributes_iface:</p>
<p>
</p>
</div>
<div class="refsect1" title="Details">
<a name="telepathy-glib-TpContactsMixin.details"></a><h2>Details</h2>
<div class="refsect2" title="TpContactsMixin">
<a name="TpContactsMixin"></a><h3>TpContactsMixin</h3>
<pre class="programlisting">typedef struct {
} TpContactsMixin;
</pre>
<p>
Structure to be included in the instance structure of objects that
use this mixin. Initialize it with <a class="link" href="telepathy-glib-TpContactsMixin.html#tp-contacts-mixin-init" title="tp_contacts_mixin_init ()"><code class="function">tp_contacts_mixin_init()</code></a>.
</p>
<p>
There are no public fields.</p>
<p>
</p>
</div>
<hr>
<div class="refsect2" title="TpContactsMixinClass">
<a name="TpContactsMixinClass"></a><h3>TpContactsMixinClass</h3>
<pre class="programlisting">typedef struct {
} TpContactsMixinClass;
</pre>
<p>
Structure to be included in the class structure of objects that
use this mixin. Initialize it with <a class="link" href="telepathy-glib-TpContactsMixin.html#tp-contacts-mixin-class-init" title="tp_contacts_mixin_class_init ()"><code class="function">tp_contacts_mixin_class_init()</code></a>.
</p>
<p>
There are no public fields.</p>
<p>
</p>
</div>
<hr>
<div class="refsect2" title="tp_contacts_mixin_add_contact_attributes_iface ()">
<a name="tp-contacts-mixin-add-contact-attributes-iface"></a><h3>tp_contacts_mixin_add_contact_attributes_iface ()</h3>
<pre class="programlisting">void                tp_contacts_mixin_add_contact_attributes_iface
                                                        (<a
href="http://library.gnome.org/devel/gobject/unstable/gobject-The-Base-Object-Type.html#GObject"
>GObject</a> *obj,
                                                         const <a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"
>gchar</a> *interface,
                                                         <a class="link" href="telepathy-glib-TpContactsMixin.html#TpContactsMixinFillContactAttributesFunc" title="TpContactsMixinFillContactAttributesFunc ()">TpContactsMixinFillContactAttributesFunc</a> fill_contact_attributes);</pre>
<p>
Declare that the given interface has contact attributes which can be added
to the attributes hash using the filler function. All the handles in the
handle array passed to the filler function are guaranteed to be valid and
referenced.</p>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>obj</code></em> :</span></p></td>
<td> An instance of the implementation that uses this mixin
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>interface</code></em> :</span></p></td>
<td> Name of the interface that has ContactAttributes
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>fill_contact_attributes</code></em> :</span></p></td>
<td> Contact attribute filler function
</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 0.7.14</p>
</div>
<hr>
<div class="refsect2" title="tp_contacts_mixin_class_init ()">
<a name="tp-contacts-mixin-class-init"></a><h3>tp_contacts_mixin_class_init ()</h3>
<pre class="programlisting">void                tp_contacts_mixin_class_init        (<a
href="http://library.gnome.org/devel/gobject/unstable/gobject-The-Base-Object-Type.html#GObjectClass"
>GObjectClass</a> *obj_cls,
                                                         <a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#glong"
>glong</a> offset);</pre>
<p>
Initialize the contacts mixin. Should be called from the implementation's
class_init function like so:
</p>
<p>
</p>
<div class="informalexample"><pre class="programlisting">
tp_contacts_mixin_class_init ((GObjectClass *) klass,
                         G_STRUCT_OFFSET (SomeObjectClass, contacts_mixin));
</pre></div>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>obj_cls</code></em> :</span></p></td>
<td> The class of the implementation that uses this mixin
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>offset</code></em> :</span></p></td>
<td> The byte offset of the TpContactsMixinClass within the class
         structure
</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 0.7.14</p>
</div>
<hr>
<div class="refsect2" title="tp_contacts_mixin_finalize ()">
<a name="tp-contacts-mixin-finalize"></a><h3>tp_contacts_mixin_finalize ()</h3>
<pre class="programlisting">void                tp_contacts_mixin_finalize          (<a
href="http://library.gnome.org/devel/gobject/unstable/gobject-The-Base-Object-Type.html#GObject"
>GObject</a> *obj);</pre>
<p>
Free resources held by the contacts mixin.</p>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><p><span class="term"><em class="parameter"><code>obj</code></em> :</span></p></td>
<td> An object with this mixin.
</td>
</tr></tbody>
</table></div>
<p class="since">Since 0.7.14</p>
</div>
<hr>
<div class="refsect2" title="tp_contacts_mixin_iface_init ()">
<a name="tp-contacts-mixin-iface-init"></a><h3>tp_contacts_mixin_iface_init ()</h3>
<pre class="programlisting">void                tp_contacts_mixin_iface_init        (<a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gpointer"
>gpointer</a> g_iface,
                                                         <a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gpointer"
>gpointer</a> iface_data);</pre>
<p>
Fill in the vtable entries needed to implement the contacts interface
using this mixin. This function should usually be called via
G_IMPLEMENT_INTERFACE.</p>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>g_iface</code></em> :</span></p></td>
<td> A pointer to the <a class="link" href="telepathy-glib-svc-connection.html#TpSvcConnectionInterfaceContacts"><span class="type">TpSvcConnectionInterfaceContacts</span></a> in an object
class
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>iface_data</code></em> :</span></p></td>
<td> Ignored
</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 0.7.14</p>
</div>
<hr>
<div class="refsect2" title="tp_contacts_mixin_init ()">
<a name="tp-contacts-mixin-init"></a><h3>tp_contacts_mixin_init ()</h3>
<pre class="programlisting">void                tp_contacts_mixin_init              (<a
href="http://library.gnome.org/devel/gobject/unstable/gobject-The-Base-Object-Type.html#GObject"
>GObject</a> *obj,
                                                         <a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gsize"
>gsize</a> offset);</pre>
<p>
Initialize the contacts mixin. Should be called from the implementation's
instance init function like so:
</p>
<p>
</p>
<div class="informalexample"><pre class="programlisting">
tp_contacts_mixin_init ((GObject *) self,
                    G_STRUCT_OFFSET (SomeObject, contacts_mixin));
</pre></div>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>obj</code></em> :</span></p></td>
<td> An instance of the implementation that uses this mixin
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>offset</code></em> :</span></p></td>
<td> The byte offset of the TpContactsMixin within the object structure
</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 0.7.14</p>
</div>
<hr>
<div class="refsect2" title="tp_contacts_mixin_set_contact_attribute ()">
<a name="tp-contacts-mixin-set-contact-attribute"></a><h3>tp_contacts_mixin_set_contact_attribute ()</h3>
<pre class="programlisting">void                tp_contacts_mixin_set_contact_attribute
                                                        (<a
href="http://library.gnome.org/devel/glib/unstable/glib-Hash-Tables.html#GHashTable"
>GHashTable</a> *contact_attributes,
                                                         <a class="link" href="telepathy-glib-handle.html#TpHandle" title="TpHandle">TpHandle</a> handle,
                                                         <a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"
>gchar</a> *attribute,
                                                         <a
href="http://library.gnome.org/devel/gobject/unstable/gobject-Generic-values.html#GValue"
>GValue</a> *value);</pre>
<p>
Utility function to set attribute for handle to value in the attributes hash
as passed to a TpContactsMixinFillContactAttributesFunc.</p>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>contact_attributes</code></em> :</span></p></td>
<td> contacts attribute hash as passed to
  TpContactsMixinFillContactAttributesFunc
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>handle</code></em> :</span></p></td>
<td> Handle to set the attribute on
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>attribute</code></em> :</span></p></td>
<td> attribute name
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>value</code></em> :</span></p></td>
<td> slice allocated GValue containing the value of the attribute, for
instance with tp_g_value_slice_new. Ownership of the GValue is taken over by
the mixin
</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 0.7.14</p>
</div>
<hr>
<div class="refsect2" title="TpContactsMixinFillContactAttributesFunc ()">
<a name="TpContactsMixinFillContactAttributesFunc"></a><h3>TpContactsMixinFillContactAttributesFunc ()</h3>
<pre class="programlisting">void                (*TpContactsMixinFillContactAttributesFunc)
                                                        (<a
href="http://library.gnome.org/devel/gobject/unstable/gobject-The-Base-Object-Type.html#GObject"
>GObject</a> *obj,
                                                         const <a
href="http://library.gnome.org/devel/glib/unstable/glib-Arrays.html#GArray"
>GArray</a> *contacts,
                                                         <a
href="http://library.gnome.org/devel/glib/unstable/glib-Hash-Tables.html#GHashTable"
>GHashTable</a> *attributes_hash);</pre>
<p>
This function is called to add attributes of contacts</p>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>obj</code></em> :</span></p></td>
<td> An object implementing the presence interface with this mixin
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>contacts</code></em> :</span></p></td>
<td> The contacts for which attributes are requested
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>attributes_hash</code></em> :</span></p></td>
<td> hash of handle =&gt; hash of attributes, containing all the
contacts in the contacts array
</td>
</tr>
</tbody>
</table></div>
</div>
</div>
<div class="refsect1" title="See Also">
<a name="telepathy-glib-TpContactsMixin.see-also"></a><h2>See Also</h2>
#TpSvcConnectionInterfaceContacts
</div>
</div>
<div class="footer">
<hr>
          Generated by GTK-Doc V1.11</div>
</body>
</html>
