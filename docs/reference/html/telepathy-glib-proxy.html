<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<title>TpProxy</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.73.2">
<link rel="start" href="index.html" title="telepathy-glib Reference Manual">
<link rel="up" href="ch-dbus.html" title="General D-Bus support">
<link rel="prev" href="ch-dbus.html" title="General D-Bus support">
<link rel="next" href="telepathy-glib-dbus.html" title="D-Bus utilities">
<meta name="generator" content="GTK-Doc V1.9 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
<link rel="chapter" href="ch-dbus.html" title="General D-Bus support">
<link rel="chapter" href="ch-protocol.html" title="The Telepathy protocol">
<link rel="chapter" href="ch-client.html" title="Client-side proxies">
<link rel="chapter" href="ch-service-dbus.html" title="Service-side D-Bus interfaces">
<link rel="chapter" href="ch-service-base.html" title="Service-side implementation">
<link rel="chapter" href="ch-service-handles.html" title="Service-side handle repositories">
<link rel="chapter" href="ch-utilities.html" title="Utilities">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2">
<tr valign="middle">
<td><a accesskey="p" href="ch-dbus.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td>
<td><a accesskey="u" href="ch-dbus.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td>
<th width="100%" align="center">telepathy-glib Reference Manual</th>
<td><a accesskey="n" href="telepathy-glib-dbus.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td>
</tr>
<tr><td colspan="5" class="shortcuts"><nobr><a href="#id2602511" class="shortcut">Top</a>
                  &#160;|&#160;
                  <a href="#id2593450" class="shortcut">Description</a>
                  &#160;|&#160;
                  <a href="#id2593277" class="shortcut">Object Hierarchy</a>
                  &#160;|&#160;
                  <a href="#id2593337" class="shortcut">Properties</a>
                  &#160;|&#160;
                  <a href="#id2593418" class="shortcut">Signals</a></nobr></td></tr>
</table>
<div class="refentry" lang="en">
<a name="telepathy-glib-proxy"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2>
<a name="id2602511"></a><span class="refentrytitle">TpProxy</span>
</h2>
<p>TpProxy &#8212; base class for Telepathy client proxy objects</p>
</td>
<td valign="top" align="right"></td>
</tr></table></div>
<div class="refsynopsisdiv">
<h2>Synopsis</h2>
<a name="TpProxy"></a><pre class="synopsis">

#include &lt;telepathy-glib/proxy.h&gt;


                    <a class="link" href="telepathy-glib-proxy.html#TpProxy-struct">TpProxy</a>;
                    <a class="link" href="telepathy-glib-proxy.html#TpProxyClass">TpProxyClass</a>;
#define             <a class="link" href="telepathy-glib-proxy.html#tp-proxy-has-interface">tp_proxy_has_interface</a>              (self, interface)
gboolean            <a class="link" href="telepathy-glib-proxy.html#tp-proxy-has-interface-by-id">tp_proxy_has_interface_by_id</a>        (gpointer self,
                                                         GQuark interface);
                    <a class="link" href="telepathy-glib-proxy.html#TpProxyPendingCall">TpProxyPendingCall</a>;
void                <a class="link" href="telepathy-glib-proxy.html#tp-proxy-pending-call-cancel">tp_proxy_pending_call_cancel</a>        (<a class="link" href="telepathy-glib-proxy.html#TpProxyPendingCall">TpProxyPendingCall</a> *self);
                    <a class="link" href="telepathy-glib-proxy.html#TpProxySignalConnection">TpProxySignalConnection</a>;
void                <a class="link" href="telepathy-glib-proxy.html#tp-proxy-signal-connection-disconnect">tp_proxy_signal_connection_disconnect</a>
                                                        (<a class="link" href="telepathy-glib-proxy.html#TpProxySignalConnection">TpProxySignalConnection</a> *self);
#define             <a class="link" href="telepathy-glib-proxy.html#TP-DBUS-ERRORS:CAPS">TP_DBUS_ERRORS</a>
enum                <a class="link" href="telepathy-glib-proxy.html#TpDBusError">TpDBusError</a>;


void                (<a class="link" href="telepathy-glib-proxy.html#tp-cli-properties-interface-callback-for-get-properties">*tp_cli_properties_interface_callback_for_get_properties</a>)
                                                        (<a class="link" href="telepathy-glib-proxy.html#TpProxy">TpProxy</a> *proxy,
                                                         const GPtrArray *out0,
                                                         const GError *error,
                                                         gpointer user_data,
                                                         GObject *weak_object);
<a class="link" href="telepathy-glib-proxy.html#TpProxyPendingCall">TpProxyPendingCall</a>* <a class="link" href="telepathy-glib-proxy.html#tp-cli-properties-interface-call-get-properties">tp_cli_properties_interface_call_get_properties</a>
                                                        (gpointer proxy,
                                                         gint timeout_ms,
                                                         const GArray *in_properties,
                                                         <a class="link" href="telepathy-glib-proxy.html#tp-cli-properties-interface-callback-for-get-properties">tp_cli_properties_interface_callback_for_get_properties</a> callback,
                                                         gpointer user_data,
                                                         GDestroyNotify destroy,
                                                         GObject *weak_object);
gboolean            <a class="link" href="telepathy-glib-proxy.html#tp-cli-properties-interface-run-get-properties">tp_cli_properties_interface_run_get_properties</a>
                                                        (gpointer proxy,
                                                         gint timeout_ms,
                                                         const GArray *in_properties,
                                                         GPtrArray **out0,
                                                         GError **error,
                                                         GMainLoop **loop);
void                (<a class="link" href="telepathy-glib-proxy.html#tp-cli-properties-interface-callback-for-list-properties">*tp_cli_properties_interface_callback_for_list_properties</a>)
                                                        (<a class="link" href="telepathy-glib-proxy.html#TpProxy">TpProxy</a> *proxy,
                                                         const GPtrArray *out0,
                                                         const GError *error,
                                                         gpointer user_data,
                                                         GObject *weak_object);
<a class="link" href="telepathy-glib-proxy.html#TpProxyPendingCall">TpProxyPendingCall</a>* <a class="link" href="telepathy-glib-proxy.html#tp-cli-properties-interface-call-list-properties">tp_cli_properties_interface_call_list_properties</a>
                                                        (gpointer proxy,
                                                         gint timeout_ms,
                                                         <a class="link" href="telepathy-glib-proxy.html#tp-cli-properties-interface-callback-for-list-properties">tp_cli_properties_interface_callback_for_list_properties</a> callback,
                                                         gpointer user_data,
                                                         GDestroyNotify destroy,
                                                         GObject *weak_object);
gboolean            <a class="link" href="telepathy-glib-proxy.html#tp-cli-properties-interface-run-list-properties">tp_cli_properties_interface_run_list_properties</a>
                                                        (gpointer proxy,
                                                         gint timeout_ms,
                                                         GPtrArray **out0,
                                                         GError **error,
                                                         GMainLoop **loop);
void                (<a class="link" href="telepathy-glib-proxy.html#tp-cli-properties-interface-callback-for-set-properties">*tp_cli_properties_interface_callback_for_set_properties</a>)
                                                        (<a class="link" href="telepathy-glib-proxy.html#TpProxy">TpProxy</a> *proxy,
                                                         const GError *error,
                                                         gpointer user_data,
                                                         GObject *weak_object);
<a class="link" href="telepathy-glib-proxy.html#TpProxyPendingCall">TpProxyPendingCall</a>* <a class="link" href="telepathy-glib-proxy.html#tp-cli-properties-interface-call-set-properties">tp_cli_properties_interface_call_set_properties</a>
                                                        (gpointer proxy,
                                                         gint timeout_ms,
                                                         const GPtrArray *in_properties,
                                                         <a class="link" href="telepathy-glib-proxy.html#tp-cli-properties-interface-callback-for-set-properties">tp_cli_properties_interface_callback_for_set_properties</a> callback,
                                                         gpointer user_data,
                                                         GDestroyNotify destroy,
                                                         GObject *weak_object);
gboolean            <a class="link" href="telepathy-glib-proxy.html#tp-cli-properties-interface-run-set-properties">tp_cli_properties_interface_run_set_properties</a>
                                                        (gpointer proxy,
                                                         gint timeout_ms,
                                                         const GPtrArray *in_properties,
                                                         GError **error,
                                                         GMainLoop **loop);
void                (<a class="link" href="telepathy-glib-proxy.html#tp-cli-properties-interface-signal-callback-properties-changed">*tp_cli_properties_interface_signal_callback_properties_changed</a>)
                                                        (<a class="link" href="telepathy-glib-proxy.html#TpProxy">TpProxy</a> *proxy,
                                                         const GPtrArray *arg_properties,
                                                         gpointer user_data,
                                                         GObject *weak_object);
<a class="link" href="telepathy-glib-proxy.html#TpProxySignalConnection">TpProxySignalConnection</a>* <a class="link" href="telepathy-glib-proxy.html#tp-cli-properties-interface-connect-to-properties-changed">tp_cli_properties_interface_connect_to_properties_changed</a>
                                                        (gpointer proxy,
                                                         <a class="link" href="telepathy-glib-proxy.html#tp-cli-properties-interface-signal-callback-properties-changed">tp_cli_properties_interface_signal_callback_properties_changed</a> callback,
                                                         gpointer user_data,
                                                         GDestroyNotify destroy,
                                                         GObject *weak_object,
                                                         GError **error);
void                (<a class="link" href="telepathy-glib-proxy.html#tp-cli-properties-interface-signal-callback-property-flags-changed">*tp_cli_properties_interface_signal_callback_property_flags_changed</a>)
                                                        (<a class="link" href="telepathy-glib-proxy.html#TpProxy">TpProxy</a> *proxy,
                                                         const GPtrArray *arg_properties,
                                                         gpointer user_data,
                                                         GObject *weak_object);
<a class="link" href="telepathy-glib-proxy.html#TpProxySignalConnection">TpProxySignalConnection</a>* <a class="link" href="telepathy-glib-proxy.html#tp-cli-properties-interface-connect-to-property-flags-changed">tp_cli_properties_interface_connect_to_property_flags_changed</a>
                                                        (gpointer proxy,
                                                         <a class="link" href="telepathy-glib-proxy.html#tp-cli-properties-interface-signal-callback-property-flags-changed">tp_cli_properties_interface_signal_callback_property_flags_changed</a> callback,
                                                         gpointer user_data,
                                                         GDestroyNotify destroy,
                                                         GObject *weak_object,
                                                         GError **error);
</pre>
</div>
<div class="refsect1" lang="en">
<a name="id2593277"></a><h2>Object Hierarchy</h2>
<pre class="synopsis">

  GObject
   +----TpProxy
         +----<a class="link" href="telepathy-glib-channel.html#TpChannel">TpChannel</a>
         +----<a class="link" href="telepathy-glib-connection.html#TpConnection">TpConnection</a>
         +----<a class="link" href="telepathy-glib-connection-manager.html#TpConnectionManager">TpConnectionManager</a>
         +----<a class="link" href="telepathy-glib-dbus.html#TpDBusDaemon">TpDBusDaemon</a>
         +----<a class="link" href="telepathy-glib-media-interfaces.html#TpMediaSessionHandler">TpMediaSessionHandler</a>
         +----<a class="link" href="telepathy-glib-media-interfaces.html#TpMediaStreamHandler">TpMediaStreamHandler</a>
</pre>
</div>
<div class="refsect1" lang="en">
<a name="id2593337"></a><h2>Properties</h2>
<pre class="synopsis">

  "<a class="link" href="telepathy-glib-proxy.html#TpProxy--bus-name">bus-name</a>"                 gchararray            : Read / Write / Construct Only
  "<a class="link" href="telepathy-glib-proxy.html#TpProxy--dbus-connection">dbus-connection</a>"          <a
href="/usr/share/gtk-doc/html/dbus-glib/dbus-glib-DBusGConnection.html#DBusGConnection"
>DBusGConnection</a>       : Read / Write / Construct Only
  "<a class="link" href="telepathy-glib-proxy.html#TpProxy--dbus-daemon">dbus-daemon</a>"              <a class="link" href="telepathy-glib-dbus.html#TpDBusDaemon">TpDBusDaemon</a>          : Read / Write / Construct Only
  "<a class="link" href="telepathy-glib-proxy.html#TpProxy--interfaces">interfaces</a>"               GStrv                 : Read
  "<a class="link" href="telepathy-glib-proxy.html#TpProxy--object-path">object-path</a>"              gchararray            : Read / Write / Construct Only
</pre>
</div>
<div class="refsect1" lang="en">
<a name="id2593418"></a><h2>Signals</h2>
<pre class="synopsis">

  "<a class="link" href="telepathy-glib-proxy.html#TpProxy-interface-added">interface-added</a>"                                : Run Last / Has Details
  "<a class="link" href="telepathy-glib-proxy.html#TpProxy-invalidated">invalidated</a>"                                    : Run Last / Has Details
</pre>
</div>
<div class="refsect1" lang="en">
<a name="id2593450"></a><h2>Description</h2>
<p>
<a class="link" href="telepathy-glib-proxy.html#TpProxy"><span class="type">TpProxy</span></a> is a base class for Telepathy client-side proxies, which represent
an object accessed via D-Bus and provide access to its methods and signals.
</p>
<p>
The header proxy.h also includes auto-generated client wrappers for the
Properties interface, which can be implemented by any type of object.</p>
<p>

</p>
</div>
<div class="refsect1" lang="en">
<a name="id2593485"></a><h2>Details</h2>
<div class="refsect2" lang="en">
<a name="id2593495"></a><h3>
<a name="TpProxy-struct"></a>TpProxy</h3>
<a class="indexterm" name="id2593508"></a><pre class="programlisting">typedef struct {
    GObject parent;

    TpDBusDaemon *dbus_daemon;
    DBusGConnection *dbus_connection;
    gchar *bus_name;
    gchar *object_path;

    GError *invalidated /* initialized to NULL by g_object_new */;

    TpProxyPrivate *priv;
} TpProxy;
</pre>
<p>
Structure representing a Telepathy client-side proxy.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term">GObject&#160;<em class="structfield"><code>parent</code></em>;</span></p></td>
<td> parent object
</td>
</tr>
<tr>
<td><p><span class="term"><a class="link" href="telepathy-glib-dbus.html#TpDBusDaemon">TpDBusDaemon</a>&#160;*<em class="structfield"><code>dbus_daemon</code></em>;</span></p></td>
<td> the <a class="link" href="telepathy-glib-dbus.html#TpDBusDaemon"><span class="type">TpDBusDaemon</span></a> for this object, if any; always <code class="literal">NULL</code>
 if this object is a <a class="link" href="telepathy-glib-dbus.html#TpDBusDaemon"><span class="type">TpDBusDaemon</span></a> (read-only)
</td>
</tr>
<tr>
<td><p><span class="term"><a
href="/usr/share/gtk-doc/html/dbus-glib/dbus-glib-DBusGConnection.html#DBusGConnection"
>DBusGConnection</a>&#160;*<em class="structfield"><code>dbus_connection</code></em>;</span></p></td>
<td> the D-Bus connection used by this object (read-only)
</td>
</tr>
<tr>
<td><p><span class="term">gchar&#160;*<em class="structfield"><code>bus_name</code></em>;</span></p></td>
<td> the bus name of the application exporting the object (read-only)
</td>
</tr>
<tr>
<td><p><span class="term">gchar&#160;*<em class="structfield"><code>object_path</code></em>;</span></p></td>
<td> the object path of the remote object (read-only)
</td>
</tr>
<tr>
<td><p><span class="term">GError&#160;*<em class="structfield"><code>invalidated</code></em>;</span></p></td>
<td> if not <code class="literal">NULL</code>, the reason this proxy was invalidated
 (read-only)
</td>
</tr>
<tr>
<td><p><span class="term">TpProxyPrivate&#160;*<em class="structfield"><code>priv</code></em>;</span></p></td>
<td> private internal data
</td>
</tr>
</tbody>
</table></div>
<p class="since">Since  0.7.1
</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2593726"></a><h3>
<a name="TpProxyClass"></a>TpProxyClass</h3>
<a class="indexterm" name="id2593741"></a><pre class="programlisting">typedef struct {
    GObjectClass parent_class;

    GQuark interface;

    gboolean must_have_unique_name:1;
    guint _reserved_flags:31;

    GCallback _reserved[4];
    gpointer priv;
} TpProxyClass;
</pre>
<p>
The class of a <a class="link" href="telepathy-glib-proxy.html#TpProxy"><span class="type">TpProxy</span></a>.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term">GObjectClass&#160;<em class="structfield"><code>parent_class</code></em>;</span></p></td>
<td> The parent class structure
</td>
</tr>
<tr>
<td><p><span class="term">GQuark&#160;<em class="structfield"><code>interface</code></em>;</span></p></td>
<td> If set non-zero by a subclass, <a class="link" href="telepathy-glib-proxy.html#TpProxy"><span class="type">TpProxy</span></a> will
   automatically add this interface in its constructor
</td>
</tr>
<tr>
<td><p><span class="term">gboolean&#160;<em class="structfield"><code>must_have_unique_name</code></em>&#160;:1;</span></p></td>
<td> If set <code class="literal">TRUE</code> by a subclass, the <a class="link" href="telepathy-glib-proxy.html#TpProxy"><span class="type">TpProxy</span></a>
   constructor will fail if a well-known bus name is given
</td>
</tr>
<tr>
<td><p><span class="term">guint&#160;<em class="structfield"><code>_reserved_flags</code></em>&#160;:31;</span></p></td>
<td> Reserved for future expansion
</td>
</tr>
<tr>
<td><p><span class="term">GCallback&#160;<em class="structfield"><code>_reserved</code></em>[4];</span></p></td>
<td> Reserved for future expansion
</td>
</tr>
<tr>
<td><p><span class="term">gpointer&#160;<em class="structfield"><code>priv</code></em>;</span></p></td>
<td> Opaque pointer for private data
</td>
</tr>
</tbody>
</table></div>
<p class="since">Since  0.7.1
</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2593934"></a><h3>
<a name="tp-proxy-has-interface"></a>tp_proxy_has_interface()</h3>
<a class="indexterm" name="id2593947"></a><pre class="programlisting">#define             tp_proxy_has_interface(self, interface)</pre>
<p>
A macro wrapping <a class="link" href="telepathy-glib-proxy.html#tp-proxy-has-interface-by-id"><code class="function">tp_proxy_has_interface_by_id()</code></a>. Returns <code class="literal">TRUE</code> if this
proxy implements the given interface.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>self</code></em>&#160;:</span></p></td>
<td> the <a class="link" href="telepathy-glib-proxy.html#TpProxy"><span class="type">TpProxy</span></a> (or subclass)
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>interface</code></em>&#160;:</span></p></td>
<td> the interface required, as a string
</td>
</tr>
</tbody>
</table></div>
<p class="since">Since  0.7.1
</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2594034"></a><h3>
<a name="tp-proxy-has-interface-by-id"></a>tp_proxy_has_interface_by_id ()</h3>
<a class="indexterm" name="id2594050"></a><pre class="programlisting">gboolean            tp_proxy_has_interface_by_id        (gpointer self,
                                                         GQuark interface);</pre>
<p>
</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>self</code></em>&#160;:</span></p></td>
<td> the <a class="link" href="telepathy-glib-proxy.html#TpProxy"><span class="type">TpProxy</span></a> (or subclass)
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>interface</code></em>&#160;:</span></p></td>
<td> quark representing the interface required
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> <code class="literal">TRUE</code> if this proxy implements the given interface.

</td>
</tr>
</tbody>
</table></div>
<p class="since">Since  0.7.1
</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2594157"></a><h3>
<a name="TpProxyPendingCall"></a>TpProxyPendingCall</h3>
<a class="indexterm" name="id2594172"></a><pre class="programlisting">typedef struct _TpProxyPendingCall TpProxyPendingCall;</pre>
<p>
Opaque structure representing a pending D-Bus call.</p>
<p>

</p>
<p class="since">Since  0.7.1
</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2594200"></a><h3>
<a name="tp-proxy-pending-call-cancel"></a>tp_proxy_pending_call_cancel ()</h3>
<a class="indexterm" name="id2594216"></a><pre class="programlisting">void                tp_proxy_pending_call_cancel        (<a class="link" href="telepathy-glib-proxy.html#TpProxyPendingCall">TpProxyPendingCall</a> *self);</pre>
<p>
Cancel the given pending call. After this function returns, you
must not assume that the pending call remains valid, but you must not
explicitly free it either.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><p><span class="term"><em class="parameter"><code>self</code></em>&#160;:</span></p></td>
<td> a pending call
</td>
</tr></tbody>
</table></div>
<p class="since">Since  0.7.1
</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2594276"></a><h3>
<a name="TpProxySignalConnection"></a>TpProxySignalConnection</h3>
<a class="indexterm" name="id2594289"></a><pre class="programlisting">typedef struct _TpProxySignalConnection TpProxySignalConnection;</pre>
<p>
Opaque structure representing a D-Bus signal connection.</p>
<p>

</p>
<p class="since">Since  0.7.1
</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2594317"></a><h3>
<a name="tp-proxy-signal-connection-disconnect"></a>tp_proxy_signal_connection_disconnect ()</h3>
<a class="indexterm" name="id2594330"></a><pre class="programlisting">void                tp_proxy_signal_connection_disconnect
                                                        (<a class="link" href="telepathy-glib-proxy.html#TpProxySignalConnection">TpProxySignalConnection</a> *self);</pre>
<p>
Disconnect the given signal connection. After this function returns, you
must not assume that the signal connection remains valid, but you must not
explicitly free it either.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><p><span class="term"><em class="parameter"><code>self</code></em>&#160;:</span></p></td>
<td> a signal connection
</td>
</tr></tbody>
</table></div>
<p class="since">Since  0.7.1
</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2594390"></a><h3>
<a name="TP-DBUS-ERRORS:CAPS"></a>TP_DBUS_ERRORS</h3>
<a class="indexterm" name="id2594405"></a><pre class="programlisting">#define TP_DBUS_ERRORS (tp_dbus_errors_quark ())
</pre>
<p>
<span class="type">GError</span> domain representing D-Bus errors not directly related to
Telepathy, for use by <a class="link" href="telepathy-glib-proxy.html#TpProxy"><span class="type">TpProxy</span></a>. The <em class="parameter"><code>code</code></em> in a <span class="type">GError</span> with this
domain must be a member of <a class="link" href="telepathy-glib-proxy.html#TpDBusError"><span class="type">TpDBusError</span></a>.
</p>
<p>
This macro expands to a function call returning a <span class="type">GQuark</span>.</p>
<p>

</p>
<p class="since">Since  0.7.1
</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2594478"></a><h3>
<a name="TpDBusError"></a>enum TpDBusError</h3>
<a class="indexterm" name="id2594493"></a><pre class="programlisting">typedef enum {
    TP_DBUS_ERROR_UNKNOWN_REMOTE_ERROR = 0,
    TP_DBUS_ERROR_PROXY_UNREFERENCED = 1,
    TP_DBUS_ERROR_NO_INTERFACE = 2,
    TP_DBUS_ERROR_NAME_OWNER_LOST = 3,
    TP_DBUS_ERROR_INVALID_BUS_NAME = 4,
    TP_DBUS_ERROR_INVALID_INTERFACE_NAME = 5,
    TP_DBUS_ERROR_INVALID_OBJECT_PATH = 6,
    TP_DBUS_ERROR_INVALID_MEMBER_NAME = 7,
    TP_DBUS_ERROR_OBJECT_REMOVED = 8,
    TP_DBUS_ERROR_CANCELLED = 9,
    NUM_TP_DBUS_ERRORS
} TpDBusError;
</pre>
<p>
<span class="type">GError</span> codes for use with the <a class="link" href="telepathy-glib-proxy.html#TP-DBUS-ERRORS:CAPS"><code class="literal">TP_DBUS_ERRORS</code></a> domain.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><a name="TP-DBUS-ERROR-UNKNOWN-REMOTE-ERROR:CAPS"></a><code class="literal">TP_DBUS_ERROR_UNKNOWN_REMOTE_ERROR</code></span></p></td>
<td> Raised if the error raised by
 a remote D-Bus object is not recognised
</td>
</tr>
<tr>
<td><p><span class="term"><a name="TP-DBUS-ERROR-PROXY-UNREFERENCED:CAPS"></a><code class="literal">TP_DBUS_ERROR_PROXY_UNREFERENCED</code></span></p></td>
<td> Emitted in <span class="type">"invalidated"</span>
 when the <a class="link" href="telepathy-glib-proxy.html#TpProxy"><span class="type">TpProxy</span></a> has lost its last reference
</td>
</tr>
<tr>
<td><p><span class="term"><a name="TP-DBUS-ERROR-NO-INTERFACE:CAPS"></a><code class="literal">TP_DBUS_ERROR_NO_INTERFACE</code></span></p></td>
<td> Raised by <a class="link" href="telepathy-glib-proxy.html#TpProxy"><span class="type">TpProxy</span></a> methods if the remote
 object does not appear to have the required interface
</td>
</tr>
<tr>
<td><p><span class="term"><a name="TP-DBUS-ERROR-NAME-OWNER-LOST:CAPS"></a><code class="literal">TP_DBUS_ERROR_NAME_OWNER_LOST</code></span></p></td>
<td> Emitted in <span class="type">"invalidated"</span> if the
 remote process loses ownership of its bus name, and raised by
 any <a class="link" href="telepathy-glib-proxy.html#TpProxy"><span class="type">TpProxy</span></a> methods that have not had a reply at that time or are called
 after the proxy becomes invalid in this way (usually meaning it crashed)
</td>
</tr>
<tr>
<td><p><span class="term"><a name="TP-DBUS-ERROR-INVALID-BUS-NAME:CAPS"></a><code class="literal">TP_DBUS_ERROR_INVALID_BUS_NAME</code></span></p></td>
<td> Raised if a D-Bus bus name given is not
 valid, or is of an unacceptable type (e.g. well-known vs. unique)
</td>
</tr>
<tr>
<td><p><span class="term"><a name="TP-DBUS-ERROR-INVALID-INTERFACE-NAME:CAPS"></a><code class="literal">TP_DBUS_ERROR_INVALID_INTERFACE_NAME</code></span></p></td>
<td> Raised if a D-Bus interface or
 error name given is not valid
</td>
</tr>
<tr>
<td><p><span class="term"><a name="TP-DBUS-ERROR-INVALID-OBJECT-PATH:CAPS"></a><code class="literal">TP_DBUS_ERROR_INVALID_OBJECT_PATH</code></span></p></td>
<td> Raised if a D-Bus object path
 given is not valid
</td>
</tr>
<tr>
<td><p><span class="term"><a name="TP-DBUS-ERROR-INVALID-MEMBER-NAME:CAPS"></a><code class="literal">TP_DBUS_ERROR_INVALID_MEMBER_NAME</code></span></p></td>
<td> Raised if a D-Bus method or signal
 name given is not valid
</td>
</tr>
<tr>
<td><p><span class="term"><a name="TP-DBUS-ERROR-OBJECT-REMOVED:CAPS"></a><code class="literal">TP_DBUS_ERROR_OBJECT_REMOVED</code></span></p></td>
<td> A generic error which can be used with
 <span class="type">"invalidated"</span> to indicate an application-specific indication
 that the remote object no longer exists, if no more specific error
 is available.
</td>
</tr>
<tr>
<td><p><span class="term"><a name="TP-DBUS-ERROR-CANCELLED:CAPS"></a><code class="literal">TP_DBUS_ERROR_CANCELLED</code></span></p></td>
<td> Raised from calls that re-enter the main
 loop (*_run_*) if they are cancelled
</td>
</tr>
<tr>
<td><p><span class="term"><a name="NUM-TP-DBUS-ERRORS:CAPS"></a><code class="literal">NUM_TP_DBUS_ERRORS</code></span></p></td>
<td> 1 more than the highest valid <a class="link" href="telepathy-glib-proxy.html#TpDBusError"><span class="type">TpDBusError</span></a>
</td>
</tr>
</tbody>
</table></div>
<p class="since">Since  0.7.1
</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2594857"></a><h3>
<a name="tp-cli-properties-interface-callback-for-get-properties"></a>tp_cli_properties_interface_callback_for_get_properties ()</h3>
<a class="indexterm" name="id2594871"></a><pre class="programlisting">void                (*tp_cli_properties_interface_callback_for_get_properties)
                                                        (<a class="link" href="telepathy-glib-proxy.html#TpProxy">TpProxy</a> *proxy,
                                                         const GPtrArray *out0,
                                                         const GError *error,
                                                         gpointer user_data,
                                                         GObject *weak_object);</pre>
<p>
Signature of the callback called when a GetProperties method call
succeeds or fails.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em>&#160;:</span></p></td>
<td> the proxy on which the call was made
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>out0</code></em>&#160;:</span></p></td>
<td> Used to return an 'out' argument if <em class="parameter"><code>error</code></em> is <code class="literal">NULL</code>: &lt;tp:docstring xmlns="http://www.w3.org/1999/xhtml"&gt;           &lt;p&gt;An array of structs containing:&lt;/p&gt;           &lt;ul&gt;             &lt;li&gt;integer identifiers&lt;/li&gt;             &lt;li&gt;variant boxed values&lt;/li&gt;           &lt;/ul&gt;
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></p></td>
<td> <code class="literal">NULL</code> on success, or an error on failure
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em>&#160;:</span></p></td>
<td> user-supplied data
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>weak_object</code></em>&#160;:</span></p></td>
<td> user-supplied object
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2595039"></a><h3>
<a name="tp-cli-properties-interface-call-get-properties"></a>tp_cli_properties_interface_call_get_properties ()</h3>
<a class="indexterm" name="id2595053"></a><pre class="programlisting"><a class="link" href="telepathy-glib-proxy.html#TpProxyPendingCall">TpProxyPendingCall</a>* tp_cli_properties_interface_call_get_properties
                                                        (gpointer proxy,
                                                         gint timeout_ms,
                                                         const GArray *in_properties,
                                                         <a class="link" href="telepathy-glib-proxy.html#tp-cli-properties-interface-callback-for-get-properties">tp_cli_properties_interface_callback_for_get_properties</a> callback,
                                                         gpointer user_data,
                                                         GDestroyNotify destroy,
                                                         GObject *weak_object);</pre>
<p>
Start a GetProperties method call.
</p>
<p>
Returns an array of (identifier, value) pairs containing the current         values of the given properties.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em>&#160;:</span></p></td>
<td> the <a class="link" href="telepathy-glib-proxy.html#TpProxy"><span class="type">TpProxy</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>timeout_ms</code></em>&#160;:</span></p></td>
<td> the timeout in milliseconds, or -1 to use the
  default
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>in_properties</code></em>&#160;:</span></p></td>
<td> Used to pass an 'in' argument: An array of property identifiers
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>callback</code></em>&#160;:</span></p></td>
<td> called when the method call succeeds or fails
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em>&#160;:</span></p></td>
<td> user-supplied data passed to the callback
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>destroy</code></em>&#160;:</span></p></td>
<td> called with the user_data as argument, after the
  call has succeeded, failed or been cancelled
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>weak_object</code></em>&#160;:</span></p></td>
<td> A <span class="type">GObject</span> which will be weakly referenced; 
  if it is destroyed, this callback will automatically be
  disconnected
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> a <a class="link" href="telepathy-glib-proxy.html#TpProxyPendingCall"><span class="type">TpProxyPendingCall</span></a> representing the call in
 progress. It is borrowed from the object, and will become
 invalid when the callback is called, the call is
 cancelled or the <a class="link" href="telepathy-glib-proxy.html#TpProxy"><span class="type">TpProxy</span></a> becomes invalid.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2622534"></a><h3>
<a name="tp-cli-properties-interface-run-get-properties"></a>tp_cli_properties_interface_run_get_properties ()</h3>
<a class="indexterm" name="id2622548"></a><pre class="programlisting">gboolean            tp_cli_properties_interface_run_get_properties
                                                        (gpointer proxy,
                                                         gint timeout_ms,
                                                         const GArray *in_properties,
                                                         GPtrArray **out0,
                                                         GError **error,
                                                         GMainLoop **loop);</pre>
<p>
Call the method GetProperties and run the main loop
until it returns. Before calling this method, you must
add a reference to any borrowed objects you need to keep,
and generally ensure that everything is in a consistent
state.
</p>
<p>
Returns an array of (identifier, value) pairs containing the current         values of the given properties.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em>&#160;:</span></p></td>
<td> A <a class="link" href="telepathy-glib-proxy.html#TpProxy"><span class="type">TpProxy</span></a> or subclass
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>timeout_ms</code></em>&#160;:</span></p></td>
<td> Timeout in milliseconds, or -1 for default
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>in_properties</code></em>&#160;:</span></p></td>
<td> Used to pass an 'in' argument: An array of property identifiers
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>out0</code></em>&#160;:</span></p></td>
<td> Used to return an 'out' argument if <code class="literal">TRUE</code> is returned: &lt;tp:docstring xmlns="http://www.w3.org/1999/xhtml"&gt;           &lt;p&gt;An array of structs containing:&lt;/p&gt;           &lt;ul&gt;             &lt;li&gt;integer identifiers&lt;/li&gt;             &lt;li&gt;variant boxed values&lt;/li&gt;           &lt;/ul&gt;
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></p></td>
<td> If not <code class="literal">NULL</code>, used to return errors if <code class="literal">FALSE</code> 
 is returned
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>loop</code></em>&#160;:</span></p></td>
<td> If not <code class="literal">NULL</code>, set before re-entering 
 the main loop, to point to a <span class="type">GMainLoop</span> 
 which can be used to cancel this call with 
 <code class="function">g_main_loop_quit()</code>, causing a return of 
 <code class="literal">FALSE</code> with <em class="parameter"><code>error</code></em> set to <a class="link" href="telepathy-glib-proxy.html#TP-DBUS-ERROR-CANCELLED:CAPS"><code class="literal">TP_DBUS_ERROR_CANCELLED</code></a>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> TRUE on success, FALSE and sets <em class="parameter"><code>error</code></em> on error
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2622799"></a><h3>
<a name="tp-cli-properties-interface-callback-for-list-properties"></a>tp_cli_properties_interface_callback_for_list_properties ()</h3>
<a class="indexterm" name="id2622813"></a><pre class="programlisting">void                (*tp_cli_properties_interface_callback_for_list_properties)
                                                        (<a class="link" href="telepathy-glib-proxy.html#TpProxy">TpProxy</a> *proxy,
                                                         const GPtrArray *out0,
                                                         const GError *error,
                                                         gpointer user_data,
                                                         GObject *weak_object);</pre>
<p>
Signature of the callback called when a ListProperties method call
succeeds or fails.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em>&#160;:</span></p></td>
<td> the proxy on which the call was made
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>out0</code></em>&#160;:</span></p></td>
<td> Used to return an 'out' argument if <em class="parameter"><code>error</code></em> is <code class="literal">NULL</code>: An array of structs containing:           &lt;ul&gt;             &lt;li&gt;an integer identifier&lt;/li&gt;             &lt;li&gt;a string property name&lt;/li&gt;             &lt;li&gt;a string representing the D-Bus signature of this property&lt;/li&gt;             &lt;li&gt;a bitwise OR of the flags applicable to this property&lt;/li&gt;           &lt;/ul&gt;
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></p></td>
<td> <code class="literal">NULL</code> on success, or an error on failure
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em>&#160;:</span></p></td>
<td> user-supplied data
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>weak_object</code></em>&#160;:</span></p></td>
<td> user-supplied object
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2622967"></a><h3>
<a name="tp-cli-properties-interface-call-list-properties"></a>tp_cli_properties_interface_call_list_properties ()</h3>
<a class="indexterm" name="id2622980"></a><pre class="programlisting"><a class="link" href="telepathy-glib-proxy.html#TpProxyPendingCall">TpProxyPendingCall</a>* tp_cli_properties_interface_call_list_properties
                                                        (gpointer proxy,
                                                         gint timeout_ms,
                                                         <a class="link" href="telepathy-glib-proxy.html#tp-cli-properties-interface-callback-for-list-properties">tp_cli_properties_interface_callback_for_list_properties</a> callback,
                                                         gpointer user_data,
                                                         GDestroyNotify destroy,
                                                         GObject *weak_object);</pre>
<p>
Start a ListProperties method call.
</p>
<p>
Returns a dictionary of the properties available on this channel.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em>&#160;:</span></p></td>
<td> the <a class="link" href="telepathy-glib-proxy.html#TpProxy"><span class="type">TpProxy</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>timeout_ms</code></em>&#160;:</span></p></td>
<td> the timeout in milliseconds, or -1 to use the
  default
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>callback</code></em>&#160;:</span></p></td>
<td> called when the method call succeeds or fails
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em>&#160;:</span></p></td>
<td> user-supplied data passed to the callback
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>destroy</code></em>&#160;:</span></p></td>
<td> called with the user_data as argument, after the
  call has succeeded, failed or been cancelled
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>weak_object</code></em>&#160;:</span></p></td>
<td> A <span class="type">GObject</span> which will be weakly referenced; 
  if it is destroyed, this callback will automatically be
  disconnected
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> a <a class="link" href="telepathy-glib-proxy.html#TpProxyPendingCall"><span class="type">TpProxyPendingCall</span></a> representing the call in
 progress. It is borrowed from the object, and will become
 invalid when the callback is called, the call is
 cancelled or the <a class="link" href="telepathy-glib-proxy.html#TpProxy"><span class="type">TpProxy</span></a> becomes invalid.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2623173"></a><h3>
<a name="tp-cli-properties-interface-run-list-properties"></a>tp_cli_properties_interface_run_list_properties ()</h3>
<a class="indexterm" name="id2623186"></a><pre class="programlisting">gboolean            tp_cli_properties_interface_run_list_properties
                                                        (gpointer proxy,
                                                         gint timeout_ms,
                                                         GPtrArray **out0,
                                                         GError **error,
                                                         GMainLoop **loop);</pre>
<p>
Call the method ListProperties and run the main loop
until it returns. Before calling this method, you must
add a reference to any borrowed objects you need to keep,
and generally ensure that everything is in a consistent
state.
</p>
<p>
Returns a dictionary of the properties available on this channel.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em>&#160;:</span></p></td>
<td> A <a class="link" href="telepathy-glib-proxy.html#TpProxy"><span class="type">TpProxy</span></a> or subclass
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>timeout_ms</code></em>&#160;:</span></p></td>
<td> Timeout in milliseconds, or -1 for default
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>out0</code></em>&#160;:</span></p></td>
<td> Used to return an 'out' argument if <code class="literal">TRUE</code> is returned: An array of structs containing:           &lt;ul&gt;             &lt;li&gt;an integer identifier&lt;/li&gt;             &lt;li&gt;a string property name&lt;/li&gt;             &lt;li&gt;a string representing the D-Bus signature of this property&lt;/li&gt;             &lt;li&gt;a bitwise OR of the flags applicable to this property&lt;/li&gt;           &lt;/ul&gt;
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></p></td>
<td> If not <code class="literal">NULL</code>, used to return errors if <code class="literal">FALSE</code> 
 is returned
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>loop</code></em>&#160;:</span></p></td>
<td> If not <code class="literal">NULL</code>, set before re-entering 
 the main loop, to point to a <span class="type">GMainLoop</span> 
 which can be used to cancel this call with 
 <code class="function">g_main_loop_quit()</code>, causing a return of 
 <code class="literal">FALSE</code> with <em class="parameter"><code>error</code></em> set to <a class="link" href="telepathy-glib-proxy.html#TP-DBUS-ERROR-CANCELLED:CAPS"><code class="literal">TP_DBUS_ERROR_CANCELLED</code></a>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> TRUE on success, FALSE and sets <em class="parameter"><code>error</code></em> on error
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2623418"></a><h3>
<a name="tp-cli-properties-interface-callback-for-set-properties"></a>tp_cli_properties_interface_callback_for_set_properties ()</h3>
<a class="indexterm" name="id2623431"></a><pre class="programlisting">void                (*tp_cli_properties_interface_callback_for_set_properties)
                                                        (<a class="link" href="telepathy-glib-proxy.html#TpProxy">TpProxy</a> *proxy,
                                                         const GError *error,
                                                         gpointer user_data,
                                                         GObject *weak_object);</pre>
<p>
Signature of the callback called when a SetProperties method call
succeeds or fails.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em>&#160;:</span></p></td>
<td> the proxy on which the call was made
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></p></td>
<td> <code class="literal">NULL</code> on success, or an error on failure
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em>&#160;:</span></p></td>
<td> user-supplied data
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>weak_object</code></em>&#160;:</span></p></td>
<td> user-supplied object
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2623547"></a><h3>
<a name="tp-cli-properties-interface-call-set-properties"></a>tp_cli_properties_interface_call_set_properties ()</h3>
<a class="indexterm" name="id2623560"></a><pre class="programlisting"><a class="link" href="telepathy-glib-proxy.html#TpProxyPendingCall">TpProxyPendingCall</a>* tp_cli_properties_interface_call_set_properties
                                                        (gpointer proxy,
                                                         gint timeout_ms,
                                                         const GPtrArray *in_properties,
                                                         <a class="link" href="telepathy-glib-proxy.html#tp-cli-properties-interface-callback-for-set-properties">tp_cli_properties_interface_callback_for_set_properties</a> callback,
                                                         gpointer user_data,
                                                         GDestroyNotify destroy,
                                                         GObject *weak_object);</pre>
<p>
Start a SetProperties method call.
</p>
<p>
&lt;tp:docstring xmlns="http://www.w3.org/1999/xhtml"&gt;         &lt;p&gt;Takes an array of (identifier, value) pairs containing desired           values to set the given properties. In the case of any errors, no           properties will be changed. When the changes have been acknowledged           by the server, the PropertiesChanged signal will be emitted.&lt;/p&gt;          &lt;p&gt;All properties given must have the PROPERTY_FLAG_WRITE flag, or         PermissionDenied will be returned. If any variants are of the wrong         type, NotAvailable will be returned.  If any given property identifiers         are invalid, InvalidArgument will be returned.&lt;/p&gt;</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em>&#160;:</span></p></td>
<td> the <a class="link" href="telepathy-glib-proxy.html#TpProxy"><span class="type">TpProxy</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>timeout_ms</code></em>&#160;:</span></p></td>
<td> the timeout in milliseconds, or -1 to use the
  default
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>in_properties</code></em>&#160;:</span></p></td>
<td> Used to pass an 'in' argument: A dictionary mapping integer identifiers to boxed values
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>callback</code></em>&#160;:</span></p></td>
<td> called when the method call succeeds or fails
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em>&#160;:</span></p></td>
<td> user-supplied data passed to the callback
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>destroy</code></em>&#160;:</span></p></td>
<td> called with the user_data as argument, after the
  call has succeeded, failed or been cancelled
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>weak_object</code></em>&#160;:</span></p></td>
<td> A <span class="type">GObject</span> which will be weakly referenced; 
  if it is destroyed, this callback will automatically be
  disconnected
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> a <a class="link" href="telepathy-glib-proxy.html#TpProxyPendingCall"><span class="type">TpProxyPendingCall</span></a> representing the call in
 progress. It is borrowed from the object, and will become
 invalid when the callback is called, the call is
 cancelled or the <a class="link" href="telepathy-glib-proxy.html#TpProxy"><span class="type">TpProxy</span></a> becomes invalid.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2623783"></a><h3>
<a name="tp-cli-properties-interface-run-set-properties"></a>tp_cli_properties_interface_run_set_properties ()</h3>
<a class="indexterm" name="id2623796"></a><pre class="programlisting">gboolean            tp_cli_properties_interface_run_set_properties
                                                        (gpointer proxy,
                                                         gint timeout_ms,
                                                         const GPtrArray *in_properties,
                                                         GError **error,
                                                         GMainLoop **loop);</pre>
<p>
Call the method SetProperties and run the main loop
until it returns. Before calling this method, you must
add a reference to any borrowed objects you need to keep,
and generally ensure that everything is in a consistent
state.
</p>
<p>
&lt;tp:docstring xmlns="http://www.w3.org/1999/xhtml"&gt;         &lt;p&gt;Takes an array of (identifier, value) pairs containing desired           values to set the given properties. In the case of any errors, no           properties will be changed. When the changes have been acknowledged           by the server, the PropertiesChanged signal will be emitted.&lt;/p&gt;          &lt;p&gt;All properties given must have the PROPERTY_FLAG_WRITE flag, or         PermissionDenied will be returned. If any variants are of the wrong         type, NotAvailable will be returned.  If any given property identifiers         are invalid, InvalidArgument will be returned.&lt;/p&gt;</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em>&#160;:</span></p></td>
<td> A <a class="link" href="telepathy-glib-proxy.html#TpProxy"><span class="type">TpProxy</span></a> or subclass
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>timeout_ms</code></em>&#160;:</span></p></td>
<td> Timeout in milliseconds, or -1 for default
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>in_properties</code></em>&#160;:</span></p></td>
<td> Used to pass an 'in' argument: A dictionary mapping integer identifiers to boxed values
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></p></td>
<td> If not <code class="literal">NULL</code>, used to return errors if <code class="literal">FALSE</code> 
 is returned
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>loop</code></em>&#160;:</span></p></td>
<td> If not <code class="literal">NULL</code>, set before re-entering 
 the main loop, to point to a <span class="type">GMainLoop</span> 
 which can be used to cancel this call with 
 <code class="function">g_main_loop_quit()</code>, causing a return of 
 <code class="literal">FALSE</code> with <em class="parameter"><code>error</code></em> set to <a class="link" href="telepathy-glib-proxy.html#TP-DBUS-ERROR-CANCELLED:CAPS"><code class="literal">TP_DBUS_ERROR_CANCELLED</code></a>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> TRUE on success, FALSE and sets <em class="parameter"><code>error</code></em> on error
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2624025"></a><h3>
<a name="tp-cli-properties-interface-signal-callback-properties-changed"></a>tp_cli_properties_interface_signal_callback_properties_changed ()</h3>
<a class="indexterm" name="id2624039"></a><pre class="programlisting">void                (*tp_cli_properties_interface_signal_callback_properties_changed)
                                                        (<a class="link" href="telepathy-glib-proxy.html#TpProxy">TpProxy</a> *proxy,
                                                         const GPtrArray *arg_properties,
                                                         gpointer user_data,
                                                         GObject *weak_object);</pre>
<p>
Represents the signature of a callback for the signal PropertiesChanged.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em>&#160;:</span></p></td>
<td> The proxy on which <a class="link" href="telepathy-glib-proxy.html#tp-cli-properties-interface-connect-to-properties-changed"><code class="function">tp_cli_properties_interface_connect_to_properties_changed()</code></a>
 was called
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>arg_properties</code></em>&#160;:</span></p></td>
<td> &lt;tp:docstring xmlns="http://www.w3.org/1999/xhtml"&gt;           &lt;p&gt;An array of structs containing:&lt;/p&gt;           &lt;ul&gt;             &lt;li&gt;integer identifiers&lt;/li&gt;             &lt;li&gt;variant boxed values&lt;/li&gt;           &lt;/ul&gt;           &lt;p&gt;The array should contain only properties whose values have             actually changed.&lt;/p&gt;
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em>&#160;:</span></p></td>
<td> User-supplied data
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>weak_object</code></em>&#160;:</span></p></td>
<td> User-supplied weakly referenced object
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2624161"></a><h3>
<a name="tp-cli-properties-interface-connect-to-properties-changed"></a>tp_cli_properties_interface_connect_to_properties_changed ()</h3>
<a class="indexterm" name="id2624175"></a><pre class="programlisting"><a class="link" href="telepathy-glib-proxy.html#TpProxySignalConnection">TpProxySignalConnection</a>* tp_cli_properties_interface_connect_to_properties_changed
                                                        (gpointer proxy,
                                                         <a class="link" href="telepathy-glib-proxy.html#tp-cli-properties-interface-signal-callback-properties-changed">tp_cli_properties_interface_signal_callback_properties_changed</a> callback,
                                                         gpointer user_data,
                                                         GDestroyNotify destroy,
                                                         GObject *weak_object,
                                                         GError **error);</pre>
<p>
Connect a handler to the signal PropertiesChanged.
</p>
<p>
Emitted when the value of readable properties has changed.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em>&#160;:</span></p></td>
<td> A <a class="link" href="telepathy-glib-proxy.html#TpProxy"><span class="type">TpProxy</span></a> or subclass
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>callback</code></em>&#160;:</span></p></td>
<td> Callback to be called when the signal is
  received
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em>&#160;:</span></p></td>
<td> User-supplied data for the callback
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>destroy</code></em>&#160;:</span></p></td>
<td> Destructor for the user-supplied data, which
  will be called when this signal is disconnected, or
  before this function returns <code class="literal">NULL</code>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>weak_object</code></em>&#160;:</span></p></td>
<td> A <span class="type">GObject</span> which will be weakly referenced; 
  if it is destroyed, this callback will automatically be
  disconnected
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></p></td>
<td> If not <code class="literal">NULL</code>, used to raise an error if <code class="literal">NULL</code> is
  returned
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> a <a class="link" href="telepathy-glib-proxy.html#TpProxySignalConnection"><span class="type">TpProxySignalConnection</span></a> containing all of the
above, which can be used to disconnect the signal; or
<code class="literal">NULL</code> if the proxy does not have the desired interface
or has become invalid.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2624396"></a><h3>
<a name="tp-cli-properties-interface-signal-callback-property-flags-changed"></a>tp_cli_properties_interface_signal_callback_property_flags_changed ()</h3>
<a class="indexterm" name="id2624411"></a><pre class="programlisting">void                (*tp_cli_properties_interface_signal_callback_property_flags_changed)
                                                        (<a class="link" href="telepathy-glib-proxy.html#TpProxy">TpProxy</a> *proxy,
                                                         const GPtrArray *arg_properties,
                                                         gpointer user_data,
                                                         GObject *weak_object);</pre>
<p>
Represents the signature of a callback for the signal PropertyFlagsChanged.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em>&#160;:</span></p></td>
<td> The proxy on which <a class="link" href="telepathy-glib-proxy.html#tp-cli-properties-interface-connect-to-property-flags-changed"><code class="function">tp_cli_properties_interface_connect_to_property_flags_changed()</code></a>
 was called
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>arg_properties</code></em>&#160;:</span></p></td>
<td> &lt;tp:docstring xmlns="http://www.w3.org/1999/xhtml"&gt;           &lt;p&gt;An array of structs containing:&lt;/p&gt;           &lt;ul&gt;             &lt;li&gt;integer identifiers&lt;/li&gt;             &lt;li&gt;a bitwise OR of the current flags&lt;/li&gt;           &lt;/ul&gt;           &lt;p&gt;The array should contain only properties whose flags have actually             changed.&lt;/p&gt;
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em>&#160;:</span></p></td>
<td> User-supplied data
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>weak_object</code></em>&#160;:</span></p></td>
<td> User-supplied weakly referenced object
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2624533"></a><h3>
<a name="tp-cli-properties-interface-connect-to-property-flags-changed"></a>tp_cli_properties_interface_connect_to_property_flags_changed ()</h3>
<a class="indexterm" name="id2624547"></a><pre class="programlisting"><a class="link" href="telepathy-glib-proxy.html#TpProxySignalConnection">TpProxySignalConnection</a>* tp_cli_properties_interface_connect_to_property_flags_changed
                                                        (gpointer proxy,
                                                         <a class="link" href="telepathy-glib-proxy.html#tp-cli-properties-interface-signal-callback-property-flags-changed">tp_cli_properties_interface_signal_callback_property_flags_changed</a> callback,
                                                         gpointer user_data,
                                                         GDestroyNotify destroy,
                                                         GObject *weak_object,
                                                         GError **error);</pre>
<p>
Connect a handler to the signal PropertyFlagsChanged.
</p>
<p>
Emitted when the flags of some room properties have changed.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em>&#160;:</span></p></td>
<td> A <a class="link" href="telepathy-glib-proxy.html#TpProxy"><span class="type">TpProxy</span></a> or subclass
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>callback</code></em>&#160;:</span></p></td>
<td> Callback to be called when the signal is
  received
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em>&#160;:</span></p></td>
<td> User-supplied data for the callback
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>destroy</code></em>&#160;:</span></p></td>
<td> Destructor for the user-supplied data, which
  will be called when this signal is disconnected, or
  before this function returns <code class="literal">NULL</code>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>weak_object</code></em>&#160;:</span></p></td>
<td> A <span class="type">GObject</span> which will be weakly referenced; 
  if it is destroyed, this callback will automatically be
  disconnected
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></p></td>
<td> If not <code class="literal">NULL</code>, used to raise an error if <code class="literal">NULL</code> is
  returned
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> a <a class="link" href="telepathy-glib-proxy.html#TpProxySignalConnection"><span class="type">TpProxySignalConnection</span></a> containing all of the
above, which can be used to disconnect the signal; or
<code class="literal">NULL</code> if the proxy does not have the desired interface
or has become invalid.
</td>
</tr>
</tbody>
</table></div>
</div>
</div>
<div class="refsect1" lang="en">
<a name="id2624769"></a><h2>Property Details</h2>
<div class="refsect2" lang="en">
<a name="id2624778"></a><h3>
<a name="TpProxy--bus-name"></a>The <code class="literal">"bus-name"</code> property</h3>
<a class="indexterm" name="id2624791"></a><pre class="programlisting">  "bus-name"                 gchararray            : Read / Write / Construct Only</pre>
<p>
The D-Bus bus name for this object. Read-only except during construction.</p>
<p>

</p>
<p>Default value: NULL</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2624819"></a><h3>
<a name="TpProxy--dbus-connection"></a>The <code class="literal">"dbus-connection"</code> property</h3>
<a class="indexterm" name="id2624831"></a><pre class="programlisting">  "dbus-connection"          <a
href="/usr/share/gtk-doc/html/dbus-glib/dbus-glib-DBusGConnection.html#DBusGConnection"
>DBusGConnection</a>       : Read / Write / Construct Only</pre>
<p>
The D-Bus connection for this object. Read-only except during
construction.</p>
<p>

</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2624856"></a><h3>
<a name="TpProxy--dbus-daemon"></a>The <code class="literal">"dbus-daemon"</code> property</h3>
<a class="indexterm" name="id2624869"></a><pre class="programlisting">  "dbus-daemon"              <a class="link" href="telepathy-glib-dbus.html#TpDBusDaemon">TpDBusDaemon</a>          : Read / Write / Construct Only</pre>
<p>
The D-Bus daemon for this object (this object itself, if it is a
TpDBusDaemon). Read-only except during construction.</p>
<p>

</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2624894"></a><h3>
<a name="TpProxy--interfaces"></a>The <code class="literal">"interfaces"</code> property</h3>
<a class="indexterm" name="id2624907"></a><pre class="programlisting">  "interfaces"               GStrv                 : Read</pre>
<p>
Known D-Bus interface names for this object.</p>
<p>

</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2624930"></a><h3>
<a name="TpProxy--object-path"></a>The <code class="literal">"object-path"</code> property</h3>
<a class="indexterm" name="id2624943"></a><pre class="programlisting">  "object-path"              gchararray            : Read / Write / Construct Only</pre>
<p>
The D-Bus object path for this object. Read-only except during
construction.</p>
<p>

</p>
<p>Default value: NULL</p>
</div>
</div>
<div class="refsect1" lang="en">
<a name="id2624972"></a><h2>Signal Details</h2>
<div class="refsect2" lang="en">
<a name="id2624981"></a><h3>
<a name="TpProxy-interface-added"></a>The <code class="literal">"interface-added"</code> signal</h3>
<a class="indexterm" name="id2624994"></a><pre class="programlisting">void                user_function                      (<a class="link" href="telepathy-glib-proxy.html#TpProxy">TpProxy</a>    *self,
                                                        guint       id,
                                                        <a
href="/usr/share/gtk-doc/html/dbus-glib/dbus-glib-DBusGProxy.html#DBusGProxy"
>DBusGProxy</a> *proxy,
                                                        gpointer    user_data)      : Run Last / Has Details</pre>
<p>
Emitted when this proxy has gained an interface. It is not guaranteed
to be emitted immediately, but will be emitted before the interface is
first used (at the latest: before it's returned from
<a class="link" href="telepathy-glib-proxy-subclass.html#tp-proxy-borrow-interface-by-id"><code class="function">tp_proxy_borrow_interface_by_id()</code></a>, any signal is connected, or any
method is called).
</p>
<p>
The intended use is to call <code class="function">dbus_g_proxy_add_signals()</code>. This signal
should only be used by TpProy implementations</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>self</code></em>&#160;:</span></p></td>
<td> the proxy object
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>id</code></em>&#160;:</span></p></td>
<td> the GQuark representing the interface
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>proxy</code></em>&#160;:</span></p></td>
<td> the dbus-glib proxy representing the interface
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em>&#160;:</span></p></td>
<td>user data set when the signal handler was connected.</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2625125"></a><h3>
<a name="TpProxy-invalidated"></a>The <code class="literal">"invalidated"</code> signal</h3>
<a class="indexterm" name="id2625138"></a><pre class="programlisting">void                user_function                      (<a class="link" href="telepathy-glib-proxy.html#TpProxy">TpProxy</a> *self,
                                                        guint    domain,
                                                        gint     code,
                                                        gchar   *message,
                                                        gpointer user_data)      : Run Last / Has Details</pre>
<p>
Emitted when this proxy has been become invalid for
whatever reason. Any more specific signal should be emitted first.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>self</code></em>&#160;:</span></p></td>
<td> the proxy object
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>domain</code></em>&#160;:</span></p></td>
<td> domain of a GError indicating why this proxy was invalidated
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>code</code></em>&#160;:</span></p></td>
<td> error code of a GError indicating why this proxy was invalidated
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>message</code></em>&#160;:</span></p></td>
<td> a message associated with the error
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em>&#160;:</span></p></td>
<td>user data set when the signal handler was connected.</td>
</tr>
</tbody>
</table></div>
</div>
</div>
<div class="refsect1" lang="en">
<a name="id2625266"></a><h2>See Also</h2>
<a class="link" href="telepathy-glib-channel.html#TpChannel"><span class="type">TpChannel</span></a>, <a class="link" href="telepathy-glib-connection.html#TpConnection"><span class="type">TpConnection</span></a>, <a class="link" href="telepathy-glib-connection-manager.html#TpConnectionManager"><span class="type">TpConnectionManager</span></a>
</div>
<div class="refsect1" lang="en">
<a name="id2625292"></a><div class="refsect2" lang="en"><a name="id2625293"></a></div>
<hr>
<div class="refsect2" lang="en"><a name="id2625294"></a></div>
</div>
</div>
</body>
</html>
