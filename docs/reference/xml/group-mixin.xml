<?xml version="1.0"?>
<!DOCTYPE refentry PUBLIC "-//OASIS//DTD DocBook XML V4.1.2//EN" 
               "http://www.oasis-open.org/docbook/xml/4.1.2/docbookx.dtd">
<refentry id="telepathy-glib-TpGroupMixin">
<refmeta>
<refentrytitle role="top_of_page" id="telepathy-glib-TpGroupMixin.top_of_page">TpGroupMixin</refentrytitle>
<manvolnum>3</manvolnum>
<refmiscinfo>TELEPATHY-GLIB Library</refmiscinfo>
</refmeta>

<refnamediv>
<refname>TpGroupMixin</refname>
<refpurpose>a mixin implementation of the groups interface</refpurpose>
</refnamediv>

<refsynopsisdiv id="telepathy-glib-TpGroupMixin.synopsis" role="synopsis">
<title role="synopsis.title">Synopsis</title>

<synopsis>

#include &lt;telepathy-glib/group-mixin.h&gt;

<link linkend="gboolean">gboolean</link>            (<link linkend="TpGroupMixinAddMemberFunc">*TpGroupMixinAddMemberFunc</link>)        (<link linkend="GObject">GObject</link> *obj,
                                                         <link linkend="TpHandle">TpHandle</link> handle,
                                                         const <link linkend="gchar">gchar</link> *message,
                                                         <link linkend="GError">GError</link> **error);
<link linkend="gboolean">gboolean</link>            (<link linkend="TpGroupMixinRemMemberFunc">*TpGroupMixinRemMemberFunc</link>)        (<link linkend="GObject">GObject</link> *obj,
                                                         <link linkend="TpHandle">TpHandle</link> handle,
                                                         const <link linkend="gchar">gchar</link> *message,
                                                         <link linkend="GError">GError</link> **error);
<link linkend="gboolean">gboolean</link>            (<link linkend="TpGroupMixinRemMemberWithReasonFunc">*TpGroupMixinRemMemberWithReasonFunc</link>)
                                                        (<link linkend="GObject">GObject</link> *obj,
                                                         <link linkend="TpHandle">TpHandle</link> handle,
                                                         const <link linkend="gchar">gchar</link> *message,
                                                         <link linkend="guint">guint</link> reason,
                                                         <link linkend="GError">GError</link> **error);
                    <link linkend="TpGroupMixin">TpGroupMixin</link>;
                    <link linkend="TpGroupMixinClass">TpGroupMixinClass</link>;
<link linkend="void">void</link>                <link linkend="tp-group-mixin-class-init">tp_group_mixin_class_init</link>           (<link linkend="GObjectClass">GObjectClass</link> *obj_cls,
                                                         <link linkend="glong">glong</link> offset,
                                                         <link linkend="TpGroupMixinAddMemberFunc">TpGroupMixinAddMemberFunc</link> add_func,
                                                         <link linkend="TpGroupMixinRemMemberFunc">TpGroupMixinRemMemberFunc</link> rem_func);
<link linkend="void">void</link>                <link linkend="tp-group-mixin-class-allow-self-removal">tp_group_mixin_class_allow_self_removal</link>
                                                        (<link linkend="GObjectClass">GObjectClass</link> *obj_cls);
<link linkend="void">void</link>                <link linkend="tp-group-mixin-class-set-remove-with-reason-func">tp_group_mixin_class_set_remove_with_reason_func</link>
                                                        (<link linkend="GObjectClass">GObjectClass</link> *cls,
                                                         <link linkend="TpGroupMixinRemMemberWithReasonFunc">TpGroupMixinRemMemberWithReasonFunc</link> func);
<link linkend="void">void</link>                <link linkend="tp-group-mixin-init">tp_group_mixin_init</link>                 (<link linkend="GObject">GObject</link> *obj,
                                                         <link linkend="glong">glong</link> offset,
                                                         <link linkend="TpHandleRepoIface">TpHandleRepoIface</link> *handle_repo,
                                                         <link linkend="TpHandle">TpHandle</link> self_handle);
<link linkend="void">void</link>                <link linkend="tp-group-mixin-finalize">tp_group_mixin_finalize</link>             (<link linkend="GObject">GObject</link> *obj);
<link linkend="gboolean">gboolean</link>            <link linkend="tp-group-mixin-get-self-handle">tp_group_mixin_get_self_handle</link>      (<link linkend="GObject">GObject</link> *obj,
                                                         <link linkend="guint">guint</link> *ret,
                                                         <link linkend="GError">GError</link> **error);
<link linkend="gboolean">gboolean</link>            <link linkend="tp-group-mixin-get-group-flags">tp_group_mixin_get_group_flags</link>      (<link linkend="GObject">GObject</link> *obj,
                                                         <link linkend="guint">guint</link> *ret,
                                                         <link linkend="GError">GError</link> **error);
<link linkend="gboolean">gboolean</link>            <link linkend="tp-group-mixin-add-members">tp_group_mixin_add_members</link>          (<link linkend="GObject">GObject</link> *obj,
                                                         const <link linkend="GArray">GArray</link> *contacts,
                                                         const <link linkend="gchar">gchar</link> *message,
                                                         <link linkend="GError">GError</link> **error);
<link linkend="gboolean">gboolean</link>            <link linkend="tp-group-mixin-remove-members">tp_group_mixin_remove_members</link>       (<link linkend="GObject">GObject</link> *obj,
                                                         const <link linkend="GArray">GArray</link> *contacts,
                                                         const <link linkend="gchar">gchar</link> *message,
                                                         <link linkend="GError">GError</link> **error);
<link linkend="gboolean">gboolean</link>            <link linkend="tp-group-mixin-remove-members-with-reason">tp_group_mixin_remove_members_with_reason</link>
                                                        (<link linkend="GObject">GObject</link> *obj,
                                                         const <link linkend="GArray">GArray</link> *contacts,
                                                         const <link linkend="gchar">gchar</link> *message,
                                                         <link linkend="guint">guint</link> reason,
                                                         <link linkend="GError">GError</link> **error);
<link linkend="gboolean">gboolean</link>            <link linkend="tp-group-mixin-get-members">tp_group_mixin_get_members</link>          (<link linkend="GObject">GObject</link> *obj,
                                                         <link linkend="GArray">GArray</link> **ret,
                                                         <link linkend="GError">GError</link> **error);
<link linkend="gboolean">gboolean</link>            <link linkend="tp-group-mixin-get-local-pending-members">tp_group_mixin_get_local_pending_members</link>
                                                        (<link linkend="GObject">GObject</link> *obj,
                                                         <link linkend="GArray">GArray</link> **ret,
                                                         <link linkend="GError">GError</link> **error);
<link linkend="gboolean">gboolean</link>            <link linkend="tp-group-mixin-get-local-pending-members-with-info">tp_group_mixin_get_local_pending_members_with_info</link>
                                                        (<link linkend="GObject">GObject</link> *obj,
                                                         <link linkend="GPtrArray">GPtrArray</link> **ret,
                                                         <link linkend="GError">GError</link> **error);
<link linkend="gboolean">gboolean</link>            <link linkend="tp-group-mixin-get-remote-pending-members">tp_group_mixin_get_remote_pending_members</link>
                                                        (<link linkend="GObject">GObject</link> *obj,
                                                         <link linkend="GArray">GArray</link> **ret,
                                                         <link linkend="GError">GError</link> **error);
<link linkend="gboolean">gboolean</link>            <link linkend="tp-group-mixin-get-all-members">tp_group_mixin_get_all_members</link>      (<link linkend="GObject">GObject</link> *obj,
                                                         <link linkend="GArray">GArray</link> **members,
                                                         <link linkend="GArray">GArray</link> **local_pending,
                                                         <link linkend="GArray">GArray</link> **remote_pending,
                                                         <link linkend="GError">GError</link> **error);
<link linkend="gboolean">gboolean</link>            <link linkend="tp-group-mixin-get-handle-owners">tp_group_mixin_get_handle_owners</link>    (<link linkend="GObject">GObject</link> *obj,
                                                         const <link linkend="GArray">GArray</link> *handles,
                                                         <link linkend="GArray">GArray</link> **ret,
                                                         <link linkend="GError">GError</link> **error);
<link linkend="void">void</link>                <link linkend="tp-group-mixin-change-flags">tp_group_mixin_change_flags</link>         (<link linkend="GObject">GObject</link> *obj,
                                                         <link linkend="TpChannelGroupFlags">TpChannelGroupFlags</link> add,
                                                         <link linkend="TpChannelGroupFlags">TpChannelGroupFlags</link> del);
<link linkend="gboolean">gboolean</link>            <link linkend="tp-group-mixin-change-members">tp_group_mixin_change_members</link>       (<link linkend="GObject">GObject</link> *obj,
                                                         const <link linkend="gchar">gchar</link> *message,
                                                         <link linkend="TpIntSet">TpIntSet</link> *add,
                                                         <link linkend="TpIntSet">TpIntSet</link> *del,
                                                         <link linkend="TpIntSet">TpIntSet</link> *add_local_pending,
                                                         <link linkend="TpIntSet">TpIntSet</link> *add_remote_pending,
                                                         <link linkend="TpHandle">TpHandle</link> actor,
                                                         <link linkend="TpChannelGroupChangeReason">TpChannelGroupChangeReason</link> reason);
<link linkend="gboolean">gboolean</link>            <link linkend="tp-group-mixin-change-members-detailed">tp_group_mixin_change_members_detailed</link>
                                                        (<link linkend="GObject">GObject</link> *obj,
                                                         <link linkend="TpIntSet">TpIntSet</link> *add,
                                                         <link linkend="TpIntSet">TpIntSet</link> *del,
                                                         <link linkend="TpIntSet">TpIntSet</link> *add_local_pending,
                                                         <link linkend="TpIntSet">TpIntSet</link> *add_remote_pending,
                                                         const <link linkend="GHashTable">GHashTable</link> *details);
<link linkend="void">void</link>                <link linkend="tp-group-mixin-add-handle-owner">tp_group_mixin_add_handle_owner</link>     (<link linkend="GObject">GObject</link> *obj,
                                                         <link linkend="TpHandle">TpHandle</link> local_handle,
                                                         <link linkend="TpHandle">TpHandle</link> owner_handle);
<link linkend="void">void</link>                <link linkend="tp-group-mixin-iface-init">tp_group_mixin_iface_init</link>           (<link linkend="gpointer">gpointer</link> g_iface,
                                                         <link linkend="gpointer">gpointer</link> iface_data);
<link linkend="void">void</link>                <link linkend="tp-group-mixin-add-handle-owners">tp_group_mixin_add_handle_owners</link>    (<link linkend="GObject">GObject</link> *obj,
                                                         <link linkend="GHashTable">GHashTable</link> *local_to_owner_handle);
<link linkend="void">void</link>                <link linkend="tp-group-mixin-get-dbus-property">tp_group_mixin_get_dbus_property</link>    (<link linkend="GObject">GObject</link> *object,
                                                         <link linkend="GQuark">GQuark</link> interface,
                                                         <link linkend="GQuark">GQuark</link> name,
                                                         <link linkend="GValue">GValue</link> *value,
                                                         <link linkend="gpointer">gpointer</link> unused);
<link linkend="void">void</link>                <link linkend="tp-group-mixin-init-dbus-properties">tp_group_mixin_init_dbus_properties</link> (<link linkend="GObjectClass">GObjectClass</link> *cls);
<link linkend="void">void</link>                <link linkend="tp-group-mixin-change-self-handle">tp_group_mixin_change_self_handle</link>   (<link linkend="GObject">GObject</link> *obj,
                                                         <link linkend="TpHandle">TpHandle</link> new_self_handle);
<link linkend="void">void</link>                <link linkend="tp-external-group-mixin-iface-init">tp_external_group_mixin_iface_init</link>  (<link linkend="gpointer">gpointer</link> g_iface,
                                                         <link linkend="gpointer">gpointer</link> iface_data);
<link linkend="void">void</link>                <link linkend="tp-external-group-mixin-init">tp_external_group_mixin_init</link>        (<link linkend="GObject">GObject</link> *obj,
                                                         <link linkend="GObject">GObject</link> *obj_with_mixin);
<link linkend="void">void</link>                <link linkend="tp-external-group-mixin-finalize">tp_external_group_mixin_finalize</link>    (<link linkend="GObject">GObject</link> *obj);
<link linkend="void">void</link>                <link linkend="tp-external-group-mixin-init-dbus-properties">tp_external_group_mixin_init_dbus_properties</link>
                                                        (<link linkend="GObjectClass">GObjectClass</link> *cls);
<link linkend="void">void</link>                <link linkend="tp-external-group-mixin-get-dbus-property">tp_external_group_mixin_get_dbus_property</link>
                                                        (<link linkend="GObject">GObject</link> *object,
                                                         <link linkend="GQuark">GQuark</link> interface,
                                                         <link linkend="GQuark">GQuark</link> name,
                                                         <link linkend="GValue">GValue</link> *value,
                                                         <link linkend="gpointer">gpointer</link> unused);
</synopsis>
</refsynopsisdiv>









<refsect1 id="telepathy-glib-TpGroupMixin.description" role="desc">
<title role="desc.title">Description</title>
<para>
This mixin can be added to a channel GObject class to implement the
groups interface in a general way.
</para>
<para>
To use the group mixin, include a <link linkend="TpGroupMixinClass"><type>TpGroupMixinClass</type></link> somewhere in your
class structure and a <link linkend="TpGroupMixin"><type>TpGroupMixin</type></link> somewhere in your instance structure,
and call <link linkend="tp-group-mixin-class-init"><function>tp_group_mixin_class_init()</function></link> from your class_init function,
<link linkend="tp-group-mixin-init"><function>tp_group_mixin_init()</function></link> from your init function or constructor, and
<link linkend="tp-group-mixin-finalize"><function>tp_group_mixin_finalize()</function></link> from your dispose or finalize function.
</para>
<para>
To use the group mixin as the implementation of
<link linkend="TpSvcChannelInterfaceGroup"><type>TpSvcChannelInterfaceGroup</type></link>, call
<literal>G_IMPLEMENT_INTERFACE (TP_TYPE_SVC_CHANNEL_INTERFACE_GROUP,
tp_group_mixin_iface_init)</literal> in the fourth argument to
<literal>G_DEFINE_TYPE_WITH_CODE</literal>.
</para>
<para>
Since 0.5.13 you can also implement the group interface by forwarding all
group operations to the group mixin of an associated object (mainly useful
for Tubes channels). To do this, call <link linkend="tp-external-group-mixin-init"><function>tp_external_group_mixin_init()</function></link>
in the constructor after the associated object has been set,
<link linkend="tp-external-group-mixin-finalize"><function>tp_external_group_mixin_finalize()</function></link> in the dispose or finalize function, and
<literal>G_IMPLEMENT_INTERFACE (TP_TYPE_SVC_CHANNEL_INTERFACE_GROUP,
tp_external_group_mixin_iface_init)</literal> in the fourth argument to
<literal>G_DEFINE_TYPE_WITH_CODE</literal>.
</para>
<para>
Since 0.7.10 you can also implement the properties of Group channels,
by calling <link linkend="tp-group-mixin-init-dbus-properties"><function>tp_group_mixin_init_dbus_properties()</function></link> or
<link linkend="tp-external-group-mixin-init-dbus-properties"><function>tp_external_group_mixin_init_dbus_properties()</function></link> (as appropriate).</para>
<para>
</para>
</refsect1>

<refsect1 id="telepathy-glib-TpGroupMixin.details" role="details">
<title role="details.title">Details</title>
<refsect2 id="TpGroupMixinAddMemberFunc" role="function">
<title>TpGroupMixinAddMemberFunc ()</title>
<indexterm zone="TpGroupMixinAddMemberFunc"><primary sortas="TpGroupMixinAddMemberFunc">TpGroupMixinAddMemberFunc</primary></indexterm><programlisting><link linkend="gboolean">gboolean</link>            (*TpGroupMixinAddMemberFunc)        (<link linkend="GObject">GObject</link> *obj,
                                                         <link linkend="TpHandle">TpHandle</link> handle,
                                                         const <link linkend="gchar">gchar</link> *message,
                                                         <link linkend="GError">GError</link> **error);</programlisting>
<para>
Signature of the callback used to add a member to the group.
This should perform the necessary operations in the underlying IM protocol
to cause the member to be added.</para>
<para>
</para><variablelist role="params">
<varlistentry><term><parameter>obj</parameter>&#160;:</term>
<listitem><simpara> An object implementing the group interface with this mixin
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>handle</parameter>&#160;:</term>
<listitem><simpara> The handle of the contact to be added
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>message</parameter>&#160;:</term>
<listitem><simpara> A message to be sent if the protocol supports it
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>error</parameter>&#160;:</term>
<listitem><simpara> Used to return a Telepathy D-Bus error if <link linkend="FALSE--CAPS"><literal>FALSE</literal></link> is returned
</simpara></listitem></varlistentry>
<varlistentry><term><emphasis>Returns</emphasis>&#160;:</term><listitem><simpara> <link linkend="TRUE--CAPS"><literal>TRUE</literal></link> on success, <link linkend="FALSE--CAPS"><literal>FALSE</literal></link> with <parameter>error</parameter> set on error
</simpara></listitem></varlistentry>
</variablelist></refsect2>
<refsect2 id="TpGroupMixinRemMemberFunc" role="function">
<title>TpGroupMixinRemMemberFunc ()</title>
<indexterm zone="TpGroupMixinRemMemberFunc"><primary sortas="TpGroupMixinRemMemberFunc">TpGroupMixinRemMemberFunc</primary></indexterm><programlisting><link linkend="gboolean">gboolean</link>            (*TpGroupMixinRemMemberFunc)        (<link linkend="GObject">GObject</link> *obj,
                                                         <link linkend="TpHandle">TpHandle</link> handle,
                                                         const <link linkend="gchar">gchar</link> *message,
                                                         <link linkend="GError">GError</link> **error);</programlisting>
<para>
Signature of the callback used to remove a member from the group.
This should perform the necessary operations in the underlying IM protocol
to cause the member to be removed.</para>
<para>
</para><variablelist role="params">
<varlistentry><term><parameter>obj</parameter>&#160;:</term>
<listitem><simpara> An object implementing the group interface with this mixin
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>handle</parameter>&#160;:</term>
<listitem><simpara> The handle of the contact to be removed
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>message</parameter>&#160;:</term>
<listitem><simpara> A message to be sent if the protocol supports it
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>error</parameter>&#160;:</term>
<listitem><simpara> Used to return a Telepathy D-Bus error if <link linkend="FALSE--CAPS"><literal>FALSE</literal></link> is returned
</simpara></listitem></varlistentry>
<varlistentry><term><emphasis>Returns</emphasis>&#160;:</term><listitem><simpara> <link linkend="TRUE--CAPS"><literal>TRUE</literal></link> on success, <link linkend="FALSE--CAPS"><literal>FALSE</literal></link> with <parameter>error</parameter> set on error
</simpara></listitem></varlistentry>
</variablelist></refsect2>
<refsect2 id="TpGroupMixinRemMemberWithReasonFunc" role="function">
<title>TpGroupMixinRemMemberWithReasonFunc ()</title>
<indexterm zone="TpGroupMixinRemMemberWithReasonFunc"><primary sortas="TpGroupMixinRemMemberWithReasonFunc">TpGroupMixinRemMemberWithReasonFunc</primary></indexterm><programlisting><link linkend="gboolean">gboolean</link>            (*TpGroupMixinRemMemberWithReasonFunc)
                                                        (<link linkend="GObject">GObject</link> *obj,
                                                         <link linkend="TpHandle">TpHandle</link> handle,
                                                         const <link linkend="gchar">gchar</link> *message,
                                                         <link linkend="guint">guint</link> reason,
                                                         <link linkend="GError">GError</link> **error);</programlisting>
<para>
Signature of the callback used to remove a member from the group.
This should perform the necessary operations in the underlying IM protocol
to cause the member to be removed.
</para>
<para>
Set this with <link linkend="tp-group-mixin-class-set-remove-with-reason-func"><function>tp_group_mixin_class_set_remove_with_reason_func()</function></link>, .</para>
<para>
</para><variablelist role="params">
<varlistentry><term><parameter>obj</parameter>&#160;:</term>
<listitem><simpara> An object implementing the group interface with this mixin
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>handle</parameter>&#160;:</term>
<listitem><simpara> The handle of the contact to be removed
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>message</parameter>&#160;:</term>
<listitem><simpara> A message to be sent if the protocol supports it
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>reason</parameter>&#160;:</term>
<listitem><simpara> A <link linkend="TpChannelGroupChangeReason"><type>TpChannelGroupChangeReason</type></link> indicating the reason
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>error</parameter>&#160;:</term>
<listitem><simpara> Used to return a Telepathy D-Bus error if <link linkend="FALSE--CAPS"><literal>FALSE</literal></link> is returned
</simpara></listitem></varlistentry>
<varlistentry><term><emphasis>Returns</emphasis>&#160;:</term><listitem><simpara> <link linkend="TRUE--CAPS"><literal>TRUE</literal></link> on success, <link linkend="FALSE--CAPS"><literal>FALSE</literal></link> with <parameter>error</parameter> set on error
</simpara></listitem></varlistentry>
</variablelist></refsect2>
<refsect2 id="TpGroupMixin" role="struct">
<title>TpGroupMixin</title>
<indexterm zone="TpGroupMixin"><primary sortas="TpGroupMixin">TpGroupMixin</primary></indexterm><programlisting>typedef struct {
  TpHandleRepoIface *handle_repo;
  TpHandle self_handle;

  TpChannelGroupFlags group_flags;

  TpHandleSet *members;
  TpHandleSet *local_pending;
  TpHandleSet *remote_pending;

  TpGroupMixinPrivate *priv;
} TpGroupMixin;
</programlisting>
<para>
Structure representing the group mixin as used in a particular class.
To be placed in the implementation's instance structure.
</para>
<para>
All fields should be considered read-only.</para>
<para>
</para><variablelist role="struct">
<varlistentry>
<term><link linkend="TpHandleRepoIface">TpHandleRepoIface</link>&#160;*<structfield>handle_repo</structfield>;</term>
<listitem><simpara> The connection's contact handle repository
</simpara></listitem>
</varlistentry>
<varlistentry>
<term><link linkend="TpHandle">TpHandle</link>&#160;<structfield>self_handle</structfield>;</term>
<listitem><simpara> The local user's handle within this group, or 0 if none.
 Set using <link linkend="tp-group-mixin-init"><function>tp_group_mixin_init()</function></link> and <link linkend="tp-group-mixin-change-self-handle"><function>tp_group_mixin_change_self_handle()</function></link>.
</simpara></listitem>
</varlistentry>
<varlistentry>
<term><link linkend="TpChannelGroupFlags">TpChannelGroupFlags</link>&#160;<structfield>group_flags</structfield>;</term>
<listitem><simpara> This group's flags. Set using <link linkend="tp-group-mixin-change-flags"><function>tp_group_mixin_change_flags()</function></link>;
 defaults to 0.
</simpara></listitem>
</varlistentry>
<varlistentry>
<term><link linkend="TpHandleSet">TpHandleSet</link>&#160;*<structfield>members</structfield>;</term>
<listitem><simpara> The members of the group. Alter using
 <link linkend="tp-group-mixin-change-members"><function>tp_group_mixin_change_members()</function></link>.
</simpara></listitem>
</varlistentry>
<varlistentry>
<term><link linkend="TpHandleSet">TpHandleSet</link>&#160;*<structfield>local_pending</structfield>;</term>
<listitem><simpara> Members awaiting the local user's approval to join the
 group. Alter using <link linkend="tp-group-mixin-change-members"><function>tp_group_mixin_change_members()</function></link>.
</simpara></listitem>
</varlistentry>
<varlistentry>
<term><link linkend="TpHandleSet">TpHandleSet</link>&#160;*<structfield>remote_pending</structfield>;</term>
<listitem><simpara> Members awaiting remote (e.g. remote user or server)
 approval to join the group. Alter using <link linkend="tp-group-mixin-change-members"><function>tp_group_mixin_change_members()</function></link>.
</simpara></listitem>
</varlistentry>
<varlistentry>
<term><link linkend="TpGroupMixinPrivate">TpGroupMixinPrivate</link>&#160;*<structfield>priv</structfield>;</term>
<listitem><simpara> Pointer to opaque private data
</simpara></listitem>
</varlistentry>
</variablelist></refsect2>
<refsect2 id="TpGroupMixinClass" role="struct">
<title>TpGroupMixinClass</title>
<indexterm zone="TpGroupMixinClass"><primary sortas="TpGroupMixinClass">TpGroupMixinClass</primary></indexterm><programlisting>typedef struct {
  TpGroupMixinAddMemberFunc add_member;
  TpGroupMixinRemMemberFunc remove_member;
  TpGroupMixinClassPrivate *priv;
} TpGroupMixinClass;
</programlisting>
<para>
Structure representing the group mixin as used in a particular class.
To be placed in the implementation's class structure.
</para>
<para>
Initialize this with <link linkend="tp-group-mixin-class-init"><function>tp_group_mixin_class_init()</function></link>.
</para>
<para>
All fields should be considered read-only.</para>
<para>
</para><variablelist role="struct">
<varlistentry>
<term><link linkend="TpGroupMixinAddMemberFunc">TpGroupMixinAddMemberFunc</link>&#160;<structfield>add_member</structfield>;</term>
<listitem><simpara> The add-member function that was passed to
 <link linkend="tp-group-mixin-class-init"><function>tp_group_mixin_class_init()</function></link>
</simpara></listitem>
</varlistentry>
<varlistentry>
<term><link linkend="TpGroupMixinRemMemberFunc">TpGroupMixinRemMemberFunc</link>&#160;<structfield>remove_member</structfield>;</term>
<listitem><simpara> The remove-member function that was passed to
 <link linkend="tp-group-mixin-class-init"><function>tp_group_mixin_class_init()</function></link>
</simpara></listitem>
</varlistentry>
<varlistentry>
<term><link linkend="TpGroupMixinClassPrivate">TpGroupMixinClassPrivate</link>&#160;*<structfield>priv</structfield>;</term>
<listitem><simpara> Pointer to opaque private data
</simpara></listitem>
</varlistentry>
</variablelist></refsect2>
<refsect2 id="tp-group-mixin-class-init" role="function">
<title>tp_group_mixin_class_init ()</title>
<indexterm zone="tp-group-mixin-class-init"><primary sortas="tp_group_mixin_class_init">tp_group_mixin_class_init</primary></indexterm><programlisting><link linkend="void">void</link>                tp_group_mixin_class_init           (<link linkend="GObjectClass">GObjectClass</link> *obj_cls,
                                                         <link linkend="glong">glong</link> offset,
                                                         <link linkend="TpGroupMixinAddMemberFunc">TpGroupMixinAddMemberFunc</link> add_func,
                                                         <link linkend="TpGroupMixinRemMemberFunc">TpGroupMixinRemMemberFunc</link> rem_func);</programlisting>
<para>
Configure the mixin for use with the given class.</para>
<para>
</para><variablelist role="params">
<varlistentry><term><parameter>obj_cls</parameter>&#160;:</term>
<listitem><simpara> The class of an object implementing the group interface using this
 mixin
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>offset</parameter>&#160;:</term>
<listitem><simpara> The offset of the TpGroupMixinClass structure within the class
 structure
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>add_func</parameter>&#160;:</term>
<listitem><simpara> A callback to be used to add contacts to this group
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>rem_func</parameter>&#160;:</term>
<listitem><simpara> A callback to be used to remove contacts from this group.
 This must be <link linkend="NULL--CAPS"><literal>NULL</literal></link> if you will subsequently call
 <link linkend="tp-group-mixin-class-set-remove-with-reason-func"><function>tp_group_mixin_class_set_remove_with_reason_func()</function></link>.
</simpara></listitem></varlistentry>
</variablelist></refsect2>
<refsect2 id="tp-group-mixin-class-allow-self-removal" role="function" condition="since:0.7.27">
<title>tp_group_mixin_class_allow_self_removal ()</title>
<indexterm zone="tp-group-mixin-class-allow-self-removal" role="0.7.27"><primary sortas="tp_group_mixin_class_allow_self_removal">tp_group_mixin_class_allow_self_removal</primary></indexterm><programlisting><link linkend="void">void</link>                tp_group_mixin_class_allow_self_removal
                                                        (<link linkend="GObjectClass">GObjectClass</link> *obj_cls);</programlisting>
<para>
Configure the mixin to allow attempts to remove the SelfHandle from this
Group, even if the group flags would otherwise disallow this. The
channel's <link linkend="TpGroupMixinRemMemberFunc"><type>TpGroupMixinRemMemberFunc</type></link> or
<link linkend="TpGroupMixinRemMemberWithReasonFunc"><type>TpGroupMixinRemMemberWithReasonFunc</type></link> will be called as usual for such
attempts, and may make them fail with <link linkend="TP-ERROR-PERMISSION-DENIED--CAPS"><literal>TP_ERROR_PERMISSION_DENIED</literal></link> if
required.
</para>
<para>
This function should be called from the GObject <parameter>class_init</parameter> callback,
after calling <link linkend="tp-group-mixin-class-init"><function>tp_group_mixin_class_init()</function></link>.
</para>
<para>
(Recent telepathy-spec changes make it valid to try to remove the
self-handle at all times, regardless of group flags. However, if this was
implemented automatically in TpGroupMixin, this would risk crashing
connection manager implementations that assume that TpGroupMixin will
enforce the group flags strictly. As a result, connection managers should
call this function to indicate to the TpGroupMixin that it may call their
removal callback with the self-handle regardless of flag settings.)</para>
<para>
</para><variablelist role="params">
<varlistentry><term><parameter>obj_cls</parameter>&#160;:</term>
<listitem><simpara> The class of an object implementing the group interface using this
 mixin
</simpara></listitem></varlistentry>
</variablelist><para role="since">Since 0.7.27</para></refsect2>
<refsect2 id="tp-group-mixin-class-set-remove-with-reason-func" role="function" condition="since:0.5.13">
<title>tp_group_mixin_class_set_remove_with_reason_func ()</title>
<indexterm zone="tp-group-mixin-class-set-remove-with-reason-func" role="0.5.13"><primary sortas="tp_group_mixin_class_set_remove_with_reason_func">tp_group_mixin_class_set_remove_with_reason_func</primary></indexterm><programlisting><link linkend="void">void</link>                tp_group_mixin_class_set_remove_with_reason_func
                                                        (<link linkend="GObjectClass">GObjectClass</link> *cls,
                                                         <link linkend="TpGroupMixinRemMemberWithReasonFunc">TpGroupMixinRemMemberWithReasonFunc</link> func);</programlisting>
<para>
Set a callback to be used to implement <link linkend="RemoveMembers"><function>RemoveMembers()</function></link> and
<link linkend="RemoveMembersWithReason"><function>RemoveMembersWithReason()</function></link>. If this function is called during class
initialization, the given callback will be used instead of the remove
callback passed to <link linkend="tp-group-mixin-class-init"><function>tp_group_mixin_class_init()</function></link> (which must be <link linkend="NULL--CAPS"><literal>NULL</literal></link>
in this case).</para>
<para>
</para><variablelist role="params">
<varlistentry><term><parameter>cls</parameter>&#160;:</term>
<listitem><simpara> The class of an object implementing the group interface using this
 mixin
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>func</parameter>&#160;:</term>
<listitem><simpara> A callback to be used to remove contacts from this group with a
 specified reason.
</simpara></listitem></varlistentry>
</variablelist><para role="since">Since 0.5.13</para></refsect2>
<refsect2 id="tp-group-mixin-init" role="function">
<title>tp_group_mixin_init ()</title>
<indexterm zone="tp-group-mixin-init"><primary sortas="tp_group_mixin_init">tp_group_mixin_init</primary></indexterm><programlisting><link linkend="void">void</link>                tp_group_mixin_init                 (<link linkend="GObject">GObject</link> *obj,
                                                         <link linkend="glong">glong</link> offset,
                                                         <link linkend="TpHandleRepoIface">TpHandleRepoIface</link> *handle_repo,
                                                         <link linkend="TpHandle">TpHandle</link> self_handle);</programlisting>
<para>
Initialize the mixin.</para>
<para>
</para><variablelist role="params">
<varlistentry><term><parameter>obj</parameter>&#160;:</term>
<listitem><simpara> An object implementing the group interface using this mixin
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>offset</parameter>&#160;:</term>
<listitem><simpara> The offset of the TpGroupMixin structure within the instance
 structure
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>handle_repo</parameter>&#160;:</term>
<listitem><simpara> The connection's handle repository for contacts
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>self_handle</parameter>&#160;:</term>
<listitem><simpara> The handle of the local user in this group, if any
</simpara></listitem></varlistentry>
</variablelist></refsect2>
<refsect2 id="tp-group-mixin-finalize" role="function">
<title>tp_group_mixin_finalize ()</title>
<indexterm zone="tp-group-mixin-finalize"><primary sortas="tp_group_mixin_finalize">tp_group_mixin_finalize</primary></indexterm><programlisting><link linkend="void">void</link>                tp_group_mixin_finalize             (<link linkend="GObject">GObject</link> *obj);</programlisting>
<para>
Unreference handles and free resources used by this mixin.</para>
<para>
</para><variablelist role="params">
<varlistentry><term><parameter>obj</parameter>&#160;:</term>
<listitem><simpara> An object implementing the group interface using this mixin
</simpara></listitem></varlistentry>
</variablelist></refsect2>
<refsect2 id="tp-group-mixin-get-self-handle" role="function">
<title>tp_group_mixin_get_self_handle ()</title>
<indexterm zone="tp-group-mixin-get-self-handle"><primary sortas="tp_group_mixin_get_self_handle">tp_group_mixin_get_self_handle</primary></indexterm><programlisting><link linkend="gboolean">gboolean</link>            tp_group_mixin_get_self_handle      (<link linkend="GObject">GObject</link> *obj,
                                                         <link linkend="guint">guint</link> *ret,
                                                         <link linkend="GError">GError</link> **error);</programlisting>
<para>
Set the guint pointed to by ret to the local user's handle in this
group, or to 0 if the local user is not present in this group.</para>
<para>
</para><variablelist role="params">
<varlistentry><term><parameter>obj</parameter>&#160;:</term>
<listitem><simpara> An object implementing the group mixin using this interface
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>ret</parameter>&#160;:</term>
<listitem><simpara> Used to return the local user's handle in this group
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>error</parameter>&#160;:</term>
<listitem><simpara> Unused
</simpara></listitem></varlistentry>
<varlistentry><term><emphasis>Returns</emphasis>&#160;:</term><listitem><simpara> <link linkend="TRUE--CAPS"><literal>TRUE</literal></link>.
</simpara></listitem></varlistentry>
</variablelist></refsect2>
<refsect2 id="tp-group-mixin-get-group-flags" role="function">
<title>tp_group_mixin_get_group_flags ()</title>
<indexterm zone="tp-group-mixin-get-group-flags"><primary sortas="tp_group_mixin_get_group_flags">tp_group_mixin_get_group_flags</primary></indexterm><programlisting><link linkend="gboolean">gboolean</link>            tp_group_mixin_get_group_flags      (<link linkend="GObject">GObject</link> *obj,
                                                         <link linkend="guint">guint</link> *ret,
                                                         <link linkend="GError">GError</link> **error);</programlisting>
<para>
Set the guint pointed to by ret to this group's flags, to be
interpreted according to TpChannelGroupFlags.</para>
<para>
</para><variablelist role="params">
<varlistentry><term><parameter>obj</parameter>&#160;:</term>
<listitem><simpara> An object implementing the group mixin using this interface
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>ret</parameter>&#160;:</term>
<listitem><simpara> Used to return the flags
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>error</parameter>&#160;:</term>
<listitem><simpara> Unused
</simpara></listitem></varlistentry>
<varlistentry><term><emphasis>Returns</emphasis>&#160;:</term><listitem><simpara> <link linkend="TRUE--CAPS"><literal>TRUE</literal></link>
</simpara></listitem></varlistentry>
</variablelist></refsect2>
<refsect2 id="tp-group-mixin-add-members" role="function">
<title>tp_group_mixin_add_members ()</title>
<indexterm zone="tp-group-mixin-add-members"><primary sortas="tp_group_mixin_add_members">tp_group_mixin_add_members</primary></indexterm><programlisting><link linkend="gboolean">gboolean</link>            tp_group_mixin_add_members          (<link linkend="GObject">GObject</link> *obj,
                                                         const <link linkend="GArray">GArray</link> *contacts,
                                                         const <link linkend="gchar">gchar</link> *message,
                                                         <link linkend="GError">GError</link> **error);</programlisting>
<para>
Request that the given contacts be added to the group as if in response
to user action. If the group's flags prohibit this, raise
PermissionDenied. If any of the handles is invalid, raise InvalidHandle.
Otherwise attempt to add the contacts by calling the callbacks provided
by the channel implementation.</para>
<para>
</para><variablelist role="params">
<varlistentry><term><parameter>obj</parameter>&#160;:</term>
<listitem><simpara> An object implementing the group interface using this mixin
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>contacts</parameter>&#160;:</term>
<listitem><simpara> A GArray of guint representing contacts
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>message</parameter>&#160;:</term>
<listitem><simpara> A message associated with the addition request, if supported
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>error</parameter>&#160;:</term>
<listitem><simpara> Used to return an error if <link linkend="FALSE--CAPS"><literal>FALSE</literal></link> is returned
</simpara></listitem></varlistentry>
<varlistentry><term><emphasis>Returns</emphasis>&#160;:</term><listitem><simpara> <link linkend="TRUE--CAPS"><literal>TRUE</literal></link> on success
</simpara></listitem></varlistentry>
</variablelist></refsect2>
<refsect2 id="tp-group-mixin-remove-members" role="function">
<title>tp_group_mixin_remove_members ()</title>
<indexterm zone="tp-group-mixin-remove-members"><primary sortas="tp_group_mixin_remove_members">tp_group_mixin_remove_members</primary></indexterm><programlisting><link linkend="gboolean">gboolean</link>            tp_group_mixin_remove_members       (<link linkend="GObject">GObject</link> *obj,
                                                         const <link linkend="GArray">GArray</link> *contacts,
                                                         const <link linkend="gchar">gchar</link> *message,
                                                         <link linkend="GError">GError</link> **error);</programlisting>
<para>
Request that the given contacts be removed from the group as if in response
to user action. If the group's flags prohibit this, raise
PermissionDenied. If any of the handles is invalid, raise InvalidHandle.
If any of the handles is absent from the group, raise NotAvailable.
Otherwise attempt to remove the contacts by calling the callbacks provided
by the channel implementation.</para>
<para>
</para><variablelist role="params">
<varlistentry><term><parameter>obj</parameter>&#160;:</term>
<listitem><simpara> An object implementing the group interface using this mixin
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>contacts</parameter>&#160;:</term>
<listitem><simpara> A GArray of guint representing contacts
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>message</parameter>&#160;:</term>
<listitem><simpara> A message to be sent to those contacts, if supported
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>error</parameter>&#160;:</term>
<listitem><simpara> Used to return an error if <link linkend="FALSE--CAPS"><literal>FALSE</literal></link> is returned
</simpara></listitem></varlistentry>
<varlistentry><term><emphasis>Returns</emphasis>&#160;:</term><listitem><simpara> <link linkend="TRUE--CAPS"><literal>TRUE</literal></link> on success
</simpara></listitem></varlistentry>
</variablelist></refsect2>
<refsect2 id="tp-group-mixin-remove-members-with-reason" role="function">
<title>tp_group_mixin_remove_members_with_reason ()</title>
<indexterm zone="tp-group-mixin-remove-members-with-reason"><primary sortas="tp_group_mixin_remove_members_with_reason">tp_group_mixin_remove_members_with_reason</primary></indexterm><programlisting><link linkend="gboolean">gboolean</link>            tp_group_mixin_remove_members_with_reason
                                                        (<link linkend="GObject">GObject</link> *obj,
                                                         const <link linkend="GArray">GArray</link> *contacts,
                                                         const <link linkend="gchar">gchar</link> *message,
                                                         <link linkend="guint">guint</link> reason,
                                                         <link linkend="GError">GError</link> **error);</programlisting>
<para>
Request that the given contacts be removed from the group as if in response
to user action. If the group's flags prohibit this, raise
PermissionDenied. If any of the handles is invalid, raise InvalidHandle.
If any of the handles is absent from the group, raise NotAvailable.
Otherwise attempt to remove the contacts by calling the callbacks provided
by the channel implementation.</para>
<para>
</para><variablelist role="params">
<varlistentry><term><parameter>obj</parameter>&#160;:</term>
<listitem><simpara> An object implementing the group interface using this mixin
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>contacts</parameter>&#160;:</term>
<listitem><simpara> A GArray of guint representing contacts
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>message</parameter>&#160;:</term>
<listitem><simpara> A message to be sent to those contacts, if supported
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>reason</parameter>&#160;:</term>
<listitem><simpara> A <link linkend="TpChannelGroupChangeReason"><type>TpChannelGroupChangeReason</type></link>
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>error</parameter>&#160;:</term>
<listitem><simpara> Used to return an error if <link linkend="FALSE--CAPS"><literal>FALSE</literal></link> is returned
</simpara></listitem></varlistentry>
<varlistentry><term><emphasis>Returns</emphasis>&#160;:</term><listitem><simpara> <link linkend="TRUE--CAPS"><literal>TRUE</literal></link> on success
</simpara></listitem></varlistentry>
</variablelist></refsect2>
<refsect2 id="tp-group-mixin-get-members" role="function">
<title>tp_group_mixin_get_members ()</title>
<indexterm zone="tp-group-mixin-get-members"><primary sortas="tp_group_mixin_get_members">tp_group_mixin_get_members</primary></indexterm><programlisting><link linkend="gboolean">gboolean</link>            tp_group_mixin_get_members          (<link linkend="GObject">GObject</link> *obj,
                                                         <link linkend="GArray">GArray</link> **ret,
                                                         <link linkend="GError">GError</link> **error);</programlisting>
<para>
Get the group's current members</para>
<para>
</para><variablelist role="params">
<varlistentry><term><parameter>obj</parameter>&#160;:</term>
<listitem><simpara> An object implementing the group interface using this mixin
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>ret</parameter>&#160;:</term>
<listitem><simpara> Used to return a newly-allocated GArray of guint contact handles
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>error</parameter>&#160;:</term>
<listitem><simpara> Unused
</simpara></listitem></varlistentry>
<varlistentry><term><emphasis>Returns</emphasis>&#160;:</term><listitem><simpara> <link linkend="TRUE--CAPS"><literal>TRUE</literal></link>
</simpara></listitem></varlistentry>
</variablelist></refsect2>
<refsect2 id="tp-group-mixin-get-local-pending-members" role="function">
<title>tp_group_mixin_get_local_pending_members ()</title>
<indexterm zone="tp-group-mixin-get-local-pending-members"><primary sortas="tp_group_mixin_get_local_pending_members">tp_group_mixin_get_local_pending_members</primary></indexterm><programlisting><link linkend="gboolean">gboolean</link>            tp_group_mixin_get_local_pending_members
                                                        (<link linkend="GObject">GObject</link> *obj,
                                                         <link linkend="GArray">GArray</link> **ret,
                                                         <link linkend="GError">GError</link> **error);</programlisting>
<para>
Get the group's local-pending members.</para>
<para>
</para><variablelist role="params">
<varlistentry><term><parameter>obj</parameter>&#160;:</term>
<listitem><simpara> An object implementing the group interface using this mixin
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>ret</parameter>&#160;:</term>
<listitem><simpara> Used to return a newly-allocated GArray of guint contact handles
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>error</parameter>&#160;:</term>
<listitem><simpara> Unused
</simpara></listitem></varlistentry>
<varlistentry><term><emphasis>Returns</emphasis>&#160;:</term><listitem><simpara> <link linkend="TRUE--CAPS"><literal>TRUE</literal></link>
</simpara></listitem></varlistentry>
</variablelist></refsect2>
<refsect2 id="tp-group-mixin-get-local-pending-members-with-info" role="function">
<title>tp_group_mixin_get_local_pending_members_with_info ()</title>
<indexterm zone="tp-group-mixin-get-local-pending-members-with-info"><primary sortas="tp_group_mixin_get_local_pending_members_with_info">tp_group_mixin_get_local_pending_members_with_info</primary></indexterm><programlisting><link linkend="gboolean">gboolean</link>            tp_group_mixin_get_local_pending_members_with_info
                                                        (<link linkend="GObject">GObject</link> *obj,
                                                         <link linkend="GPtrArray">GPtrArray</link> **ret,
                                                         <link linkend="GError">GError</link> **error);</programlisting>
<para>
Get the group's local-pending members and information about their
requests to join the channel.</para>
<para>
</para><variablelist role="params">
<varlistentry><term><parameter>obj</parameter>&#160;:</term>
<listitem><simpara> An object implementing the group interface using this mixin
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>ret</parameter>&#160;:</term>
<listitem><simpara> Used to return a newly-allocated GPtrArray of D-Bus structures each
containing the handle of a local-pending contact, the handle of a contact
 responsible for adding them to the group (or 0), the reason code
 and a related message (e.g. their request to join the group)
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>error</parameter>&#160;:</term>
<listitem><simpara> Unused
</simpara></listitem></varlistentry>
<varlistentry><term><emphasis>Returns</emphasis>&#160;:</term><listitem><simpara> <link linkend="TRUE--CAPS"><literal>TRUE</literal></link>
</simpara></listitem></varlistentry>
</variablelist></refsect2>
<refsect2 id="tp-group-mixin-get-remote-pending-members" role="function">
<title>tp_group_mixin_get_remote_pending_members ()</title>
<indexterm zone="tp-group-mixin-get-remote-pending-members"><primary sortas="tp_group_mixin_get_remote_pending_members">tp_group_mixin_get_remote_pending_members</primary></indexterm><programlisting><link linkend="gboolean">gboolean</link>            tp_group_mixin_get_remote_pending_members
                                                        (<link linkend="GObject">GObject</link> *obj,
                                                         <link linkend="GArray">GArray</link> **ret,
                                                         <link linkend="GError">GError</link> **error);</programlisting>
<para>
Get the group's remote-pending members.</para>
<para>
</para><variablelist role="params">
<varlistentry><term><parameter>obj</parameter>&#160;:</term>
<listitem><simpara> An object implementing the group interface using this mixin
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>ret</parameter>&#160;:</term>
<listitem><simpara> Used to return a newly-allocated GArray of guint representing the
handles of the group's remote pending members
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>error</parameter>&#160;:</term>
<listitem><simpara> Unused
</simpara></listitem></varlistentry>
<varlistentry><term><emphasis>Returns</emphasis>&#160;:</term><listitem><simpara> <link linkend="TRUE--CAPS"><literal>TRUE</literal></link>
</simpara></listitem></varlistentry>
</variablelist></refsect2>
<refsect2 id="tp-group-mixin-get-all-members" role="function">
<title>tp_group_mixin_get_all_members ()</title>
<indexterm zone="tp-group-mixin-get-all-members"><primary sortas="tp_group_mixin_get_all_members">tp_group_mixin_get_all_members</primary></indexterm><programlisting><link linkend="gboolean">gboolean</link>            tp_group_mixin_get_all_members      (<link linkend="GObject">GObject</link> *obj,
                                                         <link linkend="GArray">GArray</link> **members,
                                                         <link linkend="GArray">GArray</link> **local_pending,
                                                         <link linkend="GArray">GArray</link> **remote_pending,
                                                         <link linkend="GError">GError</link> **error);</programlisting>
<para>
Get the group's current and pending members.</para>
<para>
</para><variablelist role="params">
<varlistentry><term><parameter>obj</parameter>&#160;:</term>
<listitem><simpara> An object implementing the group interface using this mixin
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>members</parameter>&#160;:</term>
<listitem><simpara> Used to return a newly-allocated GArray of guint representing
the handles of the group's members
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>local_pending</parameter>&#160;:</term>
<listitem><simpara> Used to return a newly-allocated GArray of guint
representing the handles of the group's local pending members
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>remote_pending</parameter>&#160;:</term>
<listitem><simpara> Used to return a newly-allocated GArray of guint
representing the handles of the group's remote pending members
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>error</parameter>&#160;:</term>
<listitem><simpara> Unused
</simpara></listitem></varlistentry>
<varlistentry><term><emphasis>Returns</emphasis>&#160;:</term><listitem><simpara> <link linkend="TRUE--CAPS"><literal>TRUE</literal></link>
</simpara></listitem></varlistentry>
</variablelist></refsect2>
<refsect2 id="tp-group-mixin-get-handle-owners" role="function">
<title>tp_group_mixin_get_handle_owners ()</title>
<indexterm zone="tp-group-mixin-get-handle-owners"><primary sortas="tp_group_mixin_get_handle_owners">tp_group_mixin_get_handle_owners</primary></indexterm><programlisting><link linkend="gboolean">gboolean</link>            tp_group_mixin_get_handle_owners    (<link linkend="GObject">GObject</link> *obj,
                                                         const <link linkend="GArray">GArray</link> *handles,
                                                         <link linkend="GArray">GArray</link> **ret,
                                                         <link linkend="GError">GError</link> **error);</programlisting>
<para>
If the mixin has the flag <link linkend="TP-CHANNEL-GROUP-FLAG-CHANNEL-SPECIFIC-HANDLES--CAPS"><literal>TP_CHANNEL_GROUP_FLAG_CHANNEL_SPECIFIC_HANDLES</literal></link>,
return the global owners of the given local handles, or 0 where
unavailable.</para>
<para>
</para><variablelist role="params">
<varlistentry><term><parameter>obj</parameter>&#160;:</term>
<listitem><simpara> An object implementing the group interface with this mixin
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>handles</parameter>&#160;:</term>
<listitem><simpara> An array of guint representing locally valid handles
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>ret</parameter>&#160;:</term>
<listitem><simpara> Used to return an array of guint representing globally valid
 handles, or 0 where unavailable, if <link linkend="TRUE--CAPS"><literal>TRUE</literal></link> is returned
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>error</parameter>&#160;:</term>
<listitem><simpara> Used to return an error if <link linkend="FALSE--CAPS"><literal>FALSE</literal></link> is returned
</simpara></listitem></varlistentry>
<varlistentry><term><emphasis>Returns</emphasis>&#160;:</term><listitem><simpara> <link linkend="TRUE--CAPS"><literal>TRUE</literal></link> (setting <parameter>ret</parameter>) on success, <link linkend="FALSE--CAPS"><literal>FALSE</literal></link> (setting <parameter>error</parameter>) on
failure
</simpara></listitem></varlistentry>
</variablelist></refsect2>
<refsect2 id="tp-group-mixin-change-flags" role="function">
<title>tp_group_mixin_change_flags ()</title>
<indexterm zone="tp-group-mixin-change-flags"><primary sortas="tp_group_mixin_change_flags">tp_group_mixin_change_flags</primary></indexterm><programlisting><link linkend="void">void</link>                tp_group_mixin_change_flags         (<link linkend="GObject">GObject</link> *obj,
                                                         <link linkend="TpChannelGroupFlags">TpChannelGroupFlags</link> add,
                                                         <link linkend="TpChannelGroupFlags">TpChannelGroupFlags</link> del);</programlisting>
<para>
Request a change to be made to the flags. If any flags were actually
set or cleared, emits the GroupFlagsChanged signal with the changes.
</para>
<para>
It is an error to set any of the same bits in both <parameter>add</parameter> and <parameter>del</parameter>.
</para>
<para>
Changed in 0.7.7: the signal is not emitted if adding <parameter>add</parameter> and
 removing <parameter>del</parameter> had no effect on the existing group flags.</para>
<para>
</para><variablelist role="params">
<varlistentry><term><parameter>obj</parameter>&#160;:</term>
<listitem><simpara> An object implementing the groups interface using this mixin
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>add</parameter>&#160;:</term>
<listitem><simpara> Flags to be added
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>del</parameter>&#160;:</term>
<listitem><simpara> Flags to be removed
</simpara></listitem></varlistentry>
</variablelist></refsect2>
<refsect2 id="tp-group-mixin-change-members" role="function">
<title>tp_group_mixin_change_members ()</title>
<indexterm zone="tp-group-mixin-change-members"><primary sortas="tp_group_mixin_change_members">tp_group_mixin_change_members</primary></indexterm><programlisting><link linkend="gboolean">gboolean</link>            tp_group_mixin_change_members       (<link linkend="GObject">GObject</link> *obj,
                                                         const <link linkend="gchar">gchar</link> *message,
                                                         <link linkend="TpIntSet">TpIntSet</link> *add,
                                                         <link linkend="TpIntSet">TpIntSet</link> *del,
                                                         <link linkend="TpIntSet">TpIntSet</link> *add_local_pending,
                                                         <link linkend="TpIntSet">TpIntSet</link> *add_remote_pending,
                                                         <link linkend="TpHandle">TpHandle</link> actor,
                                                         <link linkend="TpChannelGroupChangeReason">TpChannelGroupChangeReason</link> reason);</programlisting>
<para>
Change the sets of members as given by the arguments, and emit the
MembersChanged and MembersChangedDetailed signals if the changes were not a
no-op.
</para>
<para>
This function must be called in response to events on the underlying
IM protocol, and must not be called in direct response to user input;
it does not respect the permissions flags, but changes the group directly.
</para>
<para>
If any two of add, del, add_local_pending and add_remote_pending have
a non-empty intersection, the result is undefined. Don't do that.
</para>
<para>
Each of the TpIntSet arguments may be <link linkend="NULL--CAPS"><literal>NULL</literal></link>, which is treated as
equivalent to an empty set.</para>
<para>
</para><variablelist role="params">
<varlistentry><term><parameter>obj</parameter>&#160;:</term>
<listitem><simpara> An object implementing the group interface using this mixin
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>message</parameter>&#160;:</term>
<listitem><simpara> A message to be sent to the affected contacts if possible;
 <link linkend="NULL--CAPS"><literal>NULL</literal></link> is allowed, and is mapped to an empty string
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>add</parameter>&#160;:</term>
<listitem><simpara> A set of contact handles to be added to the members (if not
 already present) and removed from local pending and remote pending
 (if present)
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>del</parameter>&#160;:</term>
<listitem><simpara> A set of contact handles to be removed from members,
 local pending or remote pending, wherever they are present
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>add_local_pending</parameter>&#160;:</term>
<listitem><simpara> A set of contact handles to be added to local pending,
 and removed from members and remote pending
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>add_remote_pending</parameter>&#160;:</term>
<listitem><simpara> A set of contact handles to be added to remote pending,
 and removed from members and local pending
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>actor</parameter>&#160;:</term>
<listitem><simpara> The handle of the contact responsible for this change
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>reason</parameter>&#160;:</term>
<listitem><simpara> The reason for this change
</simpara></listitem></varlistentry>
<varlistentry><term><emphasis>Returns</emphasis>&#160;:</term><listitem><simpara> <link linkend="TRUE--CAPS"><literal>TRUE</literal></link> if the group was changed and the MembersChanged(Detailed)
 signals were emitted; <link linkend="FALSE--CAPS"><literal>FALSE</literal></link> if nothing actually changed and the signals
 were suppressed.
</simpara></listitem></varlistentry>
</variablelist></refsect2>
<refsect2 id="tp-group-mixin-change-members-detailed" role="function">
<title>tp_group_mixin_change_members_detailed ()</title>
<indexterm zone="tp-group-mixin-change-members-detailed"><primary sortas="tp_group_mixin_change_members_detailed">tp_group_mixin_change_members_detailed</primary></indexterm><programlisting><link linkend="gboolean">gboolean</link>            tp_group_mixin_change_members_detailed
                                                        (<link linkend="GObject">GObject</link> *obj,
                                                         <link linkend="TpIntSet">TpIntSet</link> *add,
                                                         <link linkend="TpIntSet">TpIntSet</link> *del,
                                                         <link linkend="TpIntSet">TpIntSet</link> *add_local_pending,
                                                         <link linkend="TpIntSet">TpIntSet</link> *add_remote_pending,
                                                         const <link linkend="GHashTable">GHashTable</link> *details);</programlisting>
<para>
Change the sets of members as given by the arguments, and emit the
MembersChanged and MembersChangedDetailed signals if the changes were not a
no-op.
</para>
<para>
This function must be called in response to events on the underlying
IM protocol, and must not be called in direct response to user input;
it does not respect the permissions flags, but changes the group directly.
</para>
<para>
If any two of add, del, add_local_pending and add_remote_pending have
a non-empty intersection, the result is undefined. Don't do that.
</para>
<para>
Each of the TpIntSet arguments may be <link linkend="NULL--CAPS"><literal>NULL</literal></link>, which is treated as
equivalent to an empty set.
</para>
<para>
details may contain, among other entries, the well-known
keys (and corresponding type, wrapped in a GValue) defined by the
Group.MembersChangedDetailed signal's specification; these include "actor"
(a handle as G_TYPE_UINT), "change-reason" (an element of
<link linkend="TpChannelGroupChangeReason"><type>TpChannelGroupChangeReason</type></link> as G_TYPE_UINT), "message" (G_TYPE_STRING),
"error" (G_TYPE_STRING), "debug-message" (G_TYPE_STRING).
</para>
<para>
If all of the information in details could be passed to
<link linkend="tp-group-mixin-change-members"><function>tp_group_mixin_change_members()</function></link> then calling this function instead provides
no benefit. Calling this function without setting
<link linkend="TP-CHANNEL-GROUP-FLAG-MEMBERS-CHANGED-DETAILED--CAPS"><type>TP_CHANNEL_GROUP_FLAG_MEMBERS_CHANGED_DETAILED</type></link> with
<link linkend="tp-group-mixin-change-members"><function>tp_group_mixin_change_members()</function></link> first is not very useful, as clients will
not know to listen for MembersChangedDetailed and thus will miss the
details.</para>
<para>
</para><variablelist role="params">
<varlistentry><term><parameter>obj</parameter>&#160;:</term>
<listitem><simpara> An object implementing the group interface using this mixin
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>add</parameter>&#160;:</term>
<listitem><simpara> A set of contact handles to be added to the members (if not
 already present) and removed from local pending and remote pending
 (if present)
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>del</parameter>&#160;:</term>
<listitem><simpara> A set of contact handles to be removed from members,
 local pending or remote pending, wherever they are present
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>add_local_pending</parameter>&#160;:</term>
<listitem><simpara> A set of contact handles to be added to local pending,
 and removed from members and remote pending
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>add_remote_pending</parameter>&#160;:</term>
<listitem><simpara> A set of contact handles to be added to remote pending,
 and removed from members and local pending
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>details</parameter>&#160;:</term>
<listitem><simpara> a map from strings to GValues detailing the change
</simpara></listitem></varlistentry>
<varlistentry><term><emphasis>Returns</emphasis>&#160;:</term><listitem><simpara> <link linkend="TRUE--CAPS"><literal>TRUE</literal></link> if the group was changed and the MembersChanged(Detailed)
 signals were emitted; <link linkend="FALSE--CAPS"><literal>FALSE</literal></link> if nothing actually changed and the signals
 were suppressed.

<parameter>since</parameter> 0.7.21
</simpara></listitem></varlistentry>
</variablelist></refsect2>
<refsect2 id="tp-group-mixin-add-handle-owner" role="function">
<title>tp_group_mixin_add_handle_owner ()</title>
<indexterm zone="tp-group-mixin-add-handle-owner"><primary sortas="tp_group_mixin_add_handle_owner">tp_group_mixin_add_handle_owner</primary></indexterm><programlisting><link linkend="void">void</link>                tp_group_mixin_add_handle_owner     (<link linkend="GObject">GObject</link> *obj,
                                                         <link linkend="TpHandle">TpHandle</link> local_handle,
                                                         <link linkend="TpHandle">TpHandle</link> owner_handle);</programlisting>
<para>
Note that the given local handle is an alias within this group
for the given globally-valid handle. It will be returned from subsequent
GetHandleOwner queries where appropriate.
</para>
<para>
Changed in 0.7.10: The <parameter>owner_handle</parameter> may be 0. To comply with telepathy-spec
 0.17.6, before adding any channel-specific handle to the members,
 local-pending members or remote-pending members, you must call either
 this function or <link linkend="tp-group-mixin-add-handle-owners"><function>tp_group_mixin_add_handle_owners()</function></link>.</para>
<para>
</para><variablelist role="params">
<varlistentry><term><parameter>obj</parameter>&#160;:</term>
<listitem><simpara> A GObject implementing the group interface with this mixin
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>local_handle</parameter>&#160;:</term>
<listitem><simpara> A contact handle valid within this group (may not be 0)
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>owner_handle</parameter>&#160;:</term>
<listitem><simpara> A contact handle valid globally, or 0 if the owner of the
 <parameter>local_handle</parameter> is unknown
</simpara></listitem></varlistentry>
</variablelist></refsect2>
<refsect2 id="tp-group-mixin-iface-init" role="function">
<title>tp_group_mixin_iface_init ()</title>
<indexterm zone="tp-group-mixin-iface-init"><primary sortas="tp_group_mixin_iface_init">tp_group_mixin_iface_init</primary></indexterm><programlisting><link linkend="void">void</link>                tp_group_mixin_iface_init           (<link linkend="gpointer">gpointer</link> g_iface,
                                                         <link linkend="gpointer">gpointer</link> iface_data);</programlisting>
<para>
Fill in the vtable entries needed to implement the group interface using
this mixin. This function should usually be called via
G_IMPLEMENT_INTERFACE.</para>
<para>
</para><variablelist role="params">
<varlistentry><term><parameter>g_iface</parameter>&#160;:</term>
<listitem><simpara> A <link linkend="TpSvcChannelInterfaceGroupClass"><type>TpSvcChannelInterfaceGroupClass</type></link>
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>iface_data</parameter>&#160;:</term>
<listitem><simpara> Unused
</simpara></listitem></varlistentry>
</variablelist></refsect2>
<refsect2 id="tp-group-mixin-add-handle-owners" role="function">
<title>tp_group_mixin_add_handle_owners ()</title>
<indexterm zone="tp-group-mixin-add-handle-owners"><primary sortas="tp_group_mixin_add_handle_owners">tp_group_mixin_add_handle_owners</primary></indexterm><programlisting><link linkend="void">void</link>                tp_group_mixin_add_handle_owners    (<link linkend="GObject">GObject</link> *obj,
                                                         <link linkend="GHashTable">GHashTable</link> *local_to_owner_handle);</programlisting>
<para>
Note that the given local handles are aliases within this group
for the given globally-valid handles.
</para>
<para>
To comply with telepathy-spec 0.17.6, before adding any channel-specific
handle to the members, local-pending members or remote-pending members, you
must call either this function or <link linkend="tp-group-mixin-add-handle-owner"><function>tp_group_mixin_add_handle_owner()</function></link>.
</para>
<para>
<parameter>since</parameter> 0.7.10</para>
<para>
</para><variablelist role="params">
<varlistentry><term><parameter>obj</parameter>&#160;:</term>
<listitem><simpara> A GObject implementing the group interface with this mixin
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>local_to_owner_handle</parameter>&#160;:</term>
<listitem><simpara> A map from contact handles valid within this group
 (which may not be 0) to either contact handles valid globally, or 0 if the
 owner of the corresponding key is unknown; all handles are stored using
 GUINT_TO_POINTER
</simpara></listitem></varlistentry>
</variablelist></refsect2>
<refsect2 id="tp-group-mixin-get-dbus-property" role="function" condition="since:0.7.10">
<title>tp_group_mixin_get_dbus_property ()</title>
<indexterm zone="tp-group-mixin-get-dbus-property" role="0.7.10"><primary sortas="tp_group_mixin_get_dbus_property">tp_group_mixin_get_dbus_property</primary></indexterm><programlisting><link linkend="void">void</link>                tp_group_mixin_get_dbus_property    (<link linkend="GObject">GObject</link> *object,
                                                         <link linkend="GQuark">GQuark</link> interface,
                                                         <link linkend="GQuark">GQuark</link> name,
                                                         <link linkend="GValue">GValue</link> *value,
                                                         <link linkend="gpointer">gpointer</link> unused);</programlisting>
<para>
An implementation of <link linkend="TpDBusPropertiesMixinGetter"><type>TpDBusPropertiesMixinGetter</type></link> which assumes that the
<parameter>object</parameter> has the group mixin. It can only be used for the Group interface.</para>
<para>
</para><variablelist role="params">
<varlistentry><term><parameter>object</parameter>&#160;:</term>
<listitem><simpara> An object with this mixin
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>interface</parameter>&#160;:</term>
<listitem><simpara> Must be <link linkend="TP-IFACE-QUARK-CHANNEL-INTERFACE-GROUP--CAPS"><literal>TP_IFACE_QUARK_CHANNEL_INTERFACE_GROUP</literal></link>
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>name</parameter>&#160;:</term>
<listitem><simpara> A quark representing the D-Bus property name, either
 "GroupFlags", "HandleOwners", "LocalPendingMembers", "Members",
 "RemotePendingMembers" or "SelfHandle"
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>value</parameter>&#160;:</term>
<listitem><simpara> A GValue pre-initialized to the right type, into which to put the
 value
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>unused</parameter>&#160;:</term>
<listitem><simpara> Ignored
</simpara></listitem></varlistentry>
</variablelist><para role="since">Since 0.7.10</para></refsect2>
<refsect2 id="tp-group-mixin-init-dbus-properties" role="function" condition="since:0.7.10">
<title>tp_group_mixin_init_dbus_properties ()</title>
<indexterm zone="tp-group-mixin-init-dbus-properties" role="0.7.10"><primary sortas="tp_group_mixin_init_dbus_properties">tp_group_mixin_init_dbus_properties</primary></indexterm><programlisting><link linkend="void">void</link>                tp_group_mixin_init_dbus_properties (<link linkend="GObjectClass">GObjectClass</link> *cls);</programlisting>
<para>
Set up <link linkend="TpDBusPropertiesMixinClass"><type>TpDBusPropertiesMixinClass</type></link> to use this mixin's implementation of
the Group interface's properties.
</para>
<para>
This uses <link linkend="tp-group-mixin-get-dbus-property"><function>tp_group_mixin_get_dbus_property()</function></link> as the property getter and
sets up a list of the supported properties for it.  Having called this, you
should add <link linkend="TP-CHANNEL-GROUP-FLAG-PROPERTIES--CAPS"><type>TP_CHANNEL_GROUP_FLAG_PROPERTIES</type></link> to any channels of this class
with <link linkend="tp-group-mixin-change-flags"><function>tp_group_mixin_change_flags()</function></link> to indicate that the DBus properties are
available.</para>
<para>
</para><variablelist role="params">
<varlistentry><term><parameter>cls</parameter>&#160;:</term>
<listitem><simpara> The class of an object with this mixin
</simpara></listitem></varlistentry>
</variablelist><para role="since">Since 0.7.10</para></refsect2>
<refsect2 id="tp-group-mixin-change-self-handle" role="function">
<title>tp_group_mixin_change_self_handle ()</title>
<indexterm zone="tp-group-mixin-change-self-handle"><primary sortas="tp_group_mixin_change_self_handle">tp_group_mixin_change_self_handle</primary></indexterm><programlisting><link linkend="void">void</link>                tp_group_mixin_change_self_handle   (<link linkend="GObject">GObject</link> *obj,
                                                         <link linkend="TpHandle">TpHandle</link> new_self_handle);</programlisting>
<para>
Change the self-handle for this group to the given value.</para>
<para>
</para><variablelist role="params">
<varlistentry><term><parameter>obj</parameter>&#160;:</term>
<listitem><simpara> An object implementing the group interface using this mixin
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>new_self_handle</parameter>&#160;:</term>
<listitem><simpara> The new self-handle for this group
</simpara></listitem></varlistentry>
</variablelist></refsect2>
<refsect2 id="tp-external-group-mixin-iface-init" role="function" condition="since:0.5.13">
<title>tp_external_group_mixin_iface_init ()</title>
<indexterm zone="tp-external-group-mixin-iface-init" role="0.5.13"><primary sortas="tp_external_group_mixin_iface_init">tp_external_group_mixin_iface_init</primary></indexterm><programlisting><link linkend="void">void</link>                tp_external_group_mixin_iface_init  (<link linkend="gpointer">gpointer</link> g_iface,
                                                         <link linkend="gpointer">gpointer</link> iface_data);</programlisting>
<para>
Fill in the vtable entries needed to implement the group interface using
the group mixin of another object. This function should usually be called
via G_IMPLEMENT_INTERFACE.</para>
<para>
</para><variablelist role="params">
<varlistentry><term><parameter>g_iface</parameter>&#160;:</term>
<listitem><simpara> A <link linkend="TpSvcChannelInterfaceGroupClass"><type>TpSvcChannelInterfaceGroupClass</type></link>
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>iface_data</parameter>&#160;:</term>
<listitem><simpara> Unused
</simpara></listitem></varlistentry>
</variablelist><para role="since">Since 0.5.13</para></refsect2>
<refsect2 id="tp-external-group-mixin-init" role="function" condition="since:0.5.13">
<title>tp_external_group_mixin_init ()</title>
<indexterm zone="tp-external-group-mixin-init" role="0.5.13"><primary sortas="tp_external_group_mixin_init">tp_external_group_mixin_init</primary></indexterm><programlisting><link linkend="void">void</link>                tp_external_group_mixin_init        (<link linkend="GObject">GObject</link> *obj,
                                                         <link linkend="GObject">GObject</link> *obj_with_mixin);</programlisting>
<para>
Fill in the qdata needed to implement the group interface using
the group mixin of another object. This function should usually be called
in the instance constructor.</para>
<para>
</para><variablelist role="params">
<varlistentry><term><parameter>obj</parameter>&#160;:</term>
<listitem><simpara> An object implementing the groups interface using an external group
   mixin
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>obj_with_mixin</parameter>&#160;:</term>
<listitem><simpara> A GObject with the group mixin
</simpara></listitem></varlistentry>
</variablelist><para role="since">Since 0.5.13</para></refsect2>
<refsect2 id="tp-external-group-mixin-finalize" role="function" condition="since:0.5.13">
<title>tp_external_group_mixin_finalize ()</title>
<indexterm zone="tp-external-group-mixin-finalize" role="0.5.13"><primary sortas="tp_external_group_mixin_finalize">tp_external_group_mixin_finalize</primary></indexterm><programlisting><link linkend="void">void</link>                tp_external_group_mixin_finalize    (<link linkend="GObject">GObject</link> *obj);</programlisting>
<para>
Remove the external group mixin. This function should usually be called
in the dispose or finalize function.</para>
<para>
</para><variablelist role="params">
<varlistentry><term><parameter>obj</parameter>&#160;:</term>
<listitem><simpara> An object implementing the groups interface using an external group
   mixin
</simpara></listitem></varlistentry>
</variablelist><para role="since">Since 0.5.13</para></refsect2>
<refsect2 id="tp-external-group-mixin-init-dbus-properties" role="function" condition="since:0.7.10">
<title>tp_external_group_mixin_init_dbus_properties ()</title>
<indexterm zone="tp-external-group-mixin-init-dbus-properties" role="0.7.10"><primary sortas="tp_external_group_mixin_init_dbus_properties">tp_external_group_mixin_init_dbus_properties</primary></indexterm><programlisting><link linkend="void">void</link>                tp_external_group_mixin_init_dbus_properties
                                                        (<link linkend="GObjectClass">GObjectClass</link> *cls);</programlisting>
<para>
Set up <link linkend="TpDBusPropertiesMixinClass"><type>TpDBusPropertiesMixinClass</type></link> to use this mixin's implementation of
the Group interface's properties.
</para>
<para>
This uses <link linkend="tp-group-mixin-get-dbus-property"><function>tp_group_mixin_get_dbus_property()</function></link> as the property getter and
sets up a list of the supported properties for it.  Having called this, you
should add <link linkend="TP-CHANNEL-GROUP-FLAG-PROPERTIES--CAPS"><type>TP_CHANNEL_GROUP_FLAG_PROPERTIES</type></link> to channels containing the
mixin used by this class with <link linkend="tp-group-mixin-change-flags"><function>tp_group_mixin_change_flags()</function></link> to indicate that
the DBus properties are available.</para>
<para>
</para><variablelist role="params">
<varlistentry><term><parameter>cls</parameter>&#160;:</term>
<listitem><simpara> The class of an object with this mixin
</simpara></listitem></varlistentry>
</variablelist><para role="since">Since 0.7.10</para></refsect2>
<refsect2 id="tp-external-group-mixin-get-dbus-property" role="function" condition="since:0.7.10">
<title>tp_external_group_mixin_get_dbus_property ()</title>
<indexterm zone="tp-external-group-mixin-get-dbus-property" role="0.7.10"><primary sortas="tp_external_group_mixin_get_dbus_property">tp_external_group_mixin_get_dbus_property</primary></indexterm><programlisting><link linkend="void">void</link>                tp_external_group_mixin_get_dbus_property
                                                        (<link linkend="GObject">GObject</link> *object,
                                                         <link linkend="GQuark">GQuark</link> interface,
                                                         <link linkend="GQuark">GQuark</link> name,
                                                         <link linkend="GValue">GValue</link> *value,
                                                         <link linkend="gpointer">gpointer</link> unused);</programlisting>
<para>
An implementation of <link linkend="TpDBusPropertiesMixinGetter"><type>TpDBusPropertiesMixinGetter</type></link> which assumes that the
<parameter>object</parameter> has the external group mixin. It can only be used for the Group
interface.</para>
<para>
</para><variablelist role="params">
<varlistentry><term><parameter>object</parameter>&#160;:</term>
<listitem><simpara> An object with this mixin
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>interface</parameter>&#160;:</term>
<listitem><simpara> Must be <link linkend="TP-IFACE-QUARK-CHANNEL-INTERFACE-GROUP--CAPS"><literal>TP_IFACE_QUARK_CHANNEL_INTERFACE_GROUP</literal></link>
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>name</parameter>&#160;:</term>
<listitem><simpara> A quark representing the D-Bus property name, either
 "GroupFlags", "HandleOwners", "LocalPendingMembers", "Members",
 "RemotePendingMembers" or "SelfHandle"
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>value</parameter>&#160;:</term>
<listitem><simpara> A GValue pre-initialized to the right type, into which to put the
 value
</simpara></listitem></varlistentry>
<varlistentry><term><parameter>unused</parameter>&#160;:</term>
<listitem><simpara> Ignored
</simpara></listitem></varlistentry>
</variablelist><para role="since">Since 0.7.10</para></refsect2>

</refsect1>



<refsect1 id="telepathy-glib-TpGroupMixin.see-also">
<title>See Also</title>
#TpSvcChannelInterfaceGroup
</refsect1>

</refentry>
