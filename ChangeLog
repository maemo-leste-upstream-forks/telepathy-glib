commit d1a80dee31d7b4d4e64342fbb103adb26b49e272
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-25 16:34:15 +0100

    Prepare version 0.11.6

commit af17eb7f98e97b506ac6ad129b08a0b38db977c7
Merge: 9c5dbdb 4e39c8c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-25 16:25:12 +0100

    Merge branch 'telepathy-glib-0.10'
    
    Conflicts:
    	NEWS
    	configure.ac

commit 4e39c8c30d874af5ca3af1f13f77e1bd8662ddfa
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-25 16:24:00 +0100

    Nano version

commit 89758d18706ea62fe7c339dd922ef170c7fe4843
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-25 16:14:41 +0100

    Prepare stable release 0.10.6

commit 9c5dbdb1b8b65c3dcef024b0009128743498ad1f
Merge: c581fe9 d13b2b0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-25 16:12:39 +0100

    Merge branch 'spec'
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

commit d13b2b043f5d3fd3f7ab6804dff27a592b5ce546
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-25 16:02:38 +0100

    Update NEWS

commit ffa1154dddfdb8a1b52cab61fa8b93079ba28da7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-25 15:47:38 +0100

    tp_account_get_changing_presence, TpAccount:changing-presence: add

commit 2948ab95e843a969840d9e2696103e9b63282c92
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-25 15:45:24 +0100

    Update to spec 0.19.6

commit fc4cf185b4528a582c5f2eb2efeb0cc60509371a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-24 13:28:01 +0100

    Set the correct nsversion for GIR
    
    nsversion is meant to be an API/ABI version rather than a version number;
    the g-ir-scanner man page says "This is usually the platform version,
    eg 2.0 for Gtk+, not 2.12.7".

commit c581fe948c52a09b4e28bcf46c5ef3c9630b2488
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-25 13:43:20 +0200

    fix typo in tp_simple_handler_new doc

commit 2743dd452844fb234155e82efb106a839f9e8e6e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-25 12:50:01 +0200

    ignore messages until GetPendingMessages() has returned

commit 0845f60ad48dc43f586da31cfeec01ddacb0c042
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-25 12:45:15 +0200

    text-handler: including telepathy-glib.h is enough

commit 301ec9dca799e441934aa78c60ae9c18355a7a42
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-25 12:42:50 +0200

    telepathy-glib.h: add simple-handler.h

commit 8ddb84adaf13f45a24f5cc3949080a0ec6cdf233
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-17 14:46:04 +0200

    add examples/client/text-handler.c

commit 25faa0023680f27ffa73ba77153fa7a353589d53
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-17 14:02:53 +0200

    test TpSimpleHandler

commit 2011d69f2b42205b047361006850f0e96dedac44
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-17 14:02:22 +0200

    add TpSimpleHandler (fdo #27873)

commit 46d0bd5c18c9176367394c137ca16656d882b76e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-17 12:56:44 +0200

    telepathy-glib.h: add simple-approver.h

commit 632d29892b3ef7acd7ff9b303a9cce9804378b22
Merge: 3f0783b 7f232db
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-25 12:36:19 +0200

    Merge branch 'base-handler-27872'

commit 7f232db322e5128944d9d8a21df3c5ec6ec8a971
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-25 11:07:01 +0200

    test-cdo: properly close text channels

commit f70f82aabc8da639a47822fc6dd945e8a4256655
Merge: 36b34da 476cfae
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-25 10:34:58 +0200

    Merge remote branch 'smcv/handler' into base-handler-27872

commit 36b34daedf3dabafe5fa6f630295272dbecd70f7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-25 10:30:19 +0200

    test-base-client: add a comment about private headers

commit 3f0783b15eb48c50b3760bec4caceea780262468
Merge: 2222868 7e6ae3a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-24 18:16:11 +0100

    Merge branch 'intset-the-revenge'
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

commit 7e6ae3a00bddeb2d029b5fa62e1eec6bfec4e8b8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-24 18:11:48 +0100

    intset test: test iteration more systematically

commit 76908456689ab08e444aa25c5791362d4ad445f4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-24 18:10:46 +0100

    tp_intset_copy etc.: set #TpIntSet.largest_ever correctly on the copy
    
    This fixes a regression in which TpIntSetIter terminated too early
    (but TpIntSetFastIter was already correct, because it doesn't iterate
    in order).

commit 476cfae8f5ca948d08921d402793c5ddcd512b46
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-24 17:52:20 +0100

    base-client test: close text channels cleanly rather than just taking them off the bus

commit a23eb00df0bc12172f0089d75346aba25a9e9026
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-24 17:04:16 +0200

    change user-action-time to a gint64 and improve doc

commit 3db9f949caf4e467760873c08afe174bee68be26
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-24 16:32:42 +0200

    handle-channels-context: include public header first

commit 4d6bf1661dcc775301d2e3b8791264dd474cab48
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-24 16:29:37 +0200

    remove useless backslash

commit bc1219b5ed6fb616b5539fda5d631368b83c6050
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-24 16:27:50 +0200

    use WARNING instead of g_warning

commit 887d9ab351c674a42ee5d75ac88c4c0591377cf0
Merge: 03975b9 fcf6387
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-24 16:18:12 +0200

    Merge remote branch 'smcv/handler' into base-handler-27872

commit fcf63876831f00ecdbb99a6ca0e70d9039d31a5e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-24 11:36:05 +0100

    tests/dbus/base-client.c: close the channel correctly, causing client-side invalidation

commit 37bd26967051b0689313f782a849c6fc13af95ce
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-24 11:35:39 +0100

    TestTextChannelNull: add test_text_channel_null_close
    
    Also forcibly remove the channel from D-Bus after it closes, even if
    references to it persist.

commit 2222868effd164390e6c2b9c54a4ebf3fa89fc3a
Merge: 84b4e4d e7e2727
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-24 11:21:14 +0100

    Merge branch 'trivia'
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

commit e7e2727c1b207b1f3c4ed72146128f4736c6e062
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-24 11:14:59 +0100

    Remove trailing whitespace

commit f4b67b74a61c7994cc9c31b11cba6af87055f541
Author: Morten Mjelva <morten.mjelva@gmail.com>
Date:   2010-04-29 14:14:47 +0200

    Added element-type and transfer annotations to garray arguments
    
    Skipped tp_g_value_slice_* functions in dbus.c
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 4a4e732b2a42526849ffefbd9885cacf8252e2eb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-24 11:14:47 +0100

    Update README

commit f7fdb0cc9173179585504e55340066f210e5e41f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-24 11:14:33 +0100

    Document new requirements in NEWS

commit 01da23162c59ae3d6d582eaf69cc20c13aa59b4e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-24 10:53:55 +0100

    Require the latest gtk-doc, for sane handling of wrapped lines

commit 8ba61e8c0e73eddfb4b6c924b55cb47bdd8638f8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-24 10:53:34 +0100

    Require the latest GObject-Introspection, for GArray support

commit 84b4e4dc8c00b6e1dd06fca908f28ead1959248e
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-05-24 13:39:33 +1000

    Remove variables that shadow global function names

commit 9d2a3943af9f95be83cb4fa4371bda23c77f94f6
Author: Xavier Claessens <xclaesse@gmail.com>
Date:   2010-05-22 13:28:45 +0200

    Annotate that tp_contact_get_avatar_file() does not return a new ref
    
    This fix issues with bindings

commit 599b5f3fa37650e38ba3ce431ccb6124abedcbe0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-21 16:33:13 +0100

    Update NEWS

commit c403d57a5ebebd9fbaa0b136f56257076adfafb9
Merge: df5238a fa5ca18
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-21 16:31:09 +0100

    Merge branch 'test-contact-list-cm'

commit df5238a9ec5427d0931579f60be70161c5408aae
Merge: 42cb649 4e77362
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-21 16:28:23 +0100

    Merge branch 'telepathy-glib-0.10'

commit 4e7736243b5b6ceb999e7e9347ea74dac0abad28
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-21 16:28:16 +0100

    Update NEWS for 0.10.x

commit 3a7fd8ea60ec01463118297aa76034f364c18b6e
Merge: f6bedc9 a36f21c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-21 16:22:38 +0100

    Merge branch '010-group-and-contact-list' into telepathy-glib-0.10
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

commit a36f21cbec16a1c9a92075d6c26827861e8ab53f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-21 13:16:33 +0100

    TpGroupMixin: when removing members, don't raise an error if it's a no-op
    
    This is awkward if two clients both try to remove the same member at the
    same time, for instance.

commit fd03202eb180c6ac40f3786a7059c8340b78d91d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-21 12:24:46 +0100

    TpGroupMixin: allow no-op AddMembers for members, even without CAN_ADD
    
    The spec says "Attempting to add contacts who are already members is
    allowed; connection managers must silently accept this, without error."

commit fa5ca18312eed17ab2b4f5e3238e64463fe29beb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-21 13:16:33 +0100

    TpGroupMixin: when removing members, don't raise an error if it's a no-op
    
    This is awkward if two clients both try to remove the same member at the
    same time, for instance.

commit f1a58bc59e0ddf19075277322715abf225ad9a0c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-21 13:07:05 +0100

    contactlist example: put publish's pending members on the stored list, too
    
    This is not the current behaviour of CMs like Gabble, but it reflects how
    the new ContactList D-Bus API is intended to behave.

commit fc145434b8f348a53af721b128d3a37141d47d7d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-21 13:03:59 +0100

    contact-lists test: check the interaction between subscribe and stored

commit 0dd79c63a188034db7c9f3407fe9baf177841d84
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-21 13:03:40 +0100

    contactlist example: consistently put people we subscribe to on the stored list
    
    They're full members of stored, even if they're remote-pending in
    subscribe. This is realistic - XMPP has this behaviour.

commit 12a833385c6d31173cae66a143c43bcecc8e2564
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-21 12:24:46 +0100

    TpGroupMixin: allow no-op AddMembers for members, even without CAN_ADD
    
    The spec says "Attempting to add contacts who are already members is
    allowed; connection managers must silently accept this, without error."

commit 30bda609f984dc05c0b61170109fdcde1fa3bee1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-20 14:50:09 +0100

    contact-lists test: also exercise groups

commit a2725c6b9c5d6ab392f67255e5624f273b1daffa
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-20 13:48:59 +0100

    contact-lists test: cover most contact lists, avoid simulation delay

commit 48984edd14deb21b5b783f117e592abed5bccfa8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-19 18:07:23 +0100

    Add a stub test for the contactlist example CM

commit 1c88252f64f96ec1a55c9ccd176e7915ae877453
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-19 18:23:01 +0100

    test_proxy_run_until_prepared, test_proxy_run_until_prepared_or_failed: add

commit 6399dd5e594847d1a5bdd98816ce9c29650cb644
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-20 13:48:36 +0100

    contactlist example CM: have a variable simulation delay, like the callable CM does

commit 829bb1f2d8c279bc8745e92837fbab71f5c847f3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-20 13:26:30 +0100

    example_contact_list_manager_add_to_list: annotate unreachable code

commit a019177e2ed7f760eec1e2bca07006904df80cba
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-20 13:59:23 +0100

    contactlist example: when removing people from stored, also remove from other lists

commit 99dc669ce69d99d71184f751a195dc91946cc316
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-20 13:26:16 +0100

    contactlist example: ensure_contact: set the created flag correctly

commit 42cb6493396c38d54126ab2427c4fc1dec1bf417
Merge: 0071eb6 711781e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-21 12:15:50 +0100

    Merge branch 'intsetting'
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

commit 0071eb6daacb2e877e0a69794538a2b2a8461fac
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-19 18:18:26 +0100

    Move _tp_proxy_set_features_failed to internal header where it should have been
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

commit 711781e2641151aa366ccf718c264c54584572ad
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-21 12:10:39 +0100

    Examples: use TpIntSetFastIter

commit 51b8cae49b7a57fa26f30b2d3c3659515a4aed8c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-21 12:10:15 +0100

    TpChannel: use TpIntSetFastIter

commit 28644244e5459b8143c52d6b0a10c76940a188b6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-21 12:09:58 +0100

    TpPropertiesMixin: use TpIntSetFastIter

commit a72c557edd25a709598e2d470a56a40213e9dd67
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-21 12:08:09 +0100

    TpIntSet: improve documentation of TpIntSetFastIter

commit d21fce565beb44bc4eea8a3be088bb9b48377a68
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-21 11:51:40 +0100

    Add a boxed type for handle sets

commit 72a71fd03006ad5ce03fec6414d3d383dd56a94b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-19 11:26:07 +0100

    tp_handle_set_copy: add

commit 0e3a1cc5de52a59316604fb10737120aebea936c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-19 11:10:29 +0100

    TpHandleSet: improve const-correctness

commit f4af6205393a2594a3194f7c5720e810f01821fb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-19 11:07:48 +0100

    tp_handle_set_clear, tp_handle_set_is_empty: add

commit 1eaa54d91ccbd5e67e5709a2bc1f3362ab30c4bd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-21 11:46:53 +0100

    tp_intset_is_empty: add
    
    Now that we're using a different representation of int sets, checking
    for empty intsets is very, very cheap.

commit 695b6de8fab432728b1b5a666280d868c8532aec
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-19 18:18:26 +0100

    Move _tp_proxy_set_features_failed to internal header where it should have been

commit 8e84dd66d789baac828c05ab17f500209017fc5d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-21 11:36:31 +0100

    fd.o #16170: TpIntSet: cope better with sparse sets
    
    When we stop refcounting handles, it will become more important that
    clients and services both cope gracefully with sparse sets, since the
    average numeric value of a handle will increase.
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
    Conflicts:
    	tests/intset.c

commit 03975b97e1e146c696fde658dc85a398c5d36ab7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-20 14:13:49 +0200

    raise a warning if tp_dbus_daemon_release_name fails

commit 459d58933583245da57b142c1cbfcb87d07ac83a
Author: Xavier Claessens <xclaesse@gmail.com>
Date:   2010-05-18 16:40:46 +0200

    Rephrase some API doc to be clearer.

commit daea062bec211451f9e9f545acb46c88496e4839
Author: Xavier Claessens <xclaesse@gmail.com>
Date:   2010-05-18 16:35:41 +0200

    Rename mimetype to mime_type

commit 195494fd3077f37a6125a24ab48d40ac5939830f
Author: Xavier Claessens <xclaesse@gmail.com>
Date:   2010-05-18 16:27:42 +0200

    Make sure the tmp dir we are using for avatar cache does not exist

commit 082399a79b928362204eafc53da0eefca746c4d1
Author: Xavier Claessens <xclaesse@gmail.com>
Date:   2010-05-18 14:11:52 +0200

    Use g_return_if_fail() in case a feature is unknown

commit 663c19c758c6c9aacfb980151d293cda122c253c
Author: Xavier Claessens <xclaesse@gmail.com>
Date:   2010-05-17 18:21:37 +0200

    Use random temporary directory for the avatar cache

commit 7ca5add5a04f813fb608ada70c8b928ba8120e02
Author: Xavier Claessens <xclaesse@gmail.com>
Date:   2010-05-17 16:02:20 +0200

    Fix some coding style in tests

commit 01c78df058e021a7ef8a481a1feabc3cff41aaba
Author: Xavier Claessens <xclaesse@gmail.com>
Date:   2010-05-17 15:59:51 +0200

    Use g_assert instead of MYASSERT

commit c5749a016d910fafef1ad75a3672baf03c6faf5a
Author: Xavier Claessens <xclaesse@gmail.com>
Date:   2010-05-11 21:20:10 +0200

    Fix case where AVATAR_TOKEN feature is missing and AVATAR_DATA is set.
    
    Looks like unit tests are useful after all...

commit 68df61c82f0906e731e280da502d7f7d8970c5d8
Author: Xavier Claessens <xclaesse@gmail.com>
Date:   2010-05-11 18:59:20 +0200

    Add unit test for avatar data

commit ba6a69a8813615dddb46e3fbd2e9ec657414c8b9
Author: Xavier Claessens <xclaesse@gmail.com>
Date:   2010-05-11 16:43:51 +0200

    Add unit test for avatar requirements

commit c055dba60e1a47337c6ad3eaa76157f6ecd6b065
Author: Xavier Claessens <xclaesse@gmail.com>
Date:   2009-10-08 08:42:21 +0200

    Add Avatar data cache on TpContact
    
    New TpContact feature: TP_CONTACT_FEATURE_AVATAR_DATA, and properties:
    "avatar-file" and "avatar-mimetype".

commit ce9892dbdb4ec93c9622af808c16f74e2f67ee71
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-17 11:57:57 +0200

    test tp_base_client_get_handled_channels()

commit 3cd231671f3f6f8d2a4aa53769fe47152e90ea0f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-18 14:39:27 +0200

    tp_base_client_register: no need to fill clients hash table if client is not an handler

commit c23008472adaa3fa85df615e8d6565e37a20bcb0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-18 14:38:46 +0200

    raise an error if tp_base_client_get_{handled_channels,requests} is called on a non handler client

commit 7e602baaec803c1d7b009b1ea8e51f2939e71508
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-18 14:30:15 +0200

    test tp_base_client_unregister

commit 114b7806df881e09b2d819acab7c5449615cf81d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-18 14:18:34 +0200

    add tp_base_client_unregister (fdo #28155)

commit 40683a7bf1bb9f86889d74fb01b332db93ec1c9d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-17 11:26:26 +0200

    actually implement tp_base_client_get_handled_channels

commit a5e57a9822746ad5941c58363cae43ed0a6fb48e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-17 11:18:09 +0200

    add TpHandleChannelsContext::done signal

commit d6413ff4322f3740a3a962e5d8ba7388ef4a320f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-12 12:50:55 +0200

    tp_base_client_get_pending_requests: return a copy of the list
    
    It makes uses of the GList API easier as it doens't have 'const' correctly
    set.

commit ae831ff66d6b46a312db126466ede900a73c14da
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-11 17:09:03 +0200

    check that we reuse existing channel request if possible

commit fe8d079c5e057bdeda29990b3166d568a946ef81
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-11 17:08:06 +0200

    _tp_base_client_handle_channels: reuse existing channel request if possible

commit 577620f641d5c3be1e0195e01832a9cd0d71695e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-11 16:37:19 +0200

    test request-removed signal

commit 011076d14d12c4d41a8ea63799fd02d46915d39f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-11 16:36:53 +0200

    implement request-removed signal

commit 6bf2df7e15eedce369c5c4c431676c896a5abc92
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-11 15:43:12 +0200

    test request-added signal

commit f48a2871ef2b8678bdf98dcfe810f4ccf567ead7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-11 15:41:52 +0200

    implement request-added signal and tp_base_client_get_pending_requests()

commit 15f16b4b8ce1a6dd489b51f238dd16570742f0d5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-07 13:08:14 +0200

    document Handler API

commit b25e02782cba3feda01451843183cdcc4d59e202
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-07 10:11:59 +0200

    simple-client: implement HandleChannels

commit 3560ce197ee413d7c03a5c1413809cca0bdc02c0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-07 10:11:44 +0200

    add API to implement HandleChannels

commit ba12d63d7d756ae83d76f0a65f128937fcd31458
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-06 16:22:51 +0200

    add handle-channels-context

commit 5a4bfd9400e655da6d37921b7bc6cecce48bc972
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-06 15:42:13 +0200

    test-base-client: re-introduce Handler tests
    
    This reverts commit fe4104924e9afc3fb9cb03653aac66ae2e0ae868.
    
    Conflicts:
    
    	tests/dbus/base-client.c

commit a4435af7264b4788bd90b580917098a3fbeeb7d4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-06 15:37:22 +0200

    base-client Re-introduce Handler code
    
    This reverts commit 7e8e86e34444a94c27a0ae7f9725b784d09a8606.
    
    Conflicts:
    
    	telepathy-glib/base-client.c
    	telepathy-glib/base-client.h

commit eadf97f8f96793332ea95862616850c078e9b5ec
Merge: 3a68b70 f6bedc9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-12 10:50:04 +0200

    Merge branch 'telepathy-glib-0.10'

commit f6bedc909d885a5c67368de79a040e62078b7287
Merge: 3f06257 3fb80dd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-12 10:49:53 +0200

    Merge branch 'telepathy-glib-0.8' into telepathy-glib-0.10
    
    Conflicts:
    	NEWS

commit 3fb80ddbbc533fda1de5710d0f0511a1c74a1fd5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-12 10:48:20 +0200

    Update NEWS

commit acb518e6c3bbfd351f2a29c3cb77d4ee09f650ec
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-12 10:42:10 +0200

    TP_IS_HANDLE_REPO_IFACE: fix syntax by adding a parenthesis
    
    Apparently, nobody has ever used this macro...
    
    Reviewed-by: Robert McQueen <robert.mcqueen@collabora.co.uk>

commit 3a68b70cd7d8e571021f44c467dba8f473b708eb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-10 18:24:29 +0100

    Nano version

commit 2fd57acfab0dd14888baefed5e79c97fce153a74
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-10 17:03:56 +0100

    Prepare release 0.11.5

commit 8eb1c1345b48d9719fecb92e35f86c260a74c820
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-10 12:17:55 +0100

    fd.o #28043: explicitly link tests/* against dbus-glib
    
    This fixes compilation with LDFLAGS=-Wl,--no-add-needed, with GNU gold
    (where this is the default), and hopefully with recent Fedora (where this
    appears to be the default for ld too).
    
    When the last round of Debian "fails to build with GNU gold" reports came
    in, nothing in tests/ used libdbus or dbus-glib. However, the test for
    gnio-utils needs the dbus-glib specialized type system, even though it
    doesn't actually connect to D-Bus, so it needs to be linked accordingly.
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit 366e300fb469496f060301df594502498fb8c75e
Merge: 00f0133 c5658c2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-10 16:28:42 +0100

    Merge branch 'cdo'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit c5658c22e4271848fd895fd8bc6cbf6765664d63
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-10 16:26:21 +0100

    TpChannelDispatchOperation: don't crash if channels is not given in g_object_new
    
    channels is meant to be optional, but we'd crash with a NULL pointer
    dereference if it's omitted (in which case GObject sets it to NULL).
    
    "Updating" a channels array that was NULL also crashed with a NULL pointer
    dereference.

commit 79bff23750a5fbddd0adb6e08396dd9f36d2ad84
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-10 16:22:15 +0100

    TpChannelDispatchOperation: assert that we're not leaking properties

commit 92991d03cd048b40e597e0b8b87712093ddf1844
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-10 16:10:22 +0100

    TpChannelDispatchOperation: defer interpretation of immutables until constructed
    
    Without this change, the CDO's behaviour would depend on the order of
    g_object_new arguments:
    
    * if cdo-properties came before account: make a new TpAccount, which is
      then leaked (overwritten with an existing TpAccount, but not freed)
      when the account property is set
    
    * if account came before cdo-properties: behave correctly (use the
      existing TpAccount)
    
    The corresponding order-dependent bug could happen for connection too.
    By delaying the maybe_set functions until constructed(), we force the
    latter (correct) ordering in all cases.

commit 00f0133f43d96008230378c3245034fee82c287c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-10 14:04:17 +0200

    no need to pass dbus-connection when constructing CDO

commit 85ef11d6ad84bf5c26df16616365930b6ec83778
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-10 11:39:04 +0200

    test-approver: check CDO reuses existing proxies

commit 3769f59525c07f39314587d9a2aecf53ec3c0a01
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-10 11:38:30 +0200

    _tp_base_client_add_dispatch_operation: use _tp_channel_dispatch_operation_new_with_objects to create the CDO

commit 4c3b73e98fbf88d24f3fd42a998511b055c89001
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-10 11:36:27 +0200

    add _tp_channel_dispatch_operation_new_with_objects
    
    This can be used by tp-glib to create a new CDO using existing proxies rather
    than creating new ones.

commit db9240a129ae9af2cf56ec9aa9c7622be22f60d9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-10 11:31:33 +0200

    CDO: update list of channels when we fetch them from D-Bus

commit 0226292f8c90b6c0ca5b7995feea0bd10d84e064
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-10 11:30:08 +0200

    CDO: make account, connection and channels properties construct-only

commit eb98e533f3d455d273fe2ef21cd515b9a89e23c9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-06 14:47:11 +0200

    add example approver

commit 1f9679e1323ab857362e6e87822cdf95ea500341
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-06 12:21:46 +0200

    test simple-approver

commit 037a5723f9d927601f967b43708047ee230b1717
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-04 12:10:49 +0200

    add simple-approver (fdo #27875)

commit b4b633c1bccb75f68cb867a0bb7a8388d3b3feb8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-07 15:24:28 +0200

    use WARNING if D-Bus method hasn't been implemented when expected

commit bc9e42038b8bbdbd3aec1ab43a24e7da609f355d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-07 14:29:48 +0200

    rephrase doc of some API

commit 367c3ff65f8960da30564a6428c8fdab5a2b83b1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-07 14:24:17 +0200

    remove useless '\'

commit 84ef2289986dc66a44d7a3805abdffd38f604c70
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-07 14:23:16 +0200

    add-dispatch-operation-context: fix copyright headers

commit 324a03753345761f79fd3aa56665a2e22f23170b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-07 11:35:16 +0200

    No need to special case when a CDO disappear while preparing it
    
    The spec guarantees that ChanneLost/Finished aren't fired until
    AddDispatchOperation returns.

commit cff5d2d1282f2f74c5300557873e38f30c50bdf5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-07 11:32:42 +0200

    refer to tp_channel_dispatch_operation_{handle_with,claim}_async in TpBaseClientClassAddDispatchOperationImpl's doc

commit a01d41699c667e5caedb1f97ea0992f33348a832
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-03 17:15:34 +0200

    test-base-client: test invalidating the CDO while preparing the context

commit 3e2db10fc246a1866284483d22b51ba0280af31d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-03 16:47:42 +0200

    test-base-client: test invalidating one channel while calling AddDispatchOperation

commit 2a4e0ad89d566a5cdd8e7bea131b2c31468ed39a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-03 16:25:36 +0200

    pass 2 channels to AddDispatchOperation

commit b18197b9545109924ca891e5b40055bb1d085bd8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-03 14:53:19 +0200

    document tp_base_client_{add,take}_approver_filter

commit 4f0d87c604cbb31d04a19b36dfbd1a789b836402
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-03 14:52:57 +0200

    test-base-client: implement AddDispatchOperation()

commit 926789f750d10ca7c2eeea8301b296101feaea2f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-03 14:52:00 +0200

    base-client: add API to implement AddDispatchOperation()

commit 22aecb02672ebdb5aec5be4aadca2ec0b306eaf4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-03 14:45:17 +0200

    add add-dispatch-operation-context

commit c52b6aba6fae5831671339951d756be9d0fd20f8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-03 12:33:32 +0200

    test-approver: instantiate a fake CDO service and pass proper properties to AddDispatchOperation()

commit b2dde6a82dcee6d5fd5b39002c50ccf3be4a317a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-03 12:31:05 +0200

    add simple_channel_dispatch_operation_set_account_path

commit 7eb820e60fe0e2dcf38c897384238cff2a7e82c6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-03 12:06:28 +0200

    test-base-client: uncomment Approver test

commit 4c552b15ac4a890d1d2ed2720ea3f43d4ca5fbb1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-03 12:06:17 +0200

    base-client: uncomment Approver code

commit 5b2cdebdbbd9d1af9b2a4083323262be4204f8dc
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-03 12:03:14 +0200

    test-base-client: remove Handler bits

commit 40ba28806841278d1e71d9e02a281ddd67f54951
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-03 12:01:56 +0200

    base-client: remove Handler bits
    
    We are going to implement Approver for now.

commit c3b605595ce4a47af0965180561443cceb766af6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-03 11:48:01 +0200

    Revert "test-base-client: remove Approver and Handler tests for now"
    
    This reverts commit 7b8d450bed2eb391505a0b5bd7c1bac7cae23789.

commit 3ca6e012e70fed8cd1ffb3664ec838079e46c250
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-03 11:47:53 +0200

    Revert "base-client: remove Approver and Handler code for now"
    
    This reverts commit 790531670baad55d83c003c5db06a1bde69273f0.

commit 45b42af7da85bbb9acbe09c97134e853db9747e3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-07 14:11:34 +0200

    skip tp_channel_dispatch_operation_borrow_* methods

commit 492d8a3d47d2a60deb3c3e656af915c59099b30a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-07 14:04:59 +0200

    rename channel-dispatch-operation-properties property to cdo-properties

commit d728bf6331c369d08726061c45a68b8f631a9425
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-07 13:57:10 +0200

    fix #TpProxy::invalidated references in doc

commit fcd7e0d0ca380da63abe4c015906a622cb561961
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-07 11:14:30 +0200

    use g_assert_cmpstr

commit 73c6c25e674649714bcda17b91f1a4974e12a51f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-07 11:10:13 +0200

    document the error code used when invalidating the CDO as a result of tp_channel_dispatch_operation_handle_with_async

commit 6bbd1bf543473f69cf7b933d5312f22f29a53496
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-07 11:07:48 +0200

    don't skip the channel-lost sig

commit c4146b24d3738de8d9896f1f724ad400396d88ad
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-07 11:07:08 +0200

    set preparing_core when starting to prepare

commit 8814084a755c495bf0682a2c91ab0db10a4efc84
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-07 11:04:32 +0200

    get_dispatch_operation_prop_cb: invalidate the CDO is a property is missing

commit 357f52a4d7d76291670ee77e54f5fe15948b0883
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-07 10:40:59 +0200

    fix identation

commit 703bc1942cc8ac82ec35a533a5bb0d7b1fb83ea8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-07 10:38:25 +0200

    remove setter for connection, account and possible-handlers properties
    
    There are read-only.

commit 22149785271489439fbb4336f8822fe303116ef1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-04 11:00:04 +0200

    test removing the 2 channels while preparing the CDO

commit cc805799413ba30de579d14898a3b67271971149
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-04 10:55:35 +0200

    test_channel_lost: test removing the second channel

commit 36edb35ca7b50a49e45ba68da423780e983ad1cd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-03 17:10:22 +0200

    simple-channel-dispatch-operation: fire Finished signal when removing the last channel

commit 65c37be1c7e69aadd0d58cec1ebea6206b2ca566
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-04 10:39:23 +0200

    test removing a channel while preparing the CDO

commit 8180f2a6380cee3676a9c555113b859755d69eb6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-03 16:46:25 +0200

    channel-dispatch-operation: don't crash if ChannLost is fired before we fetch channels

commit 7ace4dc92eb96c0ba1c2f018d79d6c48d1aed393
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-04 10:35:18 +0200

    test_channel_lost: actually remove the channel from the bus

commit b473773146d8ef2b1d5cad02c197126973c843aa
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-04 10:32:48 +0200

    test-channel-dispatch-operation: pass 2 channels to the CDO

commit 51e602a270b00425164a9a2e661a860e07462c29
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-03 11:36:02 +0200

    test tp_channel_dispatch_operation_claim_async

commit 92c6da567fad79456c6a59a85123c808d34c1762
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-03 11:35:46 +0200

    add tp_channel_dispatch_operation_claim_{async,finish}

commit 349631bf9cf3ec1a9f0bb76bfe012552c146b1c7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-03 11:17:37 +0200

    test tp_channel_dispatch_operation_handle_with_async

commit 95118745bbc376323c18f9afe9c0363b417073f3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-03 11:17:01 +0200

    add tp_channel_dispatch_operation_handle_with_{async,finish}

commit 46647279c39411342628cea211d994150fcc336f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-03 11:01:14 +0200

    simple-channel-dispatch-operation: implement HandleWith() and Claim()

commit ddf90f909d7dcdef8c9a949d60ee792f00fcb573
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-30 15:37:14 +0200

    test 'channel-lost' signal

commit e26d8082a47c110b927113e2a8efe8d95da9ef99
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-30 15:36:05 +0200

    TpChannelDispatchOperation: implement "channel-lost" signal

commit b8084728a25a0caf64edba929b2d83536f6fd93d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-30 14:21:38 +0200

    request TP_CHANNEL_DISPATCHER_BUS_NAME in setup_services

commit dfd8281f9cbda89709eb4014324a17d68293a3d6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-30 13:58:10 +0200

    test fetching properties from D-Bus

commit 38a2e07c7a024287955d4f7afb01c1acb3063499
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-30 13:51:56 +0200

    implement TP_CHANNEL_DISPATCH_OPERATION_FEATURE_CORE

commit 72ce1653aa2dbac890d4ef308eb1489753dbcc6b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-29 15:28:24 +0200

    test properties before being fetched from D-Bus

commit 10405e3e567d1adb7b8a04180b1f6abb6b0cca27
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-29 12:48:05 +0200

    test channel-dispatch-operation GObject properties when passed from tp_channel_dispatch_operation_new

commit c59a602a0ec08760de0a3271e5c2000b52f7eb32
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-29 15:58:56 +0200

    add accessors for properties

commit c3a4ec003596ca553e7b5f83e214a22afe27414b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-29 12:47:26 +0200

    channel-dispatch-operation: add GObject properties

commit ba68fb2dca4776b24bfc558302aec3cec28992ad
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-29 11:46:56 +0200

    test-channel-dispatch-operation: use SimpleChannelDispatchOperation instead of our own stub object

commit 658b1d9ff3943218160049ed900153d4835683ca
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-29 11:46:05 +0200

    add simple-channel-dispatch-operation for tests

commit 3fa592507ffd8db0730fa1cbc8870985cce49e45
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-29 10:05:12 +0200

    add TP_CHANNEL_DISPATCH_OPERATION_FEATURE_CORE

commit df4a7e3a180d6d035d5448d4f9d244dced6379d3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-06 10:39:13 +0200

    no need to ref the account and connection to unref it right after

commit 23e6bb351a3aaa4aecaf6f99c0e510448922f693
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-05 17:06:18 +0200

    base-client: use _tp_dbus_daemon_is_the_shared_one

commit 70fb1639522213b9f2b62c98f840b6c0f895dba2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-05 17:06:04 +0200

    add _tp_dbus_daemon_is_the_shared_one as internal API

commit 9a6db8f51aec46b62226a8db2375147d4c2fc577
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-05 15:53:35 +0200

    use tp_account_ensure_connection to create the TpConnection

commit 2a7ac8156f882ac266498206b6ed1466ead77fa1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-05 15:48:53 +0200

    test-base-client: test that TpBaseClient recycle the existing TpAccount object

commit 5fbb52e40a5f8f9f7d324c083eee7dadbd935fca
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-05 15:47:51 +0200

    base-client: use tp_account_manager_ensure_account to create the TpAccount
    
    This will recycle an existing TpAccount if possible (fdo #27982).

commit 7b9ee99dba330f7ae1f6e4fdcde85ff49d141a7f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-05 15:37:03 +0200

    instantiate a TpAccountManager

commit 12c77955be313d4f285b488313f2291075ee1505
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-04 15:26:45 +0200

    Don't fail preparing the context if the connection or account is not prepared

commit de8447ea9cf1fd36f9a8781522a2ef3524366d9a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-04 12:49:06 +0200

    Pass invalidated channels to ObserveChannels implementation (fdo #27956)

commit 12761eb92a5aa7a20910bb5b412ce915f85bff7c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-04 15:21:20 +0200

    use a counter to check if context is ready

commit 018602d067ee3482c9e1154c1c3a390721da3bab
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-05 10:45:55 +0100

    TpConnectionManager: say what TP_CONNECTION_MANAGER_FEATURE_CORE implies
    
    Reviewed-by: Danielle Madeley <danielle.madeley@collabora.co.uk>

commit acd91b9ee2ec5f829d7e8cb0374d30e853d15271
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-04 16:06:36 +0100

    Write about fd.o #23369 in NEWS
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

commit e31c4230489c79d73762f422f385d50bd8e08100
Merge: 0cec215 5c830fc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-04 17:59:05 +0100

    Merge branch 'even-better-errors'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit 0cec215a515bd6bc049c482bf1f153a909da3adc
Merge: 1a8b201 e8c737d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-04 17:58:09 +0100

    Merge branch 'enums'
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

commit e8c737d028fdbf3652a943807e190bc6170bf02f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-04 17:08:55 +0100

    Run glib-mkenums in a way that works with out-of-tree builds

commit c32bb738ea4e52418e1f1dbac2bb8682c5a86ce6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-04 17:02:21 +0100

    Distribute genums.[ch].template

commit c77760c35d8616e706b713b476e73f860d19a99a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-04 16:45:53 +0100

    Include generated GEnum/GFlags types in documentation

commit 0e5c51bada28e61fd0e6bc70c4ca834be179268a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-04 16:28:37 +0100

    connection-manager.h: include _gen/genums.h, for TP_TYPE_CM_INFO_SOURCE

commit f54a685e0736e95492f3d5b176825b17d3957caf
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-04 16:28:18 +0100

    contact.h: include _gen/genums.h, for TP_TYPE_CONTACT_FEATURE

commit c8a39d853a3cedc4cd39a45e9245dbc37107bbf6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-04 16:28:02 +0100

    dbus-properties-mixin.h: include _gen/genums.h, for TP_TYPE_DBUS_PROPERTIES_MIXIN_FLAGS

commit f3cdcc37d1a71db2850476b2c62aca29466911c6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-04 16:27:45 +0100

    dbus.h: include _gen/genums.h, for TP_TYPE_DBUS_ERROR

commit 6dd17fc10c3da7c0e9258e4ecb10e3549b1adf48
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-04 16:27:22 +0100

    proxy.h: include _gen/genums.h, for TP_TYPE_DBUS_ERROR

commit 253213bcbde04f1c4359fd72ab63454b7f3b2016
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-04 16:20:07 +0100

    TpConnectionManager::info-source: flag as inappropriate type (for ABI)

commit 72326836c0bbb20062ce52bdc7abd9c9095c767b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-04 16:19:34 +0100

    Don't generate an enum type for TpChannelFactoryRequestStatus
    
    The entire channel factory interface should probably be deprecated, but
    that's a job for a separate branch; for now, just don't add more API.

commit 8bca61a75abd945f4d3f79ce4ab0ee9ea0576694
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-04 16:18:42 +0100

    Generate a flags type, not an enum type, for TpDBusNameType
    
    Also unwrap the longer lines (breaking the 80-character barrier, sadly)
    so glib-mkenums will understand.

commit 0d2b59857814f34c20d6455c5472fcc2e5453382
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-04 16:17:49 +0100

    Generate a flags type, not an enum type, for TpDBusPropertiesMixinFlags

commit 1a8b201ed14c71b99b0169f837103738792ccc60
Merge: 516507d 6ee70b2
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-05-04 20:53:12 +1000

    Merge branch 'enums'

commit 516507d09c392dcd9e981a6ff0193e42389af152
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-04 11:49:17 +0100

    Clean up all generated files

commit 6ee70b2a582c8b219b816b78fff31f112bf3ea8d
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-05-04 20:43:30 +1000

    Add nick trigraph to entries in the TpError enum, so that valid error names can be generated

commit 78387c155326e58613dac07e5c2d8949e27c8f1f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-04 11:42:57 +0100

    Correct glib-errors-check-gen test
    
    TP_ERROR_PREFIX is documented to not include the trailing dot (because
    that's what dbus-glib wants).

commit 8519cce9b70db2d789410746c7f6eb5af6e66c56
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-04 11:31:51 +0100

    Distribute expected-gtypes-gtk-doc.h to fix distcheck

commit c97ca0cb8054e5ca0b2673b5631fffae2c400d7f
Merge: 9ff1b35 059bac6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-04 11:17:49 +0100

    Merge branch 'trivia'
    
    Reviewed-by: Danielle Madeley <danielle.madeley@collabora.co.uk>

commit 9ff1b357b1dbecb7d5087a3eb9f3b8b52f107611
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-04 12:14:17 +0200

    fix TpSimpleObserver:callback: documentation

commit 059bac67c267f8fb6f22a21e3911af8002089bf7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-04 11:13:56 +0100

    glib-errors-check-gen.py: check that TP_ERROR_STR_foo are right, too

commit 006b6f0dff6b3a97bdc3d0f9088240c658a00e4c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-04 09:49:14 +0200

    move DBusGMethodInvocation to priv
    
    Once the context object we shouldn't access it directly but use
    accept/delay/fail methods instead.

commit 38698680fae2c54e6092884ebdacd80657b6aabe
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-04 09:46:31 +0200

    fix an error leak

commit d3a4812224e51436aafc0ba9be01763a8fe68615
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-05-04 11:42:06 +1000

    Add a regression test to check the values for NUM_TP_{CONTACT_FEATURES,DBUS_ERRORS} are up to date.

commit 19d2e7a4277c109ee6dbd69ee1e51a4d24f679f1
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-05-04 11:40:43 +1000

    Generate GEnums for hand-written enums

commit 9b42d0b5c83fe4a2da2f5bec7d32beaeee9647ee
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-03 16:52:15 +0100

    Remove spurious comments about fd.o #5688
    
    We no longer leak the object we claim to be leaking, and haven't since
    version 0.11.3.

commit b2e2c0c39d3ee277e2646d27b02357980189be99
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-03 17:20:46 +0200

    Use tp_observe_channels_context_fail if preparing the context fail
    
    This avoid to dispose the context in the None state and so raise a warning.

commit 7dcb08240d8ae0b2a408cffa063b6e07d3233708
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-03 15:16:38 +0200

    move TpBaseClientClassPrivate to the right section

commit b2c46b4b3769ab0041d2808e876f69b0ac23bfc9
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-05-03 20:55:17 +1000

    Work around GObject Introspection bug #615923
    
    https://bugzilla.gnome.org/show_bug.cgi?id=615923
    
    GObject-Introspection fails to parse this enum with NUM_TP_CONTACT_FEATURES in
    it, make this a #define instead.

commit 14451a0b239fb8e9c56ac28a80c1ab214118a0ae
Merge: 0993e4f 04e68cf
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-03 11:13:13 +0100

    Merge branch 'error-macros'
    
    Reviewed-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 0993e4fe7f114f5ba04db595f570205893095d02
Merge: 275c1a8 93c4e78
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-03 10:56:33 +0100

    Merge branch 'split-codegen-doc'
    
    Reviwed-by: Travis Reitter <travis.reitter@collabora.co.uk>

commit 275c1a8c88ac21803c924651f28f0650d1bc1edc
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-05-03 17:13:07 +1000

    Add/correct gobject-introspection annotation for TpConnection and TpConnectionManager

commit 04e68cf5d201a5bd89aec25c8dd85aac02901a60
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-30 16:25:29 +0100

    Correct documentation regarding --disable-debug

commit 8b96c00668529c498cb6946fdd18f6481e9ceff1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-30 16:19:07 +0100

    Use macros WARNING(), etc., consistently (within the library)

commit 88e91939bf941e4566708f3137404f5048ca04d2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-30 16:16:01 +0100

    Put various files into debug domains

commit eafb834d52d0cb68c2c58b4335ef46c30d4284c1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-30 16:12:19 +0100

    Introduce a "misc" debug domain for util, dbus etc.

commit ee4e5d90c6f9806b2c311336e38ee6976540d504
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-30 15:48:28 +0100

    tp_base_connection_change_status: turn a warning + assert into a CRITICAL + return
    
    g_warning is at level WARNING, but g_assert_not_reached is fatal. What
    we really want here is a critical warning (the same as for
    g_return_if_fail), which is usually but not always fatal.

commit 5e8a82673e483da4701517a8ead9cc266e34e7ea
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-30 16:10:44 +0100

    TpConnection: if RequestHandles returns the wrong length, raise error
    
    Previously, we mistakenly passed error (which is NULL on this code path)
    to client code; this should have been e, the new GError we just allocated.
    
    Also, don't leak that GError.

commit 24422b4c6cbee6f0f491f26f177e350225657162
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-30 16:15:41 +0100

    Make ERROR() expand to something the compiler knows can't return

commit 4f47b4fba4d43fc2f323cc90c8a0f9b8a24ea512
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-30 16:14:32 +0100

    debug: always log messages of level > DEBUG, even with --disable-debug
    
    We clearly don't want a configure option that can turn off CRITICAL()!

commit 89cf0b331fb6cb457c653854dcb22a8cd2d86bb7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-30 15:00:11 +0100

    NEWS so far for 0.11.5

commit 7f97178f2dfe1a9e5fb4450fa72fd9b9a7a3a00e
Merge: 8fc5e25 eadb24e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-30 14:47:34 +0100

    Merge branch 'cm-trivia'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit 8fc5e25f8a5aae6b79c644b8c173f5da9d1b8f6c
Merge: 11c464d 7095980
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-30 14:39:27 +0100

    Merge branch 'tokens'
    
    Reviewed-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 7095980f46e63be610c37e8b862a64134452fb48
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-30 12:57:08 +0100

    Use generated token-name strings, except in tests

commit 4a76d135db0fab4b2ef9f37e120a91184cb68a96
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-30 12:53:18 +0100

    TpContact: use the generated #defines for token names
    
    If we'd done this already, it would have caught the error fixed by the
    previous commit.

commit f2a1ea5e9e59861b038a708b421e36564afe42a5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-30 12:49:19 +0100

    fd.o #26211: glib-interfaces-gen.py: generate tokens correctly, with '/'

commit 93c4e78ac4dbb31b2106da2835c47eeb3896d0a3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-30 12:29:14 +0100

    fd.o #27878: c-constants-gen: output gtk-doc separately
    
    gtk-doc will happily document all .h files, so we don't need the
    doc-comments to be in the same files as the declarations or
    implementations.
    
    This required changing the calling convention of c-constants-gen to output
    to files, rather than to stdout.

commit 5fc1dc323d5d1b499bb760e2bceb2beb3806a64f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-30 12:17:00 +0100

    fd.o #27878: glib-errors-str-gen: output gtk-doc separately
    
    gtk-doc will happily document all .h files, so we don't need the
    doc-comments to be in the same files as the declarations or
    implementations.
    
    Also, ensure output is in UTF-8.

commit f00c785be583e50b9635d8a18b55400594049cfc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-30 12:16:35 +0100

    fd.o #27878: glib-ginterface-gen: output gtk-doc separately
    
    gtk-doc will happily document all .h files, so we don't need the
    doc-comments to be in the same files as the declarations or
    implementations.
    
    Also, ensure that output is in UTF-8.

commit e424efaad99d3b73da131374c0fe22f453a557a1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-30 12:08:03 +0100

    fd.o #27878: glib-client-gen: output gtk-doc separately
    
    gtk-doc will happily document all .h files, so we don't need the
    doc-comments to be in the same files as the declarations or
    implementations.

commit 4e6e58cc9037265c360e120125ecaf0c14ad90da
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-30 12:07:50 +0100

    fd.o #27878: glib-gtypes-generator: output gtk-doc separately
    
    gtk-doc will happily document all .h files, so we don't need the
    doc-comments to be in the same files as the declarations or
    implementations.

commit eca7345d0942234af56449e6d38fa488beddcf21
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-30 11:57:35 +0100

    fd.o #27878: glib-interfaces-gen: output gtk-doc separately
    
    gtk-doc will happily document all .h files, so we don't need the
    doc-comments to be in the same files as the declarations or
    implementations.

commit 11c464d3c4bc893762daad7042d7b7bff5fe651b
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-04-30 17:23:15 +1000

    Annotated dispatch_operation as (allow-none)

commit d1ce6568c3531ef726976c76d30cef32f0eb5aa3
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-04-30 17:23:02 +1000

    Add TpChannelRequest to introspected classes

commit 8a5a43a71f3931139fbc0a867f852bb43284b323
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-04-30 17:16:13 +1000

    Fix up namespace for types and element-types
    
    Namespace is TelepathyGLib, not Tp

commit 9e2da8068f1b11af461afbeee8ca6b051167fc28
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-04-30 14:27:10 +1000

    Add TpBaseClient and TpSimpleObserver to introspection.am

commit 456d7d6b8ecb56c1f646748f3c16ed97aab9d013
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-04-29 15:38:27 +0100

    debug-internal: add more debug levels
    
    Fixes fd.o#27899
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit eadb24eb0d9d2299a1ea45f5b2155d32b87be8bb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-29 16:36:54 +0100

    fd.o #24689: document protocol structs' validity

commit 33823e022238472b924cdf122a493ce658622794
Merge: 56ab6b2 2017abc
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-29 16:26:03 +0200

    Merge branch 'simple-observer'

commit 56ab6b206699e4d89d4daedf32fcc0a7e43559b7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-29 15:02:04 +0200

    fix doc of channels in TpBaseClientClassObserveChannelsImpl

commit 2017abcde8b5872e6468bf290587fc21e317ba7d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-29 14:57:44 +0200

    add destroy property to TpSimpleObserver

commit 3c3c2fab044806977ed8149897a430d3c4a8e970
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-29 14:42:07 +0200

    tp_simple_observer_new: properly annotate the return type

commit e830354ac68c1ba719826c79bd0f6aa14b981589
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-29 14:37:19 +0200

    rename observe-channels-impl property to 'callback'

commit 8436b1a4cce1493830cca3e497e6d9de07a89f30
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-29 14:35:49 +0200

    improve code snippet showing how to use TpSimpleObserver

commit 1eb6a5e08e238390cf9e41b3c234a79377775b91
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-29 14:33:42 +0200

    fix doc of TpSimpleObserverObserveChannelsImpl

commit f7c88380b21f83cb30010064b4ec5dc40cf3bf8a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-28 15:32:17 +0200

    add reference to examples/client/media-observer.c in doc

commit 6f93a63e213c16ecfba3a0bd1b60a839d3c3e5c7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-28 15:08:36 +0200

    add examples/client/media-observer.c (fdo #24214)

commit 037007c767008ac15de2bc2cbc00df2ce2aaf7c6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-28 15:33:24 +0200

    base-client: add reference to TpSimpleObserver in doc

commit ac802166a57a80f378ae1041eb70b24f9b17a0b6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-28 15:26:03 +0200

    add simple-observer.h to telepathy-glib.h

commit 54f7698f953e704114adb5d9053c1ca9e27fa9d8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-27 16:34:06 +0200

    test TpSimpleObserver

commit 6fb45dde70d8fbea105c8bee821a2ee90dee678a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-27 16:33:30 +0200

    add simple-observer (fdo #27871)

commit 1227f955657d881170d77712f82c2b0ebbbcd113
Merge: 6c61741 535be57
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-29 14:09:54 +0200

    Merge branch 'base-client-25236'
    
    Conflicts:
    	docs/reference/Makefile.am
    	docs/reference/telepathy-glib.types

commit 535be579e2f3d9b164a52af359ac31512fadc666
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-29 13:59:48 +0200

    define TpBaseClient as an abstract type

commit 60bd89ee683fb7e0c1e00494e265012f0667cfec
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-29 13:57:46 +0200

    skip TpObserveChannelsContext:dbus-context: property from introspection

commit e6b012969e9f56035001f0f60c427c6fc3fe651c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-29 13:46:21 +0200

    tp_base_client_constructed: don't leak tp_escape_as_identifier result

commit 6c617414b9c935708e312b9bfe79a6431891313a
Merge: e8c0400 1493ce5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-29 11:43:54 +0100

    Merge branch 'trivia'
    
    Reviewed-by: Danielle Madeley <danielle.madeley@collabora.co.uk>

commit 1493ce504c362855088e2794efc2ddf13892964a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-29 11:40:34 +0100

    Annotate string vectors as GObject.Strv, not GLib.Strv
    
    The name "GStrv" is an invention of the GType system, and it's named
    accordingly in GObject-Introspection.

commit 931749d2e6cda27a93fbe927ef721911f92af5dd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-29 11:34:05 +0100

    docs: fail check if not all the <FILE>s are actually XIncluded
    
    This catches the error fixed in the previous commit.

commit 38ddb9cc1baba096dfbbb3ea3d5470b5008a82c5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-29 11:33:28 +0100

    docs: add some missing bindings to the HTML

commit d6c7acad335553c6d411ff4623da2ce657d0f070
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-29 11:33:13 +0100

    docs: don't scan proxy-introspectable.h
    
    Note that the bare filename is right, and _gen/proxy-introspectable.h
    wouldn't work here. Thtkdoc...

commit 2295ecc7e165cd9cbb64675522fcac830eedae35
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-29 11:31:16 +0100

    introspection.am: don't always delete and rebuild proxy-introspectable.h
    
    This caused TelepathyGLib-0.12.gir and TelepathyGLib-0.12.typelib to be
    rebuilt every time.

commit 336f6fb1833a46c23fa467242d37e0e8ea8625fd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-29 11:13:05 +0100

    docs: build the .types file automatically, and delete it from git

commit cdd04c9e1df567cc3228be004757e420567cc8c5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-29 09:10:11 +0200

    remove \n in DEBUG message

commit c884b30533a5c030eb24e84cdb88417a40bf06c4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-29 09:09:36 +0200

    improve TpBaseClientClassObserveChannelsImpl doc

commit 449f44cc84c538f60e73931e71d417616dbacac2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-28 15:52:49 +0200

    fix copyright headers

commit 30e319388d7f250d6150b8021eb8509064eabb3c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-28 15:50:37 +0200

    g_strfreev is NULL-safe, no need to check

commit 107e6f0395be14fc1c5464b390116d8248062955
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-28 15:49:38 +0200

    use g_clear_error

commit d22545488cafdef8d1053d0088b891d8debe48bb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-28 15:48:15 +0200

    no need to pass dbus-connection when creating a client object

commit e6a94a34ecd073ac24dfdc5e245015961c9cd701
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-28 15:46:35 +0200

    no need to check if dbus is not NULL, test_dbus_daemon_dup_or_die does it for us

commit 03f625a79541b06a115a41c9836aa926a8c8053d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-28 15:44:40 +0200

    skip tp_base_client_take_observer_filter from introspection

commit 0bf98ff49c371b5c52723a7d79339aaefef7c7b4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-28 15:11:11 +0200

    add base-client.h to telepathy-glib.h

commit d92c1a235e1b00ee331ffc32e914395a7e9f0839
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-28 15:02:27 +0200

    simple-client: check the objects we received from base-client

commit c1eef8f0dbf513688e25f861e4f96dce1d860b9d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-28 15:01:13 +0200

    ptr_array_to_list: fix for loop to properly iterate over the array

commit 4db53ff9533c49c9b29bc4f09d250813e678d8f0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-28 13:03:11 +0200

    TpBaseClientClassObserveChannelsImpl: rename self pointer to 'client' to fit documentation

commit b0c6a477dd450590ff40436e5983ad59174febb3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-28 13:00:10 +0200

    add observe-channels-context-internal.h to the list of ignored headers for doc

commit 7b8d450bed2eb391505a0b5bd7c1bac7cae23789
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-28 12:50:06 +0200

    test-base-client: remove Approver and Handler tests for now

commit 790531670baad55d83c003c5db06a1bde69273f0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-28 12:48:09 +0200

    base-client: remove Approver and Handler code for now
    
    We'll implement them post-merge.

commit 3503b82c51c949c4e6938b47942f9f69c3c02f9a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-28 12:35:51 +0200

    simple-client: always unref observe_ctx

commit 3556497c26fdc4417115ccbe517a3e692c795ca4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-28 12:18:18 +0200

    use test_object_new_static_class

commit 45df5e36979280351d6c7f5a6b04ce2d245579f5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-28 12:01:37 +0200

    test-base-client: use tp_base_client_get_{bus_name,object_path}

commit ed0770a15c3c1e88705b3416444aa54e0d702108
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-28 12:01:18 +0200

    add tp_base_client_get_bus_name and tp_base_client_get_object_path

commit 46deb177c07b519066cfda71e6ab86003ed40e8e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-28 11:24:11 +0200

    observe-channels-context: improve documentation

commit c71f643a8edd591dfa53b02b39d82aa3d1dd6ff4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-28 11:11:21 +0200

    raise NotImplemented error when disposing a context in the 'none' or 'delayed' state

commit 8d94ea2670a26de020477b04dfa6efa59486b896
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-28 10:56:41 +0200

    assert that observe_channels_impl has been defined when calling a tp_base_client_*_observer_* method

commit d1d5cab035489b89cc17592bff88c5e434cd53d7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-28 10:55:24 +0200

    cache TpBaseClientClassPrivate pointer in TpBaseClientClass

commit 255273b75e42460b7401dd08f55672f6733d1337
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-28 10:54:23 +0200

    comment out Handler and Approver D-Bus properties

commit 76676bfa61dc196299bcc821bc42b09312664bea
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-28 10:53:28 +0200

    tp_base_client_set_property: assert that priv->{dbus,name} are not set

commit 2ce0547a8fe4be8cad62afb7376c18afa0c40bb3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-28 10:52:07 +0200

    tp_base_client_register: don't raise a warning if tp_dbus_daemon_request_name failed
    
    Also split code building the object path of the client.

commit 1eec62e973bdf93274e93a0a5c0cc3f3ee893105
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-28 10:51:44 +0200

    base-client: improve documentation

commit 90f40fe8f25a976a103348afaf90c594cf66d1a8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-28 10:31:27 +0200

    add blank lines between cases

commit 44572b678a0e549dcb5392b813fa3b0632d00fb7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-28 09:46:53 +0200

    rename tp_observe_channels_context_get_recovering to tp_observe_channels_context_is_recovering

commit ace3c8a692929a0e0c099d5a1212456e1d8ade69
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-27 16:47:08 +0200

    allow tp_base_client_register to fail

commit b1695de0a78b956509955cd18044f9853c265ce1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-27 14:02:10 +0200

    annotate base-client

commit c2728db0216dd05be7f786da3ae6a8d235e0f659
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-26 15:29:29 +0200

    document TpObserveChannelsContext

commit 7d5d64fa49c10d150335c8d50d102df0d22c99a0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-26 14:58:13 +0200

    document TpBaseClient

commit 73ac083ac57798a5636e28154173462e1b496fdb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-27 12:28:11 +0200

    move TpObserveChannelsContextState to observe-channels-context-internal.h

commit f8f642a2086ed857b179df0938a7c12d8c8f8856
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-27 11:41:10 +0200

    base-client: assert that mandatory properties have been set

commit 9d7296886c8e5674dc38919fa2bab6c35f418ff9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-27 11:05:02 +0200

    sort #include

commit b1c173768cc1065d2a86135e66a1a2d52ae59c7d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-27 11:00:20 +0200

    use g_ptr_array_sized_new/g_ptr_array_set_free_func rather than g_ptr_array_new_with_free_func

commit 79443cb953f732b747ad1ecdbb29f96afcd97f47
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-27 10:54:45 +0200

    fix comment describing dispatch_operation
    
    Also describe requests array.

commit c85930f040d2d96e9a60affa12fed905d9ed6d28
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-27 10:51:37 +0200

    rename klass to cls

commit ea3b527805cbfe774171a192d600cdc1af044095
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-27 10:34:50 +0200

    raise a D-Bus error if subclass didn't accept/delay/fail the context

commit 782926b85c8ff0a6724e4c51f0d14ad57bbfa959
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-27 10:18:08 +0200

    improve debug msg if ObserveChannels isn't implemented

commit 9b9e61319e161c6974f188369a47869fa401ace4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-27 10:15:07 +0200

    remove useless ';' when calling g_type_add_class_private

commit 698ef126132da987f20de11bc837ea48e7516a70
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-27 10:11:25 +0200

    check state of the context when accepting/failing/delaying
    
    Also set dbus_context to NULL once we return as it's freed by dbus-glib.

commit d8ab95e6673f29019f9192a45565533a3b365b6e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-27 10:06:53 +0200

    'dbus-context' has to be write-only

commit 586e910f3086a2bc5942f1e5af2bb8116b1fe7eb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-27 10:02:40 +0200

    Use syntactically object paths

commit 145b90508703c62ca8cf3074d3952bc711875e21
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-27 10:00:49 +0200

    rename test_basis to test_basics

commit 8d166a1673cea674b88ce282b0f81461ebdace28
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-26 15:34:42 +0200

    Make tp_observe_channels_context_prepare_{async,finish} internals
    
    They are not meant to be used outside of base-client.

commit 9304910b7de00d4b6e24ccf140e12f5c71657721
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-26 13:41:07 +0200

    Disable Approver and Handler support for now

commit 350e7a5ed313db9c684ef7cdf26bf0c87ee707dc
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-26 12:26:35 +0200

    rename TpBaseClientContextState to TpObserveChannelsContextState

commit e3b651768e671f5910815fb23e1807f2e8e3d690
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-26 12:18:49 +0200

    rename base-client-context* to observe-channels-context*
    
    Each context will have its own file and object.

commit 227dc04a35aa42c78bbd00464fce72c3cfd9724a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-26 11:52:53 +0200

    prepare the channels before considering the context as ready

commit 44132805d836f81ff120b03027d0e9b288b38467
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-26 11:40:43 +0200

    re-test ObserveChannels failing

commit f4e7ad5b4254258ae919e9a517f9ab1773bb4449
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-26 11:40:06 +0200

    simple-client: raise an error if observer info contains a 'FAIL' property
    
    This give us a chance to test tp_observe_channels_context_fail.

commit 5d07852041a56c3dfc8aa0d487011fbfdeaf50d0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-23 16:39:47 +0200

    simplify teardown()
    
    That's not a dispose function so there is no point to check if objects that we
    allocated in setup() are NULL or not.

commit a34277411a5403d727b815b7906d40846350c5e0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-23 16:36:54 +0200

    test-base-client: re-enable test of ObserveChannels

commit 99b3c9293cb5fbecd9513f8b90ea27cb7b45c07d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-23 16:35:44 +0200

    raise error if there is no channel to observe

commit 7f8406360c03831f5e1587dd6993bf64dc925945
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-23 15:42:56 +0200

    prepare the connection before considering the context as ready

commit 411b29b269f4f46b20aaa82899d88d09ce99aed1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-23 13:37:28 +0200

    prepare the account before considering the context as ready

commit a0130f2b233e32cfb4cf9b92c8f768838e64b8e4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-23 09:32:51 +0200

    Wait that TpObserveChannelsContext is prepared before calling the implementation callback

commit bb8a47b4f347d024f1650990ea7083e0e8c3c50b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-23 09:31:59 +0200

    add tp_observe_channels_context_prepare_{async,finish}

commit bb0526c7b64c4ebe284f10039f609a2fa152ff93
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-22 17:32:26 +0200

    pass all the objects from ObserverChannels to TpObserveChannelsContext
    
    Also move _TpObserveChannelsContext to base-client-context-internal.h so
    base-client would be able to use the when calling the actual implementation.

commit 0fd4bf6786bc86c6640936dd2e387bb9b57951ed
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-22 15:56:48 +0200

    change TpBaseClientClassObserveChannelsImpl to a more high level API

commit a444afeec8d2b9a11998b9089e292bcda3def17a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-22 15:47:04 +0200

    disable test of ObserveChannels for now

commit 334c65f69661848391094b8eb96601a90ca4cbc5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-22 14:30:51 +0200

    bump glib dep to 2.24
    
    We need it for g_type_add_class_private.

commit b99bbb45545b1e6b972f0999027238f582d667ff
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-22 14:27:52 +0200

    add padding to _TpBaseClientClass

commit a3a98f0d1a5316aee1255d6dc0a60419cbc0d8c4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-22 14:25:13 +0200

    use tp_dbus_daemon_register_object to register the client

commit 7bb08ed601f2100b48c9e886db37ad2dd4b091f4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-22 14:15:09 +0200

    add tp_observe_channels_context_delay

commit 157a86b9802f231a1993568d604410b5599c2765
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-22 14:11:23 +0200

    prefix tp_observe_channels_context_new with a '_'
    
    That's an internal function.

commit bc87ad320c6e4a4ed76793640172040967e5235d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-22 14:08:54 +0200

    check that ObserveChannels implementation changed the state of the ctx

commit 3549eae6cbfa280388e8e45f8ecae78c46f47248
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-22 14:08:24 +0200

    TpObserveChannelsContext: add state

commit acc0a46a7bccb2f0297454d4bd594320a02e1eb2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-22 12:45:17 +0200

    test-base-client: free test->error

commit 320280b898a5079dc36afdc0833c529aedbcfaba
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-22 12:43:48 +0200

    properly free filters and caps

commit 0a79b59c2abc6b84f74b2575b1efeb6521eebf29
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-22 11:27:51 +0200

    test if ObserverChannels is properly called

commit 3fb85f960c974ee953cdd92e75457927166ce860
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-22 11:26:33 +0200

    simple-client: implement ObserveChannels
    
    Also expose the ObserveChannels context to we can test it.

commit 597bcbf8f00317df0c15e531a336e40853437101
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-22 11:20:57 +0200

    add API to allow subclass of TpBaseClient to implement ObserveChannels

commit 46574df44da3b044e241ce1a531956ea216e446e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-22 11:17:14 +0200

    add base-client-context implementing TpObserveChannelsContext

commit 3eb03a95e1d8db847fc85afa4e1fdb5d956c9649
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-21 16:02:07 +0200

    remove tp_base_client_new
    
    TpBaseClient is meant to be subclassed so this helper doesn't really makes
    sense.

commit 9f5af285a36b3c41c26330b1f37f13e45bb63db5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-21 15:55:15 +0200

    instantiate a SimpleClient in tests

commit e2a53230ba9b7563aa10858d94faac0afab089b5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-21 15:54:35 +0200

    add simple-client, a simple subclass of TpBaseClient for tests

commit 73b453cb89778ce6160e7d2eb149e4ff4c53b2d9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-21 15:47:01 +0200

    move _TpBaseClient(Class) to header so we can subclass

commit 3523ddcb06c0d376ece5ce6bc0b7148cb67399ff
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-21 15:25:05 +0200

    test: make calls to methods
    
    Most of the methods are not implemented yet.

commit 97d11cc2d127b713cca4157fc7c24a7ccea364ce
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-21 14:29:58 +0200

    test Client.Interface.Requests properties

commit 1e4e56d6ab2cd83e5ee376ea8130cc902f942ae9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-21 14:14:20 +0200

    test Handler properties

commit b24c28a7e9a6a541aab023beaf5207258df1efd4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-21 14:01:25 +0200

    test Approver properties

commit 5fdd04080214249bec5f395261fdb0b48bbc3aca
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-21 13:44:11 +0200

    test Observer properties

commit c0240a9f2d02125c49d1f6e29b12a3a48ab77456
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-21 11:21:40 +0200

    test tp_base_client_register

commit 315db5d558f99b2c58b715f2acbd7fbdeeaa40a7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-21 11:20:48 +0200

    implement tp_base_client_register

commit 86419f97ea1e10339da89dd881ae9d999319d6a3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-21 11:33:55 +0200

    add 'client' debug domain

commit 75287d1eb28ac78781e1def1361e5f08103fe1ad
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-20 16:45:45 +0200

    add tests/dbus/base-client.c

commit a6d14ec4edbd017480e4a21f0f919e221fc92035
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-22 14:12:29 +0200

    Add TpBaseClient (fdo #25236)
    
    This could be used on its own, or to implement TpSimpleHandler, or
    to implement a more elaborate Client.

commit e8c0400634faea5afe75397dd20b96555c2d2a63
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-28 19:42:16 +0100

    Nano version / add missing GLib 2.24 dependency to previous NEWS

commit c7fb2968063379f0d1cdffb09e843bc233fa9f7c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-28 18:15:54 +0100

    Prepare version 0.11.4

commit 192e4567268c7290e0a5d771068697c7cfdf2596
Merge: b415637 e9f2f74
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-28 17:53:07 +0100

    Merge branch 'conn-errors'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit b4156376dfb0ddffe41d185a6afc6ebe3020db15
Merge: 53a90b9 3f06257
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-28 17:51:39 +0100

    Merge branch 'telepathy-glib-0.10'
    
    Conflicts:
    	NEWS
    	configure.ac

commit 3f06257240e0e2b4679ea7d79f86973719843fd6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-28 17:48:18 +0100

    Nano version

commit 0f370571873e4ad93d880e9106cd9f5e96b7a42e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-28 17:45:49 +0100

    Prepare version 0.10.5

commit 53a90b95c64d5ca471fd14b7fca7fb6b396ddb53
Merge: d6466c3 3c9c8e1
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-04-28 14:38:17 +0100

    Merge branch 'telepathy-glib-0.10'

commit d6466c37a1606ecdaea76cf67962b6b74edb920a
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-04-28 23:22:07 +1000

    Explicitly state reference ownership for tp_am_create_account_finish()
    
    Also update annotation to (transfer none)

commit 3c9c8e11b8a24d81a8379e86eddee3080fd746a5
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-04-28 14:10:32 +0100

    Remove unused lookup of contacts mixin class.

commit d3b58889c0f5a38965f6f3a0c8b39506ca886683
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-04-28 14:02:16 +0100

    Echo example: remove an unused return.
    
    This was upsetting Coverity, because we were assigning to chan but not
    using it. I think removing the return entirely is clearer, anyway.

commit 3c936a7591f346db6a583fe21e9bf96c494d0f5d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-28 13:08:05 +0100

    Clean up .gir and .typelib files in `make clean`
    
    Reviewed-by: Sjoerd Simons <sjoerd.simons@collabora.co.uk>

commit 1afeb07da84ffc4a90dc1acdfbd2c728b6c04a83
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-28 13:00:10 +0100

    Use $(srcdir) where needed to build out of tree
    
    (Adjusted to apply on current g-i branch -smcv)
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit a81dfe305ffd94817ad6dad427a5337fb32dc02d
Merge: 62a5ccb b96ffcd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-28 12:49:39 +0100

    Merge branch 'gobject-introspection'
    
    Acked-by: Danielle Madeley <danielle.madeley@collabora.co.uk>
    Reviewed-by: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
    Conflicts:
    	NEWS

commit b96ffcdbd823486d9e64327f68f7735e37bb514a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-28 12:42:02 +0100

    Annotate tp_connection_get_avatar_requirements with (transfer none)

commit ce5f8aa9ff9f7787d5a51af49eb5abdbc9286388
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-28 12:40:35 +0100

    Update NEWS and README regarding introspection support

commit 7024b3f59519399aa2a4b9f7971d18d241015448
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-04-26 13:31:45 +1000

    Work around GObject-Introspection bug #616815
    
    GStrv doesn't seem to be introspected correctly. This particular use of GStrv
    stops the GIR from compiling.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=616815

commit 850771a76432b20a3e5e273226882aadd0ce0866
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-23 16:50:19 +0100

    Fix references to Makefile.am that should now be introspection.am

commit b6d870b1e9f2e7e24c05aabb1a46644fa42b6a47
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-23 16:49:43 +0100

    Fix dependencies on Makefile.am that should be codegen.am

commit e9dc1be04d03551bcbd04923fb78b354c23f5ca1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-23 16:49:33 +0100

    Fix dependencies on Makefile.am that should be abi.am

commit c7305bad658ee527a90b4402e55531beae6475a6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-23 16:43:47 +0100

    Quieten the GObject-Introspection process

commit 4fc97a876796624ff3249ef746b5ecc03f3873af
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-23 16:35:00 +0100

    Only try to do GObject-Introspection if we have the tools for it

commit 62a5ccb2185c2c640d34d1ce52f3d5b6eed67940
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-28 12:40:52 +0200

    import selinux leak supp from gabble

commit 68faa87f13656bad019aa403405d9d32efb3d3ac
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-23 16:02:26 +0100

    TelepathyGLib-0.12.gir: remember to depend on the files we're introspecting

commit 9d0611c09a9b7923dd9d063e41abe6137064985d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-23 15:45:08 +0100

    Ignore the generated .gir and .typelib files from GObject-Introspection

commit c1d626f1249d9b822d1b45571a1e9acade3a3904
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-23 15:44:15 +0100

    Divide extra_dist between Makefile.am fragments

commit 23f612bd3fdeb914460a37323aea5f63632b8027
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-23 15:43:58 +0100

    Split out telepathy-glib/abi.am from Makefile.am

commit 1f184ab693288a4294e19fa55c2ae0e99210e13f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-23 15:35:04 +0100

    Split out introspection into telepathy-glib/introspection.am

commit 0b9e40d1c0351c4ca2f53d3d5e2796e95fc356ca
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-23 15:33:04 +0100

    Split out code generation into telepathy-glib/codegen.am
    
    Makefile.am was getting quite large.

commit 76b2e01273c5abf84183117e72efbb4f79d3aa52
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-04-23 13:55:04 +1000

    Skip all tp_asv_* functions

commit 3e4641eb1f3473061357aa72851116e18e8be338
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-04-23 13:10:57 +1000

    Skip remaining deprecated API

commit edeab558d6aef924a268e00eeadf8b847f431a69
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-04-22 23:15:07 +1000

    Work around GNOME Introspection bug #616375

commit e08949b37276142e06bc5b01fad78ed74634623d
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-04-21 18:28:18 +1000

    Remove DBusGLib-1.0.gir requirement
    
    No one has DBusGLib-1.0.gir, it doesn't ship. It's not at all crucial for
    tp-glib, you can do everything you need to do with a TpDBusDaemon. This patch
    removes the requirement for it and (skip)s any functions that pass dbus-glib
    types as parameters or returns.
    
    This currently breaks the build due to
    https://bugzilla.gnome.org/show_bug.cgi?id=616375 -- which makes it impossible
    to skip a GObject property, and thus one mention of DBusGConnection appears in
    the GIR. You can remove this by hand and rerun 'make' and things will be fine.

commit d53dce35bd40980ccae5d12bf4fef776c1c2e123
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-04-15 17:49:11 +1000

    Annotate TpContact

commit 616de3ed2069bf61629390df6b8f41a478fdb37d
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-04-15 13:37:48 +1000

    Annotate TpConnectionManager

commit e39331b3e1aad4ad9df768fda77bc53968d5fb7f
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-04-15 11:50:24 +1000

    Annotate TpConnection

commit b510ee3891e7d10c5e07c41aa9d309e5253bb14c
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-04-15 12:01:07 +1000

    Annotate TpChannel

commit d37748a9072573bfc1af90d3d839abf5e5107ca0
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-04-15 11:57:45 +1000

    Annotate TpAccount and TpAccountManager

commit 5c830fcc97a3564ee7a57372053358ae31e64257
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-27 15:44:53 +0100

    TpChannel: map most TP_ERRORS_REMOVED_FROM_GROUP errors into TP_ERRORS
    
    This reduces the number of errors that typical code will see, at the cost
    of changing TpChannel's observed behaviour.

commit fa2a9a03e55ac833ed05779009de40c528981914
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-26 16:06:04 +0100

    cli-group test: assert that any known error names in "error" are used

commit ae180225dee13397bc81b4ad09d14cbb38a323d6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-26 16:34:04 +0100

    fd.o #23369: TpChannel: if the CM gives us a recognized error name, use it for invalidation
    
    More specifically: if "error" is present in MembersChangedDetailed, *and* it
    can be mapped to a GError domain and code, use that domain and code as
    the invalidation reason. If it's absent or would be mapped to
    TP_DBUS_ERROR_REMOTE_ERROR, continue to use TP_ERRORS_REMOVED_FROM_GROUP
    as the invalidation reason.

commit e9f2f749a19c1e1de3eb0492e612b6cb17ce742a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-27 15:14:45 +0100

    Test error behaviour on an unrecognised ConnectionError

commit 51db59b2e72ac35a70ce23e451c761f829502632
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-27 14:09:46 +0100

    Convert connection-error test to GTest

commit 57a56421438dfab88927d3a0e3f0abaa4f7c4c7c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-27 13:59:52 +0100

    connection-error test: factor out more setup/teardown

commit 07ff63a3ac5a1b9091b1970d62556b3a2ad905f5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-27 13:54:37 +0100

    connection-error test: partially factor out setup, teardown

commit 8fac0077eba05abcef273e3c5608cb0c25fd54c2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-27 13:50:21 +0100

    fd.o #23369: TpConnection: don't use ConnectionError for invalidation if not understood
    
    If ConnectionError can be mapped to a GError domain and code, use that domain
    and code as the invalidation reason as before.
    
    However, if it would be mapped to TP_DBUS_ERROR_REMOTE_ERROR,
    we now choose the error for TpProxy::invalidated based on the
    Connection_Status_Reason, as if ConnectionError had not been emitted -
    this gives better invalidation reasons for connections that emit an
    implementation-specific ConnectionError that we don't actually
    understand.

commit 6ab958b659ea950b5019764a479e47a3c30a59f1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-27 13:36:04 +0100

    Exercise tp_connection_get_detailed_error
    
    connection-error tests the ConnectionError case, connection tests the
    guess-from-GError case.

commit fbc9c4687c894987d404c10bb08b2cd9e2f6f5f6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-27 13:25:08 +0100

    tp_connection_get_detailed_error: add accessor for ConnectionError
    
    This will make it easy to add ConnectionError, ConnectionErrorDetails to
    Account instances (spec bug: fd.o #21200).

commit ce7cc4f96e8d5c9c380b429987da985726d4dd66
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-27 13:23:54 +0100

    TpConnection: remember full error details and convert to a GError later

commit 24bd0698321d8e5b784a77517174962ca6e938af
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-27 13:21:59 +0100

    TpConnection: document current status of TP_ERRORS_DISCONNECTED

commit a851f4562648a80740443987b914eb091fe6574a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-27 13:21:29 +0100

    fd.o #23369: TpBaseConnection: when terminating a connection with GError, do a more elaborate mapping
    
    Recent telepathy-spec has more errors we can use here.

commit a938364f95ed3e36ff1f10d7a797c692f2bd12bd
Merge: c1bf74e 5414276
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-27 15:59:50 +0100

    Merge branch 'valgrind'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit 5414276bdb61e06029b6fdf355a56716d1b76a5c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-23 14:36:40 +0100

    Another suppression

commit c78e2398028fc36dff350353e0c456fc803e361b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-23 14:36:35 +0100

    Use test_object_new_static_class more

commit 47196caf12fc0a667c21ce41197b0ca3036fc9a4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-22 17:39:38 +0100

    Add a more questionable suppression
    
    We don't, in practice, create dynamic types whose classes can be unreffed,
    so any "leak" resulting from reffing a class is extremely likely to be
    spurious.

commit e00de1cc2f3e30759d00765e8510a0b92f2c3177
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-08 16:07:48 +0100

    tests: add a g_object_new wrapper whose calls to g_type_class_ref can safely be ignored in valgrind

commit 4a868565d38213ed053b70659f402680aa21987a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-08 16:07:21 +0100

    Add a suppressions file for test code (mostly tests/lib)

commit 90aa8f6657b5d8991a9c1731139f110201ee33db
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-27 15:53:21 +0100

    Various tests: spin until pending things have happened before exiting
    
    This avoids a TpProxy on which methods have been called being "leaked"
    because there are still calls in progress.

commit 308c868ef84a27791a2ccb10a20235ab58f483c2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-22 17:38:46 +0100

    Add various non-leaks to telepathy-glib.supp

commit 4a45d1c6980c5770981dd992574893a6e3ca5b45
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-22 17:33:03 +0100

    GObject pseudo-leak suppression

commit c1bf74e8da66f63805e900b445cf83e2ebde5a8f
Merge: caefb86 627b055
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-27 11:15:23 +0100

    Merge branch 'trivia'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit 627b055932604bfc726f9f5b9af74df59873f964
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-22 17:48:01 +0100

    connection test: correctly 0-terminate array of features

commit 65de22b8e1b1ba4f4a50f18a9492e458e596fce3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-27 11:12:13 +0100

    tp_value_array_unpack: use a const string pointer in the example
    
    This hopefully makes it a little more obvious that it isn't like
    g_object_get, even if you're reading the example and ignoring the docs :-)

commit caefb866aa9d83be5bdb88e7d357a3e5d0ebf011
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-26 12:02:30 +0100

    Update NEWS for 0.11.x

commit 37598b82fd10131c0792587f4fcd054eeac482f5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-26 11:56:26 +0100

    tests/dbus/account.c: use tp_proxy_prepare_async consistently

commit 9cfcdc1921ac10d0727cc60011e4075b07a2cbd2
Merge: 16fd5d5 ee2120c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-26 11:36:33 +0100

    Merge branch 'telepathy-glib-0.10'
    
    Conflicts:
    	telepathy-glib/account.c
    	telepathy-glib/connection.c

commit ee2120c7d73bb2f56ca67d08a12b19e0953ab76b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-26 11:33:42 +0100

    Update NEWS for 0.10.x

commit 48821e7945f1d9e4d944fc4fc4e4da591d1562ed
Merge: 207ef39 f839d38
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-26 11:30:44 +0100

    Merge branch '010-account-notify' into telepathy-glib-0.10
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit 207ef395390ac9eb04b2c9b66b39882e344e29c3
Merge: a7bf4d0 cffca22
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-26 11:29:52 +0100

    Merge branch 'telepathy-glib-0.8' into telepathy-glib-0.10
    
    Conflicts:
    	NEWS

commit cffca224e7b88cd5b77caa3ec1fcc7ae9024b779
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-26 11:27:53 +0100

    Update NEWS

commit 97ae0dea3670c2d1d3eaa7441e6905c8f6ad64a1
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-04-15 11:32:20 +1000

    Annotate TpProxy

commit 28d0914551e3ca750a9cce267c6e53bab03bd1fe
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2009-10-26 14:23:45 +1100

    Initial work on generating gobject-introspection

commit f839d38bd373a75630df593bb8ef47abc0d0c79d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-23 19:23:26 +0100

    Test TpAccount's connection property, and in particular notify::connection

commit e201f722735d0540cea271842bd51f0a6509eb80
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-23 18:16:18 +0100

    account test: test various simple C accessors

commit 4d3e0713ce1e00d42ee279a733115aca9befcd23
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-22 15:23:20 +0100

    TpAccount: don't notify::connection unless something actually changed
    
    Also, change connection_object_path if someone staples on a connection
    using tp_account_ensure_connection().

commit 514edf719f95731c1e32aea21fa4f9a169b985ad
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-22 15:11:45 +0100

    fd.o #27780: TpAccount: when Connection may have changed, emit notify::connection
    
    TpAccount doesn't automatically create a new TpConnection when the
    connection_object_path member changes, only when someone actually asks
    for it.
    
    This has the surprising effect that notify::connection isn't
    emitted when the object path is first discovered.
    
    Note that this may result in too many signal emissions: we'll emit
    notify::connection even if the result of getting the connection property
    hasn't, in fact, changed. However, it's the simplest possible fix.

commit 367a986a2aea33ca7934e006cad1eda222912a89
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-23 19:21:46 +0100

    TpAccount: don't leak the parameters

commit 7b660fb4958fe76ab27ab4e92fde253a609760b8
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-04-23 15:18:57 +0100

    Treat missing/invalid ContactAttributeInterfaces as []
    
    Previously, you could have a ready TpConnection with
    priv->contact_attribute_interfaces == NULL; however, contact.c asserts
    that it's non-NULL in various places.
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit 16fd5d56637006b6a07d0c799322e012d99fc2a9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-23 15:23:16 +0200

    test-account: use newer API's

commit 099bd264f5084e5bd81838aaeebdacc6e637fd8e
Merge: 8a91d61 a7bf4d0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-23 15:31:00 +0200

    Merge branch 'telepathy-glib-0.10' into telepathy-glib-master-2
    
    Conflicts:
    	tests/dbus/account.c

commit a7bf4d09d89e5883b69b6da434f1f42534a24278
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-23 12:00:15 +0200

    test preparing TP_ACCOUNT_FEATURE_CORE

commit 0bd396567dffd1ec865f1fed0d8cf3ffd15869cd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-23 11:58:11 +0200

    add SimpleAccount for test purposes (fdo #27794)
    
    It only implements D-Bus properties for now as that's enough to prepare
    TP_ACCOUNT_FEATURE_CORE.

commit 86e7114291505394c3224e6cb410c6c0979a1c64
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-23 14:51:46 +0200

    tests/README: document how to run a single test

commit 8a91d61c933e4d2b27f317dedad9280f8d055fe0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-23 14:51:46 +0200

    tests/README: document how to run a single test

commit 4038946b9d28fbb40c9c7621b79268fcaa400a9d
Merge: 7de20c5 cbf0212
Author: Xavier Claessens <xclaesse@gmail.com>
Date:   2010-04-22 19:55:36 +0200

    Merge branch 'avatar-requirements'

commit cbf02120f1a88d626b71dedb8f4431a406d53507
Author: Xavier Claessens <xclaesse@gmail.com>
Date:   2010-04-21 11:35:56 +0200

    Add AVATAR_REQUIREMENTS feature on TpConnection with API to access it

commit 7de20c5649a3de200d17bf49ee639f278af7dc64
Merge: b501ca8 3df935c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-21 19:08:55 +0100

    Merge branch 'null-ident'
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

commit b501ca8f388716017f12f8c8e5baa799e6a01521
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-20 19:03:23 +0100

    Nano version

commit 49fcaecfdfb03c5aa8f5fd79eac4be0d7bfb25a3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-20 16:11:39 +0100

    Prepare version 0.11.3

commit 26999c1619c494d2506e086d0f014b34984ce29c
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-04-19 13:25:51 +0100

    tools/glib-interfaces-gen.py: add automatic string constant generation for TP_TOKEN_*
    
    Generate code for "contact-attribute" and "tp:hct" elements (ignoring
    "is-family=yes" matching elements for the latter) creating constant of the form
    TP_TOKEN_${INTERFACE}_${TOKEN}
    
    gtk-doc: add TP_TOKEN_* to docs/reference/telepathy-glib-sections.txt
    
    Closes fdo#26211
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit a98e30303b5e7ebaf2753f3ea11e62ab826430ed
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-20 15:47:18 +0100

    Add TP_CONTACT_FEATURE_LOCATION to the appropriate old entry in NEWS

commit f9dc7cc6b6df6a91a35a4ab400b1745d9883338f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-20 15:46:11 +0100

    Add/update version annotations

commit 9a041e7c98c20aeb6802d9fac00f88df353be6f0
Merge: 9f8d37e f0ed65d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-20 15:35:12 +0100

    Merge branch 'telepathy-glib-0.10'
    
    Conflicts:
    	NEWS
    	configure.ac
    	telepathy-glib/util.c

commit f0ed65d631e325a1344cfccace815535cefa04a7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-20 15:33:17 +0100

    Nano version

commit fcb2ce6e6529c21028ca8d50f27761691c5138fb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-20 15:25:06 +0100

    Prepare version 0.10.4

commit 0fc248360683f3755c093433f1103af35fcb7461
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-20 13:14:06 +0100

    Update NEWS

commit efa2cfaf3c30a4425e3bf87e0a3f14dffd097e18
Merge: bbd3d16 d843931
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-20 13:13:39 +0100

    Merge branch 'telepathy-glib-0.8' into telepathy-glib-0.10

commit d8439319d0ea50ba29b0126a8c6574b817ad7836
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-20 12:59:17 +0100

    Update NEWS with a cherry-picked patch

commit 84eea5f0f6c7e3f254b67bc9035eddbdaf0bb412
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-20 11:24:42 +0200

    connection_got_contact_attributes: don't display debug message if an error occured
    
    If something went wrong attributes is NULL so we can't call g_hash_table_size
    on it (fdo #27537).
    (cherry picked from commit 64e610011db5ddb8a9b1b4152bc19034777c1a54)

commit bbd3d16eb2d2d2fc3a343e5b64ce833484de65f3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-19 12:28:22 +0100

    Document tp_g_signal_connect_object better
    (cherry picked from commit 55aeaa6557d16f642f19d7cdc2d79f60a34dde63)

commit d82d50567bda4f74e97d0f20909d1626084fba7c
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2010-04-17 03:43:15 -0500

    tp_g_signal_connect_object: Support the G_CONNECT_AFTER flag.
    (cherry picked from commit ab3f9568ceb8c2969042ea9a4d2e494f38c503c9)

commit 9f8d37e6ed180f3a6082ffaacd15aa058da3b795
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-20 12:29:40 +0100

    Adjust gtk-doc for TpConnectionManager's accompanying boxed types
    
    Reviewed-by: Danielle Madeley <danielle.madeley@collabora.co.uk>

commit 8e73d1758305457c79e850879d524e07206eaa9b
Merge: 5a9a100 eb9d56f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-20 12:24:30 +0100

    Merge branch 'dbus-daemon'
    
    Reviewed-by: Danielle Madeley <danielle.madeley@collabora.co.uk>

commit 5a9a100f6f527970fc1deb11f0aab0caf7bac939
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-04-17 10:47:31 +1000

    Add boxed types for TpConnectionManagerProtocol and TpConnectionManagerParam
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 6f0a86973a982e42f175c8c1a6245cb469c853bb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-20 11:06:18 +0200

    contact: start slow path only if iface is not supported by Contacts (fdo#27695)

commit 64e610011db5ddb8a9b1b4152bc19034777c1a54
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-20 11:24:42 +0200

    connection_got_contact_attributes: don't display debug message if an error occured
    
    If something went wrong attributes is NULL so we can't call g_hash_table_size
    on it (fdo #27537).

commit 0e7cc55f30625a54d5bf33e7ca01c7c30dbf3f53
Merge: 7ecaf09 55aeaa6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-20 11:10:52 +0100

    Merge branch 'g-connect-after'
    
    Reviewed-by: Mike Ruprecht <cmaiku@gmail.com>

commit eb9d56f8dd7658e6c50ee10286a22d32599ae929
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-08 15:54:11 +0100

    channel-request, channel-dispatch-operation tests; don't work around fd.o #5688
    
    We now depend on a new enough dbus-glib to not have this bug.

commit 9674b61c4a5f84e2d5393351f2cbdc3a7000c50b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-19 17:40:47 +0100

    Use tp_dbus_daemon_register_object to export objects in tests

commit 1ba295688e1bb4773cd4438b38c4296677da27c3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-19 17:40:17 +0100

    Use tp_dbus_daemon_register_object in examples
    
    This also fixes a reference leak in ExampleCallStream's constructed().

commit f0e97846fff0d92d9901fece9cc76f8b61d6e672
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-19 17:38:35 +0100

    Use tp_dbus_daemon_register_object in the library

commit 629216d9a7b5bbdad4ab78c6fd76140d725b9579
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-19 17:38:07 +0100

    tp_dbus_daemon_register_object, tp_dbus_daemon_unregister_object: add
    
    Not having to extract the DBusGConnection from the TpDBusDaemon turns out
    to be a significant win in terms of amount of code.

commit 59f88dcd28bac12d7bbe9a90c63e880a2e65612b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-19 17:44:11 +0100

    TpBaseConnection: have a TpDBusDaemon as API

commit a7cfccca4e41e416a4f2e7423330e95b44b3f7ed
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-19 17:43:48 +0100

    TpBaseConnectionManager: have a TpDBusDaemon

commit 55aeaa6557d16f642f19d7cdc2d79f60a34dde63
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-19 12:28:22 +0100

    Document tp_g_signal_connect_object better

commit 7ecaf0930b898b645febec096f80e945b8a4bfb6
Merge: 2270939 65c7936
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-19 12:16:49 +0100

    Merge branch 'boxed-intset'
    
    Reviewed-by: Danielle Madeley <danielle.madeley@collabora.co.uk>

commit ab3f9568ceb8c2969042ea9a4d2e494f38c503c9
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2010-04-17 03:43:15 -0500

    tp_g_signal_connect_object: Support the G_CONNECT_AFTER flag.

commit 65c7936fc5a236b4cf6e50bb4251cdd1ced790e3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-16 14:28:44 +0100

    Move TpIntSet docs into the implementation

commit 542ca484043dcab0563bd6b5d85f1814a8ac309d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-16 14:26:37 +0100

    Valgrind suppressions: ignore g_type_init_with_debug_flags
    
    g_type_init is inline in newer GLib, so it's not in stack traces any
    more. With this suppression, the intset test is valgrind-clean again.

commit b03279811529e9191c488a3c5022e7990471688e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-16 14:25:56 +0100

    intset test: explicitly NULL all the pointers to give valgrind better clues

commit be470ac84a32816274af3425b9108e3c178925e4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-16 14:20:43 +0100

    Register TpIntSet as a boxed type

commit 22709391d4d12bcbd49769972304fcf0bcd3623c
Merge: f1c5a9c 946cf8b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-16 13:42:53 +0100

    Merge branch 'caps-crash-27686'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit 946cf8b2c21d0bc5af669b3f83c0c06e3c1df0a4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-16 13:41:10 +0100

    Simplify "no requests" path for TP_CONNECTION_FEATURE_CAPABILITIES

commit c4367ef72d80d6bdd26396edae4e37b000df447f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-16 14:35:51 +0200

    Set an empty set of TpCapabilities if the connection doesn't support Requests
    
    If the connection doesn't have Requests, then there is nothing you can pass to
    CreateChannel/EnsureChannel, so by definition the set of requestable channel
    classes is empty.

commit bec2295c082ce98ed4de23779c8ddc6dbf2689db
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-16 13:30:27 +0100

    If RequestableChannelClasses makes no sense, claim CAPABILITIES worked anyway, with no capabilities
    
    Rationale: Requests is mandatory; if your connection manager is old enough
    not to have it, then there's nothing you can successfully pass to
    CreateChannel or EnsureChannel, so by the definition of
    RequestableChannelClasses, there aren't any.

commit 886da3f151dec0b28dd90f5ed97d6578ff3e2bea
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-16 13:28:14 +0100

    Test _tp_capabilities_new (NULL, ?)

commit eea9fecdc168f7372b97cde462c0ade7cdbb17cc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-16 13:25:16 +0100

    TpCapabilities: cope gracefully with being constructed with classes=NULL

commit d98380c44ec079d858bbf66f0b298c78dca0d76f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-16 13:24:45 +0100

    TpCapabilities: make the constructor more const-correct

commit f1c5a9cf6dfe8960c06fdde48efcd12ea7042d5f
Merge: 92ace0f 46b9d9a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-16 13:07:29 +0100

    Merge branch 'spec'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit 61e26bcb3cd3290128a174447198b049f379b22d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-16 12:32:30 +0200

    add regression test for fdo #27686

commit 03220d5f92836c156d26a3a9e98b3d61808fb4ff
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-16 12:32:07 +0200

    contacts-conn: add CM not supporting Requests and ContactCapabilities

commit c8b799af142472ae45b7f2c683095ad0ec99752e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-16 12:30:10 +0200

    connection_capabilities_prepare_cb: check if capabilities feature has actually be prepared
    
    TP_CONNECTION_FEATURE_CAPABILITIES is not a core feature so
    tp_proxy_prepare_finish can succeed even if it hasn't be prepared (fdo #27686).

commit 46b9d9a4e93086f3335aa173f87515cc9355aa9e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-15 22:31:22 +0100

    Generate code for ContactInfo

commit 70abd9c6a8e1fc0d1d3c5893653366a819fab22a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-15 22:15:22 +0100

    Update spec to 0.19.5 instead (correct codegen for Contact_Info_Flags)

commit 4209eecdb536dc92f831020ad3504537103f7a7f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-15 21:53:21 +0100

    Update to spec 0.19.4 (Observer.Recover)

commit 92ace0fadf45bfc25e5dff054627d7e71f09fa9b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-15 16:50:15 +0200

    test if TpContact fallbacks to connection's capabilities if ContactCapabilities is not supported

commit 05698aad9275dc02383a2029a021a8f872548af4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-15 16:46:39 +0200

    Fallback to connection capabilities if connection doesn't support ContactCapabilities

commit dc007e3589ff36f0f2ed37994fe5509c2474f08e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-15 16:43:52 +0200

    factor out contact_set_capabilities

commit 0053516cb0fb5bd35cee298eb0c4de7d516ad0c0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-15 16:43:19 +0200

    contacts-conn: claim that we support Requests

commit 3fdfc1378a150ea3c46354b59e176f51e689b611
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-14 16:13:39 +0200

    test TP_CONTACT_FEATURE_CAPABILITIES support

commit 2f021f2d9145ffc7c6a6305fbdf8f6b8ff543856
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-14 15:08:49 +0200

    contacts-conn: add ContactCapabilities support

commit b40996b3708ffe7a8bc57d3f5e35b5c394314bb4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-14 15:57:35 +0200

    contact: actually set the capabilities property

commit e20d25e171c51c480897ce6cba4352b0ea677d77
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-14 12:01:31 +0200

    contact: add capabilities feature and property

commit 1ef5a03c335d488634f3ed925b921c9937f0704d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-15 12:51:03 +0200

    pass a TpBaseConnection rather than a ContactsConnection

commit b303194ed9ed069bab44fa4165c41b33362af44a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-15 12:44:01 +0200

    add account arg to test_create_and_connect_conn
    
    This can be useful to create more than one connection in the same test.

commit 12a21f6d225385d329086299e3a2c4d50d86c723
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-15 12:37:37 +0200

    rename create_and_connect_conn to test_create_and_connect_conn

commit 84135824c437b3b8f4808eab84b3ed0738aa93e8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-15 12:36:10 +0200

    no need to cast g_object_new return value

commit 94e03f8564a075883fd5d3047d43e75bfd2a42c0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-15 12:30:01 +0200

    contacts-slow-path.c: use create_and_connect_conn

commit 5514ec6ab708163942c2d6e3a031bca1132d7815
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-15 12:28:11 +0200

    move create_and_connect_conn to tests/lib/util.c

commit b45b450fead884345ee201179a3c6f6820f6c708
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-15 12:26:19 +0200

    create_and_connect_conn: use test_connection_run_until_ready rather than tp_connection_run_until_ready

commit db0d236feae0b878d975f6231737affcad245ebe
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-15 12:15:56 +0200

    create_and_connect_conn: use g_assert rather than MYASSERT

commit 4a7d3a33e0969683fd19bcc163d6c4ef8ff1dbed
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-15 11:36:00 +0200

    factor out create_and_connect_conn

commit 6707ecbe6827b335a6765308b4b01a1106849a96
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-14 16:42:14 +0200

    update header of contacts-slow-path.c

commit d7512a5a3fb9119eaa801d14bf80ab2223c4bf34
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-14 16:40:14 +0200

    tests/dbus/contacts-slow-path.c: remove fast path tests

commit 9474a9637e0ec6a4d550e770dbc8e2478350c557
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-14 16:38:19 +0200

    tests/dbus/contacts.c: remove slow path tests

commit bda490e128eb598399db19152ecd1c9d4e9f3d63
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-14 16:35:45 +0200

    duplicate tests/dbus/contacts.c to tests/dbus/contacts-slow-path.c

commit 71ab3716916bbe717c91faa39b2a18a3752fd6a2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-13 16:39:30 +0200

    test TP_CONNECTION_FEATURE_CAPABILITIES

commit 9b116bdb9eaedb37d3fc1cc8e3901bed99d7bcf0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-13 16:37:56 +0200

    simple-conn: add Requests to interfaces_always_present

commit f5cf792ae5f25dfde2e2e84b5d820e3ee1b85b62
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-13 16:37:26 +0200

    connection: actually implement TP_CONNECTION_FEATURE_CAPABILITIES

commit 7317ae5f27088bb81b9408a77e7bd0717b762674
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-13 15:46:06 +0200

    connection: add 'capabilities' property and feature

commit a086e448060fc4a35aec01b5709e37c411968b64
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-14 14:40:55 +0200

    test tp_capabilities_supports_text_chat(room)s

commit 2c464fd0210831b43b55e648c601cc9592df795e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-13 12:20:28 +0200

    add tp_capabilities_supports_text_chat(room)s

commit 39bea0e60ea1bc79e69b4ba6dbcb1017c90ecff7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-13 10:08:14 +0200

    Add basics tests of TpCapabilities

commit 1c6fbe2f2a095af5e740a2b607f9569944c9f1c7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-13 10:07:38 +0200

    Add TpCapabilities representing contact and connection capabilities (fdo #27511)

commit c0af2cf41087521ca910452ab764e664daae6dcc
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-14 14:20:55 +0200

    contacts_got_attributes: look for the right contacts attribute key for location
    
    So we actually use the fast path.

commit 3df935c8249f0d970964f2651733b87fa35a7901
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-12 19:20:50 +0100

    tp_channel_got_identifier_cb: refactor
    
    * defend against stupid returns from the CM, and abort introspection if
      the reply makes no sense
    * use _tp_channel_maybe_set_identifier rather than duplicating the code to
      push the property into the immutables dict
    * use the try/finally pattern

commit 152130597ab13b9dae4965babe6cedc7b1a7ddf2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-12 19:16:33 +0100

    tp_channel_set_property: explain why notify doesn't need to be emitted

commit 6687c0cbc4868301dfe03af3753179f5aefc9428
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-12 19:16:20 +0100

    _tp_channel_get_identifier: give legacy anonymous channels a proper TargetID
    
    Previously, we didn't set the TargetID property in the immutable properties
    dict for an anonymous TpChannel implemented in an old connection manager.
    We now set it, to "".

commit e425156bdd4c9f86b6cea12d4c0e94ffbdc8b5d1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-12 19:15:09 +0100

    tp_channel_get_identifier: always return non-NULL
    
    Despite the documentation, TpChannel:identifier was not consistently NULL
    for anonymous channels: for those with a TargetID D-Bus property (i.e.
    all current, correct connection managers), it would be the empty string.
    
    It seems simplest to guarantee it to be non-NULL, making unprepared
    channels, and channels from old CMs, consistent with prepared channels
    from new CMs (the common case).

commit b88ab350fd50726a99eebcbebe7e136f80a46917
Author: Xavier Claessens <xclaesse@gmail.com>
Date:   2009-09-18 12:10:07 +0200

    Make sure "identifier" property on TpChannel is the same as returned by tp_channel_get_identifier().

commit 2f8ec7dc831e091bc32c11001b74ccc57ccd258f
Merge: 73bf2bb bf879d2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-12 18:05:49 +0100

    Merge remote branch 'kalfa/remove_fixme_connection_self_handle'
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 73bf2bbdd85571d8a2e893489943c27e32d6d331
Merge: 4271ea1 bf4b0e0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-12 17:46:35 +0100

    Merge branch 'connection-features'
    
    Reviewed-by: Danielle Madeley <danielle.madeley@collabora.co.uk>
    Cc: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit bf879d24a6717421be22d8ee12392cbf7f850803
Author: Cosimo Alfarano <cosimo.alfarano@collabora.co.uk>
Date:   2010-04-09 13:16:22 +0100

    fdo#22966: channel-group.c: remove the FIXME comment
    
    connection's self-handle is actually checked for removed handles.

commit 4271ea142b046985279ec80df11c4cada41fffcb
Merge: fc8de19 b150833
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-08 15:03:13 +0100

    Merge remote branch 'upstream/master'

commit bf4b0e0ff7e6df6a79fc9e751a20ae1cf458abed
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-08 14:21:55 +0100

    Add spacing to TpProxy's new API according to Guillaume's preference

commit f528deb10c51a9a2e66819ab6aaaa85f7097439d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-08 14:21:30 +0100

    Add a GROUP feature to TpChannel
    
    This is (currently) prepared at the same time as CORE, but it's a good way
    to check whether a CORE-ready channel is a group.

commit fc8de192022e099f63d97a170e5681c3e75ccdac
Merge: d07031b 2dfdfe8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-07 14:37:17 +0100

    Merge branch 'spec'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit d07031b61fa8f7c13bdba8a5b1260423cc0368bc
Merge: b3604dd bdc47c4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-07 14:34:50 +0100

    Merge branch 'signal-connect-test'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit c84eafd93eda77aa42adbe4b4293937e9818b722
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-30 17:47:17 +0100

    tests/dbus/connection.c: test self-handle, status when preparing

commit 67e02d1f86614dfb42269b86645c3d798f2ef211
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-01 20:20:38 +0100

    tests/dbus/connection.c: exercise failure to prepare

commit ab7adf59ec324c1e097d5aef23b3ccfd0e3e7b11
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-01 20:18:48 +0100

    tests/dbus/connection.c: test successful preparation

commit 1c7b8b999db03235c851f61beff8be57d1d72106
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-29 18:23:00 +0100

    TpConnection: implement CORE and CONNECTED features

commit 1dd50b3d717ccafc6af1d2f6113e805ca3b601be
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-06 17:23:22 +0100

    TpConnection: do a stub version of introspecting before becoming CONNECTED

commit af4ee97f7145aab248134c67530383aa6ab69110
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-29 17:00:18 +0100

    TpConnection: track which introspection call we're currently doing

commit 22e7470b7bf2cb075d850aee3e06cd1d0557c717
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-29 15:24:44 +0100

    TpConnection: run the introspect queue as a queue, not a stack
    
    This didn't matter yet, because GetStatus and GetInterfaces didn't
    participate in the queue, and the other things we need are
    GetSelfHandle and Get(ContactAttributeInterfaces), which are orthogonal.
    However, the order will become important when we start introducing
    fast-paths.

commit 37031f49724c7c2cebe3ba272bc58f693dd4f928
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-29 15:16:35 +0100

    TpConnection: turn the introspection queue into a GList
    
    This is rather more obvious than a GArray.

commit c4261b4aafc393f620ee228fdd97de3a59495d45
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-29 14:43:18 +0100

    TpConnection: defer status change to CONNECTED until we're ready

commit f0d48eef384aae61770f322a686230f930ab12c4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-01 20:10:20 +0100

    Implement TpAccount features as TpProxy features

commit ca977da7a932ceb66340a89494de59a97c1726d7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-01 20:09:07 +0100

    TpAccountManager: implement features in terms of TpProxy features

commit e3920346bad048ca9d5a37822e4ad1efd32ad3ce
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-01 20:08:07 +0100

    TpConnectionManager: use the features mechanism

commit 0374b6e710449bb602ec7d1644c88fbdfeab6cdd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-01 20:15:04 +0100

    channel-introspect test: assert about the behaviour of prepare_async and is_prepared in pre-invalidated channels

commit 23578dc321a94c7460ea7964640a00c6fbb6d763
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-01 20:14:42 +0100

    Test channel introspection in the brave new prepare_async world

commit 5ce098e9be7bf5560222b173e19780dd7107a0cf
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-17 19:14:15 +0000

    TP_CHANNEL_FEATURE_CHAT_STATES: implement

commit 1cdf8677fc0f869132c2f9118ac595df1abb2f5f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-17 16:24:31 +0000

    TpChannel: add CORE and (vestigial) CHAT_STATES features

commit 2a451294534d43b70af05b5c65c6ce98c1d6a98a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-01 19:58:19 +0100

    Add support for tracking features in TpProxy
    
    Notable subtleties:
    
    * Invalidated objects are considered to be unprepared again. This doesn't
      match channel-ready, but does match TpAccount.
    
    * Feature preparation can fail without invalidating the object.
      TpConnectionManager needs this.
    
    * tp_proxy_is_prepared and tp_proxy_prepare_async return FALSE without
      criticalling on invalid features. This is highly questionable, but matches
      TpAccountManager's behaviour.

commit bdc47c4005b44e82a5c170d64e8460bc7ae9243d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-07 13:47:57 +0100

    signal-connect-object test: add another case

commit c30eff2d94cd5af91463baee49b7ce7f699c9392
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-22 16:14:29 +0000

    Add a feature test for tp_g_signal_connect_object
    
    This was a failed attempt to reproduce fd.o #27242, which turned out to
    be an Empathy bug; but more test coverage is useful anyway.

commit b150833d9144c6d6bb1f3bd35b2918c6f2be5ea9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-07 13:47:05 +0200

    tp_type_dbus_array_of_y: use DBUS_TYPE_G_UCHAR_ARRAY

commit 5c99883bd1275ac3c765e2c2c0cb28e763687c9e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-22 16:13:24 +0000

    tests/lib/util.h: add test_clear_object() macro
    
    This is analogous to g_clear_error() (but it works for any GObject
    subclass without violating strict aliasing, at the cost of evaluating
    its argument more than once).
    
    It's careful to shuffle the object out of the way to avoid a double-free,
    like Py_CLEAR() does.

commit 21dd17558ee3168e75a798b3f578dfe18a473ff2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-22 16:11:56 +0000

    StubObject: have a property

commit b3604dd16d3cd7ba978babe283a7dc8d742b8e44
Merge: 090d021 5f2cf45
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-07 12:45:44 +0100

    Merge branch 'weakref'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit 090d0218b54bd6042eac1f28ee29fac37b6131b5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-06 20:03:03 +0100

    Nano version

commit 38890ca03895f47fe4f76b9dd838ef2833bc8387
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-06 19:29:18 +0100

    Prepare 0.11.2

commit cf63a3339a40d308904bf10002b51735b65146af
Merge: 4ad8d6d 6471991
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-06 19:28:43 +0100

    Merge branch 'telepathy-glib-0.10'
    
    Conflicts:
    	NEWS
    	configure.ac

commit 64719912e82ace61e0f919040bbf6fee4afe5e5b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-06 19:20:00 +0100

    Nano version

commit b6c7a4f0d1ed8bc0a278db20e45ae1cb7a824060
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-06 19:07:57 +0100

    Prepare version 0.10.3

commit 4b6a220a4efb6a091d02402af2794bde1f09ebbe
Merge: 08bc15a 2fdba1c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-06 19:05:29 +0100

    Merge branch 'telepathy-glib-0.8' into telepathy-glib-0.10
    
    Conflicts:
    	NEWS
    	configure.ac

commit 2fdba1ce53d4111240970ebc79b7b1aeb99a7394
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-06 19:03:12 +0100

    Nano version

commit 6bf94fd26978a3b06a4b88af5abff3f6bde24f69
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-06 18:51:47 +0100

    Prepare version 0.8.3

commit 5f2cf4596c33b266d08591ea50e8bd7925524e7d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-06 17:09:19 +0100

    Put one argument per line in new declarations, consistent with definitions

commit 00a34d07bfb9f25993a016526c311ad9b29b4afd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-06 16:29:13 +0100

    Remove "magic number" from TpWeakRef struct
    
    It doesn't seem particularly worthwhile as a way to avoid use-after-free.

commit 455f8dc19bf09b2d7c9d46e38a817f7b509d675b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-01 17:42:25 +0100

    Add TpWeakRef, a weak-ref wrapper
    
    This can bridge between the semantics of
    tp_connection_manager_call_when_ready, and user-data-only functions
    like tp_*_prepare_async.

commit 4ad8d6d5c47f14f1ddfd75900ed306591b9f0ac1
Merge: f4b7c73 08bc15a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-06 12:45:04 +0100

    Merge branch 'telepathy-glib-0.10', rejecting stable-only changes

commit 08bc15ac99d9b6224bee7f585101261a1f913f21
Merge: a3e12d6 a980309
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-06 12:40:57 +0100

    Merge branch 'telepathy-glib-0.8' into telepathy-glib-0.10

commit a980309f0ab1f1f8a94444c82cc1539c11ec73f8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-06 12:39:52 +0100

    Disable documentation-completeness checking for this stable branch
    
    We shouldn't be adding any more API to this stable branch, so there's
    no point in checking the completeness of the docs. The completeness
    check can also fail with newer gtk-doc.

commit 74601483f5a8e632d0492870c871dc83eb734991
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-06 12:33:21 +0100

    Disable warnings about deprecated functions for this stable branch
    
    Since this is a stable branch, we're unlikely to fix uses of deprecated
    functions, so we shouldn't warn about them.

commit f4b7c73b2f6f57034bbc34a217354527c7ec0cad
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-06 12:12:47 +0100

    Revert deprecation of tp_get_bus (reopens fd.o #24114)
    
    In practice, connection managers use it in channel implementations; we
    should at least wait til telepathy-glib offers a one-line replacement
    (e.g. tp_base_connection_get_dbus_g_connection()) before deprecating it,
    since the current best-practice replacement is 3 lines.
    
    Reviewed-by: Sjoerd Simons <sjoerd.simons@collabora.co.uk>

commit 4164219fe7127cbaa068c79efbd8be1257ae25f1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-05 21:02:53 +0100

    Nano version

commit 1545bef05921ca075af3c97ccdafec443a574e24
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-05 19:03:23 +0100

    Prepare release 0.11.1

commit d8b283638fb192f3c83899190ce795f93ad28294
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-02 16:16:56 +0200

    test if changes are properly notified

commit 9229621cd77d48ddc2a0b96af745d32edf825e58
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-02 15:55:22 +0200

    test_upgrade: test Location support

commit 2d1a202a5c0e4d21dae2b76b3fdd0db15babc067
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-02 15:49:47 +0200

    test_no_features: check for Location

commit 84163eaa5b756c0c6804fa273cd11953441f6903
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-02 15:47:46 +0200

    test_features: test Location support

commit 57fffe3b379b6cd0503b8186fa8ff2cbdeeb5709
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-02 15:47:26 +0200

    contacts-conn: add Location support

commit 37928dd1c5acfbe99495281683862a399a76441e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-05 17:15:19 +0200

    contact: add support for Location (fdo #24652)

commit 7a8ababe3d1a5b53ce3d7516c907ac06de8563a2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-05 15:47:50 +0100

    Fix documentation for tp_account_set_avatar_finish (parameters must be named consistently)

commit deaa1aeb07e46e6f16b3b4044bbde6e9dc136907
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-05 15:43:43 +0100

    Fix documentation for TP_TYPE_UCHAR_ARRAY

commit 37d2bebdfce21bd2790c72cb890b6fddba16be5a
Merge: 09b2197 8e7e3ef
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-05 14:19:59 +0100

    Merge branch 'build'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit 8e7e3efd8f358edaeaed47c3b64bf58df33b6fc2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-05 14:07:36 +0100

    Fix typo in /*<private>*/ which might affect compatibility with gtk-doc 1.13

commit 414a3639ca292cde878d09a5206ef5c5b99302a6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-05 13:12:17 +0100

    Instead of guarding against callbacks and pointers being different sizes, just compile-time-assert it
    
    In practice all sorts of code will fail if this compile-time assertion
    fails. Also, the union we previously used is picked up by gtk-doc 1.14,
    which complains that we haven't documented it... rather than trying to
    work around that, we can just get rid of it, and reinstate it in the
    unlikely event that we later care about a platform where callbacks are
    not the same size as pointers.

commit a08d53bf5b6f219fe4fa075b48a9ab09e2062c3e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-05 13:06:10 +0100

    Reformat TpChannelManagerIter doc-comment to keep gtk-doc happy
    
    We were documenting see_also as if it was a parameter.

commit 1bdde103a709f86c12a79446b053265ea14363c6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-05 13:05:41 +0100

    Don't document @parent, @priv in object structs
    
    Recent gtk-doc will ignore these anyway, leading to discrepancies between
    what we document and what actually ends up in the HTML; recent gtk-doc
    will also complain when it does this.

commit cc24e8c58c6a3514a046e7d1c14adcf7fd775f76
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-05 12:49:10 +0100

    Don't fail on incomplete docs in released versions (Debian #576438)
    
    gtk-doc 1.14 is somewhat stricter than 1.13, leading to build failures
    in Debian (I had 1.13 when I did the 0.11.0 release, but the buildds had
    1.14 by the time they tried building it). We should do these checks
    (for information) anyway, since they're fast, but they should only be
    fatal in development versions (similar to how we enable lots of compiler
    warnings, but only enable -Werror in development versions).

commit 92c5b9dd1cfb7afb75c7e3560f0e52b95e0a4a17
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-05 12:22:29 +0100

    Work around vim syntax highlighting mis-parsing apostrophes

commit 09b2197a359691fb13df3627915df1fab2c17ea9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-01 16:14:30 +0200

    Add API to change Account.Avatar (fdo #27397)

commit 59b405c9a10ff394ca1cd2252d03f628f82d4bfb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-01 16:28:19 +0200

    add TP_TYPE_UCHAR_ARRAY

commit a1da8a3afca9546d749aeeeaf3db532bee055230
Merge: 82558e9 0da44c6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-01 15:40:56 +0100

    Merge branch 'trivia'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit 0da44c61daf9950473fb794e016518334975d3d7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-01 15:40:43 +0100

    tp_str_empty: gtkdoc nitpicking

commit f70d003995d67314178e48b1933b7b29cf1dd683
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-01 14:19:44 +0100

    Use tp_strdiff instead of strcmp when comparing strings for equality

commit 6dad56ec5e502ce68cbf71c6849896881a26f3b5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-01 14:19:16 +0100

    Use tp_str_empty whenever it's equivalent to the current code

commit a042c778d08a84c794c7d38c29e5f7919a1bad80
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-01 14:13:16 +0100

    util: add tp_str_empty()
    
    By popular demand, since everyone who uses telepathy-glib seems to invent
    their own FOO_STR_EMPTY macro :-)
    
    It's a #define wrapper around an inline function, in order to provide
    type-safety and only evaluate its argument once (which occasionally
    matters).

commit 82558e9415b197586a99e689673934214f2780df
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-31 20:26:55 +0100

    Nano version

commit 0f30d828c6dc0e64dd78fd332ba94b4c9a719850
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-31 19:31:31 +0100

    Prepare version 0.11.0
    
    Now with extra Unicode 

commit 8c970d8e846ce928d92ae7dc6d2039f0e21b983c
Merge: 041b197 f3f7e74
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-31 18:57:01 +0100

    Merge branch 'trivia'
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

commit f3f7e74e1368317ae17322b7f1995fb6f00a7841
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-31 18:34:58 +0100

    More NEWS

commit 8134e9113d073322bf6931e0885854b1e7ee013c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-31 18:30:40 +0100

    fd.o #21956: clean up documentation/defaults of TpContact properties
    
    - identifier, alias start off NULL, but are guaranteed non-NULL after
      library users can get their hands on a TpContact
    - presence-type defaults to TP_CONNECTION_PRESENCE_TYPE_UNSET (although
      that's numerically 0)
    - presence-status and presence-message are non-NULL at all times, so
      should default to ""

commit e22168bca3fa95eeaa4bfd003c9a7025e1b045fe
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-31 18:01:42 +0100

    fd.o #24114: deprecate tp_get_bus() in favour of tp_dbus_daemon_dup()
    
    Because tp_get_bus() is deprecated, and we want to fail on use of
    deprecated functions in general, I've essentially inlined a copy into
    tp_get_bus_proxy (which is itself deprecated).

commit c82978f14ecd833dbe60a947afd61a02e90eb1c1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-31 17:53:58 +0100

    Update NEWS

commit 041b1971ec5b2e0b01036747990ef40b3b9b69eb
Merge: 1a173e1 a3e12d6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-31 17:42:45 +0100

    Merge branch 'telepathy-glib-0.10'
    
    Conflicts:
    	NEWS

commit a3e12d60e406d75ba073c879c8f8b343eacfa9fc
Merge: 46c6f51 8ffabab
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-31 17:42:07 +0100

    Merge branch 'telepathy-glib-0.8' into telepathy-glib-0.10
    
    Conflicts:
    	NEWS

commit 8ffabab5f66afb85504af54ba2aa3b86dc8a9b08
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-31 17:38:57 +0100

    NEWS for 0.8.x so far

commit fdb22ea736390ce2f060de77f9890954a59a52bc
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2010-03-23 21:25:19 -0500

    Specify when tp_message_mixin_sent should be called.
    
    The text is mostly from Sjoerd.
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 8c7c3273f0039c2ed310465f4725c271e2507923
Author: Mikhail Zabaluev <mikhail.zabaluev@nokia.com>
Date:   2010-02-24 18:15:24 +0200

    Improved documentation to TpContactsMixinFillContactAttributesFunc
    (cherry picked from commit 28ba4fde160635b37ca2bf381bb6b8dde6543ead)

commit 1a173e10bc4a86b7fdcdc9bbb71ec061aebc14fe
Merge: 45235af 50e64b7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-31 17:27:13 +0100

    Merge branches 'trivia' and 'deprecations'
    
    Reviewed-by: Danielle Madeley <danielle.madeley@collabora.co.uk>
    Bug: http://bugs.freedesktop.org/show_bug.cgi?id=22206
    Bug: http://bugs.freedesktop.org/show_bug.cgi?id=27375

commit 2dfdfe8a323d7294043812a9f994d3949b4fac28
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-31 17:13:42 +0100

    TpBaseConnection: implement Connection.Status, Connection.Interfaces
    
    Also add them to the gtkdoc.

commit 015ec0d6f5050d69df3dcc7368146afdb974f1e4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-31 17:01:24 +0100

    Update to telepathy-spec 0.19.3 (fixes version annotations only)

commit 9820b5d2ecadcc9020e29e000f640ce9ea2bf070
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-31 16:17:43 +0100

    Update spec to 0.19.2

commit 45235af57917d7574ab094462bd18e4a415364f9
Merge: afb2cfe 46c6f51
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-03-31 17:03:16 +0200

    Merge branch 'telepathy-glib-0.10'

commit 46c6f513a1b8d261882067dc3357b936678c6dd5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-03-31 16:53:17 +0200

    tp_account_set_nickname_async: set the right source_tag

commit afb2cfe61051c5cb62249df9231cf4b51e7d6c2d
Merge: 438bd57 6927da8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-31 15:34:03 +0100

    Merge branch 'telepathy-glib-0.10'
    
    Conflicts:
    	NEWS
    	configure.ac

commit 6927da841ae25d73c9df801448199cf05bf7b274
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-31 15:32:59 +0100

    Nano version

commit 15009de37a7f83bc183d6736d60e9acf46a0472a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-31 13:33:28 +0100

    Prepare version 0.10.2

commit 28ba4fde160635b37ca2bf381bb6b8dde6543ead
Author: Mikhail Zabaluev <mikhail.zabaluev@nokia.com>
Date:   2010-02-24 18:15:24 +0200

    Improved documentation to TpContactsMixinFillContactAttributesFunc

commit d89ffcc59c13447c4fc1cfc6567de5864c86e54c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-03-26 11:39:22 +0000

    Make GetContactAttributes() tolerate unsupported interfaces
    
    See http://bugs.freedesktop.org/show_bug.cgi?id=27325
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 438bd57500167666725066704a84d1531fddd953
Merge: 35320cf 5c1a254
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-03-31 23:14:00 +1100

    Merge branch 'telepathy-glib-0.10'

commit 5c1a25405b0e9c857d8b83337f1fd961a2cdd910
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-03-31 23:06:12 +1100

    tp-account: check Interfaces property and append interface to TpProxy

commit 50e64b7c852f6c84bc940e3690df463b35fc8435
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-30 20:57:01 +0100

    fd.o #22206: deprecate all tp_cli_something_run_something functions

commit 21e9a37c7fc84428671e483e1c888f2aff77d8c2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-30 20:56:00 +0100

    tests: implement test_proxy_run_until_dbus_queue_processed without using tp_cli_foo_run_foo
    
    Also make test_connection_run_until_dbus_queue_processed a simple #define
    for the more general function.

commit 55b6d0d4a636f3f5242ee78f951252c48fcb9be9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-09-28 20:57:33 +0100

    Deprecate tp_connection_run_until_ready

commit 2195e11aa71b66e2221171b7cb7b6ca008c4449b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-09-28 20:57:14 +0100

    Deprecate tp_channel_run_until_ready

commit d0c9a2744cf25511712bdcf7edf083cfce9b8029
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-09-28 19:38:27 +0100

    Deprecate things in generated code with _TP_GNUC_DEPRECATED rather than G_GNUC_DEPRECATED

commit 4cb6a1abc3f886c006a07583b4ec1bfb82def68d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-30 19:42:48 +0100

    Use _TP_GNUC_DEPRECATED for deprecated functions

commit 346c2efd9c1ed81064e2e93c4c667cbacc88e729
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-09-28 19:37:01 +0100

    Ignore telepathy-glib deprecations in regression tests

commit 52e32143b38a49f22f42bfbd31e494d773a7c139
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-09-28 19:36:46 +0100

    Add _TP_GNUC_DEPRECATED, an internal equivalent of G_GNUC_DEPRECATED
    
    We want the tests to fail to compile on deprecated stuff from other
    libraries, while remaining able to test deprecated stuff from *our*
    library.

commit f17e69e41a87df972487d12e18a4aa9488d6bebf
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-30 20:26:12 +0100

    inspect-contact example: don't use _run_ functions

commit 0d048a65c604234599826e0775ff2639ac53b4b0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-30 20:18:23 +0100

    extended example: avoid _run_ methods

commit 9b89b0a046f0f26f3ecb54fce74353c3353a254c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-09-28 20:26:38 +0100

    inspect-channel example: be asynchronous

commit 960f9d2cd4b458577471399d16ae8557d5c442f9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-09-28 20:01:34 +0100

    inspect-connection example: don't use tp_connection_run_until_ready

commit 35320cffed4b904c3ffa9a0f3838a8727dcd88a0
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-03-26 11:39:22 +0000

    Make GetContactAttributes() tolerate unsupported interfaces
    
    See http://bugs.freedesktop.org/show_bug.cgi?id=27325
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 0de6739056809f769c8a2bd2ab6d3396f1c0aac1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-30 18:48:25 +0100

    tests: use test_dbus_daemon_dup_or_die(), avoid tp_get_bus() (except in dbus.c)
    
    This is in preparation for deprecating tp_get_bus (fd.o #18832).

commit 3bbe40db970dc0a11c6b58d1bbf27060deafd7de
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-09-28 19:34:25 +0100

    test channels: don't use tp_get_bus to register on bus

commit da11ecf68c73bc39c513a1f360729f08731390ec
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-30 18:29:59 +0100

    test_dbus_daemon_dup_or_die: convenience function for tests

commit 46e86bf970a82c4a0f069c84b8dfebd04c8ffce4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-09-28 19:33:13 +0100

    Example CMs: don't use tp_get_bus to register object paths

commit 71c9727705f5d8b46f243c7bf29dcf98582813d8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-29 14:24:18 +0100

    tp_connection_got_interfaces_cb: avoid a redundant function call

commit 2640ff57a31aacfaff3f2203e5e8b1bcd8c3685b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-29 19:19:45 +0100

    tests/dbus/connection.c: use more GTest functions
    
    Some lines still use MYASSERT, which is analogous to assert() but always
    evaluates its argument for its side-effects (in practice these tests are
    useless if assertions are disabled, though), or MYASSERT_SAME_ERROR
    (which is like g_assert_error but also compares the message).

commit 37d65e5c84c4d6010ef1616489184e38afc2c643
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-29 19:11:10 +0100

    tests/dbus/connection.c: spin the main loop explicitly, to make it clear what we're waiting for

commit 6e33d8ac254541ebe40b38fe9337c38ba3217b5b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-29 19:04:44 +0100

    tests/dbus/connection.c: use GTest
    
    This is a functional change: it runs each test with a new Test (and
    hence a new SimpleConnection), whereas previously we used the same Test
    four times, so we need to call Connect() explicitly in the call_when_ready
    case.

commit 14c227c9e6517564732e4fcfd9fdf657a9817452
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-29 20:32:28 +0100

    test/dbus/connection.c: flatten WhenReadyContext into Test

commit f5e87bc6dfa5198bc2e0c10d63c15639a41e654b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-29 18:54:47 +0100

    tests/dbus/connection.c: use a common test fixture

commit fe04e4440da654e34e0bbf59abb3d5f100972977
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-29 18:39:45 +0100

    tests/dbus/connection.c: split out setup, teardown

commit 75fbc11890036aa19cb19499667ff0efdb9d2f98
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-29 20:18:45 +0100

    SimpleConnection: avoid invalid state transition and two potential use-after-frees

commit 02e187e6eb250a32c5c3e328136ef4949fe442fd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-26 17:50:16 +0000

    _tp_account_get_requested_features etc.: remove

commit 57c03d9aa61e998a6a9111327fd6a49f89a3e5a5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-26 17:30:03 +0000

    Remove _tp_account_manager_get_missing_features and friends
    
    Sorry, Jonny... turns out these weren't very helpful after all.

commit 4754bd0171538fac144f6b0d9e1cca595965e9ea
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-24 16:02:34 +0000

    example-no-protocols: assert that readying fails (without invalidation) for an unavailable CM

commit 47a3651f701640f9a3f38286fd9d039c2873d326
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-24 13:49:52 +0000

    test_connection_manager_run_until_readying_fails: add

commit 09460bcd61ff2a63682ebf37c62de976b26eb3a0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-24 15:34:30 +0000

    example-no-protocols test: resolve race between CM and client
    
    Previously, this test had a race between the CM starting, and the
    TpConnectionManager trying to introspect it. By creating two
    TpConnectionManager objects and choosing when to start the service, we can
    have both sides of the race happen, leading to better coverage.

commit eb69a4e6966a229e4faba14e3043da8c91aee679
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-30 18:19:41 +0100

    telepathy.am: distcheck-hook: if CHECK_FOR_UNRELEASED is empty, don't grep
    
    Otherwise, distcheck will hang until you enter EOF on grep's stdin.
    
    (Based on problems adapting telepathy-logger to use telepathy.am.)

commit c1dea6c22543a3919e51cfbcafb6614c96700230
Merge: 975d122 11b018c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-24 19:35:17 +0000

    Merge branch 'telepathy-glib-0.10'
    
    Conflicts:
    	NEWS
    	configure.ac

commit 11b018caa3e3df9e5968ad07bf80f2843cc5bb2c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-24 19:32:10 +0000

    Nano version

commit 27a49b251dd81d7eacc3c88eb96ec9619547d383
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-24 18:35:29 +0000

    Prepare version 0.10.1
    
    Also remove some NEWS items that were already fixed during 0.9.x

commit 1212b5585154495ce93868270d8f1ccf7ee164c3
Merge: bf95ef8 b4ad6e1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-24 18:25:20 +0000

    Merge branch 'telepathy-glib-0.8' into telepathy-glib-0.10

commit b4ad6e1785c2360481fdbfcf9007718972aeb8e9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-24 18:23:42 +0000

    Nano version

commit ab7c3858daeafaf806102a58309882b311c53c45
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-24 17:55:33 +0000

    Prepare version 0.8.2

commit 975d1221971aa77127eeaa7a80a427585a608247
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-24 17:37:28 +0000

    Add tp_value_array_unpack to docs, and make the name of @len consistent

commit 273e02bac7e09da323ff86d4be1eb2bea1c558ec
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-24 17:02:03 +0000

    Update NEWS for 0.11

commit c7b679afe2e02dc0e1da8bb1e997fc6c08ab0185
Merge: 3efc6a3 bf95ef8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-24 16:57:56 +0000

    Merge branch 'telepathy-glib-0.10'

commit bf95ef8455ef3d2c50af80842275e46379b3b829
Merge: e810fb3 3915d86
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-24 16:48:24 +0000

    Merge branch 'telepathy-glib-0.8' into telepathy-glib-0.10
    
    Conflicts:
    	NEWS

commit 3915d866af0b7f7f15cce52eb90dddc156761f09
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-24 16:43:01 +0000

    Update NEWS for 0.8.x

commit 1cd203762a4088b512c91f192167a556efdc8166
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-03-23 16:32:55 +0000

    Remove misleading debug message from list_connection_names
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 3efc6a37e2b2d9356eb593d673dfe15190c39c89
Merge: 2e17d74 417e72c
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-03-23 22:13:05 +1100

    Merge branch 'tp-value-array-unpack'

commit 417e72c2140c296457065333b698b4412a22a7db
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-01-29 18:03:08 +1100

    tp_value_array_unpack() a reverse to tp_value_array_build()

commit 2e17d74ed333e04db22188945283060eca245db5
Merge: cada721 709d66f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-10 14:46:26 +0000

    Merge branch 'pre-protocols'
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

commit 709d66f54774f84e8fd46a9067d785e4b0cb02cf
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-10 14:42:16 +0000

    message-mixin test: use tp_asv_new() as per wjt's review

commit e16e6a229e1fe0bff527596c8628112531e54e4b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-10 14:03:01 +0000

    inspect-contact example: use tp_connection_get_self_handle rather than tp_cli_connection_run_get_self_handle

commit 4dd42f716fa2e565188da8c846d484d9ffd5ae80
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-10 13:53:30 +0000

    Add test_assert_empty_strv, test_assert_strv_equals

commit ee813dff086e8fa07d7863ece218d1098d6e3198
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-09 14:30:05 +0000

    params-cm test: improve coverage
    
    The tests for invalid input allow the parameters to have been created
    and freed (current behaviour), or never created (potential future
    behaviour, with Protocol objects).

commit 2346758df93051e739ab5bed9ecc44879a76b52d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-08 19:42:48 +0000

    params-cm.c: test_set_params: avoid inappropriate use of tp_g_value_slice_new_static_boxed
    
    This boxed object isn't static.

commit a63f34b132e0d997517ac4d7395aa7dafea256d6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-08 19:42:05 +0000

    call-example, callable-example: use test_connection_[manager_]run_until_ready

commit af4557de8c55fd660f878fca0fa154832f988918
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-08 19:41:27 +0000

    params-cm.c: use test_connection_manager_run_until_ready

commit a82fa3916da83c5a121f2964198a3a177be4d7bd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-08 19:41:06 +0000

    test_connection_run_until_ready: add

commit f7923707842ab584c649607b627ea2b303a2ccdf
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-08 18:26:38 +0000

    param_connection_manager_steal_params_last_conn: rename from _get_ and have slightly safer semantics

commit 0d498a68f4f23014d7498f7eaf94766044c4e55a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-08 18:26:01 +0000

    tests/dbus/params-cm.c: simplify a little

commit cc622bd9b4d59ee11ecaa4a7facf9531da71ea7e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-08 16:55:49 +0000

    tp_g_value_slice_new_byte: add

commit 36c1cd7ac14f014a3e19fae3d3b7a27ebae1ed31
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-08 13:42:20 +0000

    tools/manager-file.py: add support for CMs that don't use the offset field in the TpCMParamSpec struct

commit 947d56e5255c443be29096d2d2e327dd9ea5f620
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-08 13:41:53 +0000

    tests/dbus/message-mixin.c: request connection via D-Bus rather than running the CM's C code directly
    
    This exercises the "echo 2" CM's ConnectionManager implementation.

commit af63f532a1c0136fc7d3cb58a1f24d2f36e315e2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-08 13:40:43 +0000

    tests/lib/util.c: add test_connection_run_request_contact_handle
    
    This is a simplified, reentrant version of tp_connection_request_handles.

commit 21a24c3a2ea4686b1e8160929d2bdf9a7931f791
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-08 13:39:51 +0000

    tests/lib/util.c: add test_connection_manager_run_until_ready()

commit 8a75bc199980c1fcaea3a12baa08ba001ae38fc5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-05 17:44:28 +0000

    TpBaseConnectionManager: add a sanity-check for D-Bus methods
    
    The conversion to Protocol objects will do some final setup when the
    object is registered on D-Bus, so it's good to confirm that these methods
    can't run until that setup has happened.

commit 8ad90050a0b0fb8b7946e5537dd6a9866728808a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-04 20:08:34 +0000

    TpBaseConnectionManager: use telepathy-glib.h internally

commit f60d37f962c273cc2237ac255e198a4027ee8bb5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-04 17:34:24 +0000

    TpBaseConnectionManager: remember whether we've registered on D-Bus

commit cada7217aeb1573d617bc6392dae29f55cad19e1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-09 20:30:00 +0000

    The NEWS so far
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

commit be79a7b4ed071e3e9763fb07e05e3e16da7525b9
Merge: 3918578 e810fb3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-09 20:21:02 +0000

    Merge branch 'telepathy-glib-0.10'

commit e810fb398aa740818fddfb8c1f4c2bc89a489641
Merge: 1cc0efd cd417c2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-09 20:13:41 +0000

    Merge branch '010-account-doc' into telepathy-glib-0.10
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

commit cd417c2aacc34bdf19151ee8db926a3cdcdb5344
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-09 14:57:23 +0000

    tp_account_get_parameters: don't refer to nonexistent function tp_asv_dup_string

commit 1cc0efdc11571b34d7f3834c1b3aa798a253dc5a
Merge: e7c9b61 9cc5f93
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-09 14:41:36 +0000

    Merge branch 'telepathy-glib-0.8' into telepathy-glib-0.10

commit 9cc5f93f913896c7053c78b09d1f745cfebd58cd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-04 17:32:17 +0000

    TpBaseConnectionManager: chain up correctly in dispose
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

commit 391857874b61f1ab779b6653e04ae89ae235d350
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-04 16:11:30 +0000

    Update spec to 0.19.1 (no API changes)
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

commit 32ae19d807eb79a62d98afae4e63168371842583
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-03 20:07:08 +0000

    tp_account_parse_object_path: clarify ownership

commit 57cb73e6303a071e6b408e5755f692b9ebf27f3e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-03 20:06:38 +0000

    tp_account_get_avatar_async: explain what's in the GArray

commit 8af2ff1ace5074b71a1a89f052d0d4a62f99fbc9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-03 20:05:53 +0000

    tp_account_get_parameters: explain what's in the GHashTable
    
    It's not immediately obvious that the values are GValues.

commit 244b4ac10c2fbae17b896a0b38e1e488044d35fb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-03 20:05:08 +0000

    tp_account_ensure_connection: make comparison with "/" marginally faster
    
    Using strlen for this seems like poor style.

commit 00233839173b4085de738d3d344f5d8419c2af03
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-03 20:04:22 +0000

    TpAccount: specify the enum types corresponding to guint properties

commit c84c2067e6b314d90f60c97f8096fa90fe983495
Merge: ca5112a e7c9b61
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-02 15:19:13 +0000

    Merge branch 'telepathy-glib-0.10'

commit e7c9b61c4ac9ee40d8938b5534d775e0895f40d4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-02 15:07:29 +0000

    TpAccount:current-status-message: correct gtk-doc syntax
    
    Reviewed-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit ca5112ac0b417d8b5403692cfa31b09c14c4165b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-01 19:44:33 +0000

    fd.o #26827: fix syntax of gnio-util documentation
    
    Reviewed-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 412bb937c098da9661b341e4f0d6c607d067bd5c
Merge: f1910b5 4f32ef0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-02 15:01:03 +0000

    Merge branch 'telepathy-glib-0.10'

commit 4f32ef01eff86a24a11bb4da887d87dcbd4b47d3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-02 14:54:17 +0000

    Spell GConnectFlags correctly
    
    Reviewed-by: Jonny Lamb <jonny.lamb@collabora.co.uk> (as part of a larger patch)

commit a68fc8bcd877642baee3150cc9cbd22f091403ac
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-01 19:45:13 +0000

    tp_account_manager_is_prepared: don't document a nonexistent parameter
    
    Reviewed-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 57708eaaddb90857db947b71370da7ca41cb40b2
Merge: c36bc11 1e93983
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-02 14:52:16 +0000

    Merge branch 'telepathy-glib-0.8' into telepathy-glib-0.10

commit 1e939837150b7c111300d2a201ac930470817bd9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-02 14:44:49 +0000

    Fix various typos and cross-references
    
    Reviewed-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit e776e7cf0785e536c657d765f0978639efc00956
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-01 19:44:57 +0000

    tools/glib-ginterface-gen.py: escape the doc-comment better
    
    Reviewed-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit f1910b5f6c4d58268a37db221616fc1834bfb6a4
Merge: 40a2899 c36bc11
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-01 14:44:55 +0000

    Merge branch 'telepathy-glib-0.10'

commit c36bc11dd17d0227db5a2fd3dcdc269cc8d8c05c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-01 14:42:36 +0000

    util.c: add Since annotations for tp_verify_*, tp_g_signal_connect_object, tp_value_array_build
    
    Reviewed-by: Sjoerd Simons <sjoerd.simons@collabora.co.uk>

commit dbb9e7f85c24a77a3e3780d390aaffd5ffb1c6d4
Merge: 89195ce 64016db
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-01 14:32:11 +0000

    Merge branch 'telepathy-glib-0.8' into telepathy-glib-0.10

commit 40a2899abaeb569f691b6a15433a380431df7cb2
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-02-26 20:51:03 +0000

    Add Since field for tp_value_array_build.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit dd79d76c0c9d597d4b0f2733ff835ecdd39ddbdb
Merge: 7e368cc 44a0fe0
Author: Mikhail Zabaluev <mikhail.zabaluev@nokia.com>
Date:   2010-02-24 18:23:28 +0200

    Merge branch 'doc-fill-contact-attributes'
    
    Reviewed-By: Simon McVittie <simon.mcvittie@collabora.co.uk>,
    	Will Thompson <will,thompson@collabora.co.uk>

commit 44a0fe04add5e633ffb9ee2be869adde435f4d12
Author: Mikhail Zabaluev <mikhail.zabaluev@nokia.com>
Date:   2010-02-24 18:15:24 +0200

    Improved documentation to TpContactsMixinFillContactAttributesFunc

commit 64016db8dc417eb52b64794e9849d1bd547eb917
Author: Mikhail Zabaluev <mikhail.zabaluev@nokia.com>
Date:   2010-02-24 17:31:05 +0200

    Constified the string parameter to tp_contacts_mixin_set_contact_attribute()
    
    Famous last words: This should not break API or ABI compatibility.

commit 7e368cceefa44b25b20ef5ec0918c4ee889aca2c
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-02-23 09:59:52 +1100

    Final minor fixes before merge

commit 0d6458dbf29b7bb85922134aa6e4434b563700cb
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-01-27 21:13:39 +1100

    Add gnio-utils.h to telepathy-glib.h

commit 66bae7676b66ab8d001499123e40e22255f1bc93
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-01-27 21:03:12 +1100

    Fix broken test, use cmpstr/cmpuint throughout, check errors are unset

commit 975bae2eca36f64471de7ab129c9b8e1d84cfd6e
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-01-27 19:20:11 +1100

    Add a GError to both methods for handling bad input, rather than a critical warning

commit 2d9080fa97d8e7d5d73b3e40127a1abbeb852ca9
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-01-27 14:27:10 +1100

    Cleanup type -> ret_type and type_ -> type

commit c9e09c7c21670f37fa0169fa12458b103396d447
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-01-27 14:04:42 +1100

    Use tp_value_array_build to build GValueArrays

commit acac4a0ceb499d7d3ddb1a6111a89b44b0937e64
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-01-27 13:08:20 +1100

    Rearrange order of includes

commit 90b07486484da809693eac41820739deb6d69682
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-01-27 13:06:28 +1100

    Annotate functions with G_GNUC_WARN_UNUSED_RESULT

commit 4308133999ae411ee4d178d938db344f131007ed
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2009-07-22 11:34:35 +0800

    Use the correct types for address variants

commit 40de1451bc17409db01797830a93f7cacbab4c75
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2009-07-13 13:32:28 +0100

    Include in gtk-doc

commit 7df1022ccfcfdb8c22164a4b478c114d9d283a52
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2009-07-13 11:52:26 +0100

    Testcases for abstract unix sockets

commit eca9778ce3ab1afcae8a3bf042401fd5278635ae
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2009-07-13 11:36:28 +0100

    Add test_variant_to_sockaddr_unix testcase

commit b94794d56b51036d23a04ea25975720234e16ead
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2009-07-13 11:17:53 +0100

    Add test_sockaddr_to_variant_unix testcase

commit 899b44ec2d023032e9acc37caab9f18d1067abe4
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2009-07-13 11:17:33 +0100

    Plug some leaks

commit c2f846cb444fc4a5b4c509c6ce09987312ffc5c8
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2009-07-11 17:56:46 +0100

    Add test_sockaddr_to_variant_ipv6 testcase

commit 44981132f41e61ef83be4b09e58e8635da0df0f2
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2009-07-11 17:53:58 +0100

    Add test_sockaddr_to_variant_ipv4 testcase

commit 2052b468d77ad5e4dcff9af91b4b4f944a28c41a
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2009-07-11 17:45:09 +0100

    Add test_variant_to_sockaddr_ipv6 testcase

commit eeb3e1a6c51c6c32608e82ae0ef17496a3d98639
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2009-07-11 17:42:03 +0100

    Add test_variant_to_sockaddr_ipv4 testcase

commit 4bbd60fcfbe6ff924158f58f530bfc6874b27ece
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2009-07-10 15:15:46 +0100

    Move API to gnio-util, set hard requirement for GIO

commit bb6fb3cf61bb34fdae4db22eb6635e21b572666f
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2009-07-10 14:30:09 +0100

    Initial version of tp_address_variant_from_g_socket_address()

commit 04fdd52630e235372192843485f94de88493ca75
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2009-07-10 14:29:48 +0100

    Use specific Glib/DBus type for ay

commit 275a7fb470e8b23c101b1fcacc04068b36ac614e
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2009-07-10 13:40:41 +0100

    Only include gio-unix headers if gio-unix is available

commit 513eac32bd813782103d74dde8840ce68115c0fc
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2009-07-10 13:38:17 +0100

    Initial version of tp_g_socket_address_from_variant()
    
    Converts a GValue address-variant to a GSocketAddress

commit e647409b2be2aa3f98c527fe1aa7db8f2ee5d0fc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-22 18:28:27 +0000

    extensions/Makefile.am: delete _gen/misc.xml in clean, etc.

commit 7681838ed4c82198be95a90ac98395b607dab94c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-22 18:22:29 +0000

    extensions: use the spec's copy of Call stuff, not our own
    
    This also fixes distcheck; the Call spec XML was incorrectly not in
    EXTRA_DIST.

commit bc62ca21f71fc6a84cad4f5c4e105e5c0870e6e3
Merge: 0fdda7d 7bc9ce4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-22 18:10:09 +0000

    Merge branch 'from-the-future'

commit 0fdda7da58232f3bacded364ad6cd9c61db9c2a8
Merge: 0d5d659 ae1f29e
Author: Vivek Dasmohapatra <vivek@collabora.co.uk>
Date:   2010-02-16 17:13:38 +0000

    Merge branch 'telepathy-glib-0.10'

commit ae1f29e174b00360ed142fa5c917465313484ebb
Merge: 89195ce cb9d71d
Author: Vivek Dasmohapatra <vivek@collabora.co.uk>
Date:   2010-02-16 17:12:58 +0000

    Merge branch 'telepathy-glib-0.8' into telepathy-glib-0.10

commit 0d5d659b9ae48183acc0ffa2d3460b4b8dea0715
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-21 14:22:19 +0000

    Depend on GLib 2.22 for better const-correctness
    
    Also bring the pkg-config files up to date with the correct dbus-glib
    dependency.

commit 40439f32b124f30d3147b1fd6ca4e18cabea8c4c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-21 14:20:50 +0000

    Revert "fd.o#25600: account{,-manager}: make sure g_s_a_r_set_from_error gets a non-const GError*"
    
    This reverts commit f047ad9811a24111ba264319dc7519a949335e1d.

commit 8bb32392cf0561d9621cd48cd966305b25e19630
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-21 14:20:12 +0000

    Revert "account{,-manager}: cast const GError*s to GError* when passing to g_simple_async_result_set_from_error"
    
    This reverts commit 5620910fe58d95d62754437eeabc7befa95675e6.

commit 367d49cc0ab2c194a37e3400d4b4bbb2f3276083
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-21 14:19:40 +0000

    Generate code for the Balance interface

commit 963007bb16b76e6ccbad082fef1184785349cada
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-21 14:12:23 +0000

    Import telepathy-spec 0.19.0

commit 5eacf345c57b919883db082ec2aad1609e8fa251
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-21 14:07:38 +0000

    Start 0.11.0 development; omit 0.6.x, 0.7.x from ChangeLog

commit 8c559bbedf1b34ec5339ff19a1261961b3c2b4e6
Merge: 3375ab6 89195ce
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-21 14:03:21 +0000

    Merge telepathy-glib-0.10 into master, rejecting the changes
    
    The changes in that commit are 0.10-specific and shouldn't go into master;
    doing a no-op merge means git will skip them in future.

commit 89195ceb1bd2fa7f2a56340f5de273550413e3c1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-21 14:00:42 +0000

    Start 0.10.1 development
    
    * Simplify instructions in configure.ac: this branch shouldn't gain API
    * Upload 0.10.x docs to .../telepathy-glib-0.10.x/ in future
    * Ask people to report bugs with ...&version=0.10

commit 3375ab62d0300ed6ffad906c9a40de4aaa6f0d16
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-21 13:57:36 +0000

    configure.ac: set a more specific bug-reporting URL

commit 1d1a103cae40903a362e040d7aeb6f713cb3325e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-21 12:55:21 +0000

    Prepare 0.10.0 stable release

commit a060fd26fcdbe86834cb82ba7dc8dc1e301d45dd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-21 12:54:51 +0000

    Fix some punctuation, so gtkdoc sees TpAccountManager::account-disabled
    
    gtkdoc 1.13 considered this signal to be undocumented, due to incorrect
    punctuation in the documentation comment.

commit 99f9fecfba7a368caf73c3fdad282d0a342fd0d1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-21 12:24:50 +0000

    Update NEWS

commit 81c1ad8bb7ead8d89e1a335ba7df4e2486368ba1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-21 11:57:57 +0000

    with-session-bus.sh: fix a bashism
    
    Redirecting both stdout and stderr with &> doesn't work in dash.
    
    Reviewed-by: Sjoerd Simons <sjoerd.simons@collabora.co.uk>

commit 7bc9ce497b1ad511c90e20ce2672d2df1e4b45e7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-15 12:27:40 +0000

    example_call_channel_set_state: *un*ref the old Actor
    
    Spotted by dilinger.

commit cb9d71d2b9275d9bdba42200e0f827a4962f29cf
Author: Vivek Dasmohapatra <vivek@collabora.co.uk>
Date:   2010-01-12 19:41:13 +0000

    Don't bother with an idle call to poke a taken message into the queue.
    
    This avoids what we think is a potential ref leak when a message is
    queued-for-queueing and then its channel is closed before it is actually
    added to the queue by the idle callback.
    
    incoming_target private member not used except for queue_pending, drop it
    and pass as an explicit arg.

commit d74822f88de41a65321109a9647747bf6a0b876f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-11 15:26:27 +0000

    Copy in a better version of lcov.am, from Gabble
    
    * get the package name and git commit programmatically, rather than
      hard-coding the report title to telepathy-glib
    * allow extra arguments to be passed to make check by make lcov-check
    
    Reviewed-by: Sjoerd Simons <sjoerd.simons@collabora.co.uk>

commit c286dfc81b3cde0313a48c0b8667a16d202f9c32
Merge: c08f691 46dc867
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-11 15:22:02 +0000

    Merge branch 'trivia'
    
    Reviewed-by: Sjoerd Simons <sjoerd.simons@collabora.co.uk>

commit 46dc86715c3ff6b0e582ddca90ea38a98ca43d81
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-11 15:17:35 +0000

    tools/glib-ginterface-gen.py: allow D-Bus methods' names to be C keywords
    
    For instance, if you implement a Register() method, it would mangle to
    register(), but register is a keyword. Appending _cb (to get
    register_cb()) works around this. This is safe because the interface
    struct isn't API (it's only visible within its svc-*.c file).

commit a9cd3574ef61d7c0085a6fa7df6a6e84245a4029
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-11 18:18:25 +0000

    .gitignore: ignore intermediate files for gcov 4.4

commit c08f691bd4bcb9fa24ba82e7acf541ac5c54357e
Merge: 03e1cac 0770ccd
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-01-11 13:59:58 +0000

    Merge branch 'distcheck-UNRELEASED'
    
    References: http://bugs.freedesktop.org/show_bug.cgi?id=23848
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 0770ccd0a7cfbce92a7b7a003e411e0e6dd67554
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-12-28 13:55:57 +0000

    The timestamped log format changed in 0.9.0.

commit c59dfc5c50d540eab1ef1fd681b9861859b8eb9e
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-12-28 13:52:55 +0000

    TP_PROP_* were added in 0.9.2

commit 45ed1c8b96566d4b8dd74356f2ba851fc11d34ef
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-12-28 13:51:03 +0000

    Check for files saying UNRELEASED during distcheck
    
    Reference fd.o#23848, and showed up a couple of UNRELEASED that slipped
    into releases!

commit a6ee8fce843f16b357c89935a95a657269b6f48a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-12-28 13:26:24 +0000

    Fix coding style checks for out-of-tree builds
    
    This is 61d7c72 from telepathy-gabble.

commit 03e1cac41aaa8b38b529f7fdb772d39b716d6245
Merge: 9b5b176 bfc6789
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-18 20:50:20 +0000

    Merge branches 'account' and 'unused'
    
    Reviewed-by: Sjoerd Simons <sjoerd.simons@collabora.co.uk>

commit bfc6789e79f56e80574b7b78380277e256498095
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-18 18:09:09 +0000

    various: warn about unused results that would indicate an obvious leak

commit 9b44e18f87cee6580a1f2e99fa216b3d9d36073a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-18 18:08:19 +0000

    tp_asv_new: reformat attributes so gtkdoc doesn't get bewildered

commit 3351cb19b6fbaea41637c02231491a5d340bec88
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-18 17:46:32 +0000

    TpIntSet, TpHandleSet: warn if some functions with no side-effects have their results ignored
    
    That'd be harmless but nonsensical.

commit 9f27989c2c8e7555eb33b2bd9cbd1c4907d4c240
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-18 17:45:49 +0000

    TpIntSet: warn if allocator functions have their results ignored, i.e. leaked

commit 949407acc697c5342cc03609bfc43cf5aeb0cdbb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-18 17:44:45 +0000

    handle-repo: warn if the results of allocators are ignored (i.e. leaked)
    
    In the case of tp_handle_set_update and tp_handle_set_difference_update,
    it's important that we warn, because a casual observer could miss the fact
    that these functions return the difference and assume that they're void,
    leaking the result.

commit 6ce4d518b4dadb31834553606e40bc1a539b095f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-18 17:43:12 +0000

    dbus: warn if the results of allocators are ignored (hence leaked)

commit 4073c3cdb0ae56f64599a603d46e58917cb53afb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-18 17:42:53 +0000

    util: warn if the results of allocators are ignored (hence leaked)

commit d8eab2474943e7ad43b7132a1e7f1f5392955bc4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-18 17:42:00 +0000

    fd.o#25149: TpAccount: when invalidated, signal connection disconnection
    
    If the account is deleted, the connection is about to be disconnected,
    but we'll no longer tell the user that after we've been invalidated, so
    tell them in advance.

commit 9b5b176bb4f5ca4b0c845eec6921e44e2218fcc4
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-18 17:09:41 +0000

    Libraries shouldn't set the fatal log level
    
    A CM should choose by itself it it wants criticals to be fatal, it's not a job
    of the library.
    
    Fixes bugs.fd.o#14603

commit bf51ca15daa622235864fe8f2f36b4824ddf8a65
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-18 14:46:39 +0000

    When disconnect from the bus, exit the mainloop nicely

commit 3b65e1e49db3411c281d8bcd4e0aa6de2cd21ed3
Author: Xavier Claessens <xclaesse@gmail.com>
Date:   2009-12-16 10:57:17 +0100

    Fix typo in doc of tp_g_signal_connect_object

commit a0eb153b839d7758756cf530de4301a7bc638306
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-14 17:23:33 +0000

    ExampleCallChannel: toggle the LocallyHeld flag at the same time as the local call state

commit 6585d07706e742328b2c0f1f881ea8c818942422
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-14 17:17:15 +0000

    ExampleCallChannel: track contents by name, and respect the requested name (which might be user-visible)

commit e000a502c52505267d476e0c9a34ccb14f15c5b2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-14 16:16:27 +0000

    ExampleCallChannel: remove peer on termination (questionable, see fd.o #24936 #c20)

commit 650fbbfbb27df8b8964a9879d6a97d2de2487977
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-14 16:15:45 +0000

    ExampleCallChannel: simulate ringing when we call someone

commit 99505c976f54fe93011a97e33a456693a8d5d920
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-11 18:32:29 +0000

    ExampleCallManager: require calls to have initial audio or initial video

commit e2a794485623625b5230201c56cd56c6a31d7ed2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-11 18:24:21 +0000

    Call CM: adjust comments to reflect that Call is implemented now

commit b40876c9731ffd315ffc2cd29e9b666d7b68438f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-11 18:19:10 +0000

    ExampleCallChannel: implement Ringing()

commit b845b7098784f37774c27cb106204f060ce157e7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-11 18:18:48 +0000

    call-example test: test_basics: exercise call states

commit 5798ce35828676cf6f5a21e295dd16b57c476ed8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-11 16:22:16 +0000

    ExampleCallChannel: Accept(): only accept proposed sending in initial streams

commit aa43e6b5311b923be78a8cac7fa726b8c7b351c8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-11 16:19:52 +0000

    ExampleCallChannel: set Initial disposition on initial contents

commit f467b49baba5e9d4da98fff187394cf96f6534a8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-11 15:48:19 +0000

    ExampleCallStream: ref the Connection directly, not via the Channel

commit 9a76dd061b31521d09a53c7f80c81ed8d44fa9f1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-11 15:33:44 +0000

    ExampleCallChannel: terminate streams when call ends, rather than emitting a signal that the streams use
    
    This reduces a circular dependency.

commit c9d44f2875e50dd22757b658626621898e3bb05d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-11 15:21:45 +0000

    ExampleCallChannel: store contents in a set (an object => itself map)

commit 1bd5cbc7b14bb7822729ab77b87b5447b9993940
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-11 15:16:54 +0000

    ExampleCallStream: remove vestigial id property

commit 609e3e6130cc07b614b87d35612c6a89e9bdcdec
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-11 15:01:46 +0000

    ExampleCallChannel: don't bind to streams' signals directly

commit f8302876237c2a1e4f4286e4d385d666a3bb8565
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-11 15:01:21 +0000

    ExampleCallContent: emit stream-removed

commit b6b9dc499b91f60d83407e486099c63590743302
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-11 14:30:27 +0000

    ExampleCallStream: refactor direction-related functions and make them static
    
    The Channel used to call them, but it doesn't any more.

commit d9d634c4efbf7e95520304f66d8f8dd4517749c6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-11 14:23:06 +0000

    ExampleCallStream: express directions in terms of Call sending states

commit 25e31cbe678b51cad6606a5facfa21203417fded
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-11 14:05:23 +0000

    ExampleCallStream: remove stream-info, type, state, pending-send, direction properties
    
    These aren't relevant to the Call API.

commit 82c94b6539515a0d5bdd0f9573f86d8f236a2921
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-11 13:53:30 +0000

    ExampleCallStream: remove direction-changed signal (no longer used)

commit 0851089596a06ee4b8c32f3928bc7ede1e0832c9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-11 13:44:52 +0000

    ExampleCallChannel: stop emitting StreamedMedia signals or implementing that interface

commit 285737c973e7552a8f9a1f09f161368b7acf570f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-11 13:42:18 +0000

    ExampleCallStream: emit SendersChanged notifications

commit ee8a223501072d523d344c8aefc17cfe1a5ac113
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-11 13:41:48 +0000

    ExampleCallStream: implement Senders property

commit c02e7419fd3b99aa421f704db83e3a1d3bc9d431
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-11 13:50:56 +0000

    ExampleCallStream: defer setting stream direction until constructed
    
    Otherwise, we'll potentially emit signals etc. before everything is set
    up, and in particular before we know the self-handle.

commit 6760a061a4523520866c3a92d12b14ff319aed46
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-11 13:41:19 +0000

    ExampleCallChannel: stop implementing RequestStreamDirection

commit 1b6f62c71c2848996a44613568f0b65e2985086c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-11 13:26:53 +0000

    ExampleCallStream: implement SetSending, RequestReceiving
    
    For now they're in terms of the old "stream direction".

commit 8d453c0eb2978ac81ad61727626fbb2abaf8db78
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-11 13:06:17 +0000

    ExampleCallChannel: stop implementing ListStreams, RequestStreams

commit 8960fd27840b2dc56bdd447ea4f5942795966fbd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-10 19:11:04 +0000

    ExampleCallChannel: comply with Call API by not actually making outgoing calls until Accept()ed

commit c6baa3b1c8130be18c813b646bb46c2f66414e1a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-10 18:49:01 +0000

    call-example test: test_terminate_via_close: use InitialVideo instead of requesting a stream

commit 06a998d7abc487932093bc59dfe552cc8c366331
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-10 18:48:42 +0000

    call-example test: test_terminated_by_peer: use initial audio/video

commit 09158a9d7673f77a6f0755c3b76478397c3990ec
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-10 18:48:21 +0000

    call-example test: test_busy: use InitialAudio instead of making an audio stream

commit dbdd816cfb66ab8850f3e4e580d6d29364fd17c8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-10 17:57:35 +0000

    call-example test: test_basics: use AddContent, not RequestStreams, to add video

commit 4c30b4c30151d53599fa7ab55b7972e0881ad767
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-10 17:10:11 +0000

    ExampleCallChannel: don't implement RemoveStreams
    
    There's no equivalent in Call.

commit a7fe61ba01a69bd1736b1bd37ae4bc949395cead
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-10 17:09:53 +0000

    call-example test: don't exercise RemoveStreams
    
    There's no equivalent in Call.

commit cfed060d2e64dc60087ca9f156dd06bae1c83bb6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-10 16:20:59 +0000

    ExampleCallChannel: implement AddContent (for the second and subsequent contents only)

commit 6cf019bdb246d558db39401d87d769679d574ff4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-10 14:44:57 +0000

    call-example test: stop monitoring StreamedMedia events

commit 80f3d1457209c030ad7abed13e10ad6194c190ff
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-10 13:12:25 +0000

    ExampleCallChannel: don't be a Group at all

commit 6661980f3a5318c9d2091f3fd6fbadeac9c07a63
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-10 13:05:34 +0000

    call-example test: don't track Group state at all

commit 38a8b3cbc611609904571b418bc7a61371855661
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-10 13:04:42 +0000

    call-example test: test_incoming: assert about Call, not Group, state

commit d5bd17b0affbc150594f5d1739532c6e29a428c5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-10 13:01:20 +0000

    call-example test: check state of incoming calls via Call
    
    Also store the handle of outgoing calls, and assert that incoming calls
    come from the expected identifier.

commit 15529a39358f3c34815abe8b8f7d35d88fac388b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-10 13:00:24 +0000

    call-example test: test_terminate_via_no_streams: remove entirely
    
    In Call, trying to remove the last content is meant to give an error
    rather than terminating the call, in an attempt to reduce the number
    of ways in which we can terminate calls.

commit 64a6537bd05e6f97c9c72713bae9bec11678b557
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-10 12:28:54 +0000

    call-example test: test_terminate_via_close: remove Group assertions

commit e4099550760087d1048b78e3c291391cecf42c13
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-10 12:24:42 +0000

    call-example test: test_busy, test_terminated_by_peer: remove redundant assertions about Group and StreamedMedia APIs

commit 542ec85d637e215bf933b05c5f9ab7c196f2a812
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-10 12:22:43 +0000

    call-example test: test_no_answer: assert call state in terms of Call, not Group

commit f58eb61ef09ddeef45059adfb21ff3164456bde6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-10 12:22:27 +0000

    call-example test: test_basics: assert call state in terms of Call, not Group

commit 264473a34c80408a02d1e23b4969a6b0ffa1950a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-09 19:32:05 +0000

    call-example test: factor out assertions about call properties

commit 94c1b8e34e5eb27574ef482f4992ca69e3b7d794
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-09 19:17:57 +0000

    call-example test: check basic Call properties on startup, not basic Group state

commit 227bad8b6800e019bfcedd8171ffaa715330364c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-09 19:17:33 +0000

    call-example test: use the Call interface to wait for an answer

commit d70d4140136643daf0865a79286c5ce936eb1d9a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-09 19:08:07 +0000

    Call example and its test: set channel type to Call, with a pseudo-StreamedMedia interface for porting

commit 6d279e33ee587a714c64164068c35194f3336dd3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-09 18:59:02 +0000

    call-example test: accept incoming calls with Accept(), not AddMembers()

commit e9302a2b3262bcf812cf8532a6cd809084d12658
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-09 18:56:41 +0000

    ExampleCallChannel: implement Accept()

commit d7dabec97618c1180ce385a7fcb25f2dd6fb8d01
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-09 18:47:24 +0000

    ExampleCallChannel: factor out accept_incoming_call()

commit 1e8b1b1c5444b37a2e765f6075a23e82a2f63912
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-09 17:54:21 +0000

    call-example test: use Hangup() rather than RemoveMembersWithReason() to hang up

commit f458880bf0e7ef3e578fb0303c28e26ce023908f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-09 17:53:58 +0000

    ExampleCallChannel: implement Hangup()

commit 2b9756866043398de63d4ef79d3b3c13630532ae
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-09 17:53:37 +0000

    ExampleCallChannel: put Call in the Interfaces so client code can use it

commit c9ab7d1520c14e3eece6898e42cc268e70c33c73
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-09 17:37:40 +0000

    call-example test: assert that calls end for the right reasons

commit 01c47d2b8ca4c8a25fe531b69d1995d4c3412ed9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-09 17:29:02 +0000

    call-example test: assert_ended_and_run_close: assert there are no contents

commit 8754fdd2536f1e25ea4bc034afabd02df1738a1d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-09 17:23:05 +0000

    Call example CM: never close channels until Closed() (or connection disconnects)

commit 2c2826c7be56390472726cfee599f130f253a77e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-09 16:38:58 +0000

    call-example test: connect to StreamedMedia signals sooner

commit 8f27f702040cc6e808088376c5b5bc03ca32ebd6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-09 16:06:19 +0000

    call-example: use g_set_prgname for more legible debug output

commit 2351eb190fe4e0f043a0bc6602ff30439ff96d9c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-09 15:29:31 +0000

    call-example test: allow for initial content, and use it in test_no_answer

commit 6aaf409aeb616672846e196f13ea581f5d125ede
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-09 15:06:05 +0000

    call-example test: test_basics: defer tests for invalid RequestStreams calls
    
    When we port this to use InitialAudio, the earliest point where we can
    reasonably RequestStreams will be later.

commit 8c9161789c5e6d21466a8b862ff19dc7f32ef3e4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-09 15:04:25 +0000

    ExampleCallManager: support InitialAudio, InitialVideo

commit a2a4e683fed661943bf6033a873306a59e338e0f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-09 15:41:19 +0000

    example_call_channel_initiate_outgoing: factor out

commit 034a609eb0b55d1f8e40631a123b02bd6416a7f5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-09 14:47:55 +0000

    call-example test: factor out assert_content_properties

commit a16ae59e89c492f95d4756889bde9f04e5ad6d75
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-09 14:02:35 +0000

    call-example: test_basics: stop using ListStreams

commit debe5704ab71408072e5831d955742f219f9f491
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-09 13:50:24 +0000

    call-example test: start to assert about the Content's properties

commit 8a88c8f4a6fe1ca7c61df144ad89971c5f02e2b6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-09 12:14:10 +0000

    extensions: give Call.Stream its own TpProxy subclass
    
    When stable, this can be moved into telepathy-glib as TpCallStream.

commit e4675cc830d10f109b936671c3e53a2cc75244ce
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-09 12:10:45 +0000

    extensions: start a TpProxy subclass for Content

commit a8d9ce642be0149bb752059193daa95fa4ec8e4a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-09 11:44:10 +0000

    call-example test: simplify headers

commit a91b9ce70492c5b970b0fa5d61b360302cb7e98e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-09 11:42:32 +0000

    call-example test: initialize future extensions

commit 81fa4604def638387c9b1388afbfee27fa1df637
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-09 11:42:12 +0000

    extensions: generate client bindings for Content, Stream etc.

commit 2429342ebb41ddaa988183904cb844c12871d7c4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-08 20:01:14 +0000

    call-example test: whenever we list the streams, also assert that there are the right number of Contents

commit f767f934311a867d71d45b0064083b34494d30ef
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-08 19:34:57 +0000

    ExampleCallChannel: set the reason when closing the channel

commit e7fe3f8285e90d9377bb55e4319e327cdb098f7d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-08 19:29:01 +0000

    ExampleCallChannel: track call state and reason

commit cf660102018440dcee6b53b278a20a4658deffc9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-08 18:48:27 +0000

    ExampleCallChannel: use Call_State for call progress rather than reinventing it

commit df2bf5476ff7e6afaa6f18d0565c566ba47488c7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-08 18:09:40 +0000

    ExampleCallContent: circularly reference the connection, not the channel
    
    We only need the connection, really (for the handle repository).

commit ea07bc9d2051f9fd2974a0bf6ba74aeb3d7bf0f1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-08 18:08:49 +0000

    ExampleCallStream: remove vestigial circular reference to content

commit a131b9a2854f23f21ee3d450d0b656a3e5506c02
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-08 17:58:12 +0000

    example_call_content_add_stream: emit StreamAdded

commit d4fbc96640758bf9e172e78a53e9a1bc45119d64
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-08 17:56:43 +0000

    ExampleCallContent: implement Streams property

commit 3d7788c660ed38e0ec343ef766f2be27b9016e74
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-08 17:54:45 +0000

    ExampleCallChannel: store streams in contents, rather than directly

commit bf3f3956fa74d4bfb5468854bfe12f515b630c08
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-08 17:34:41 +0000

    ExampleCallChannel: signal the addition and removal of contents

commit 61058ba71c6013fe27d6d8b38abb5fe896c17dc2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-08 17:18:00 +0000

    Call CM: export contents, streams on D-Bus

commit 813dc5c1cb64ee0c19babbbabf1a9fb9ffef385b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-08 17:02:48 +0000

    ExampleCallChannel: use TpDBusDaemon to export object

commit 222024f7cbfb6c85fb27da7a73fd35383498ab60
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-09 15:43:43 +0000

    ExampleCallChannel: add stub versions of all the Call properties

commit 65d161e5a474746d8df7331eb795f0a3b883e077
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-08 15:56:22 +0000

    Add a test for the Call example CM (copied from the Callable one for now)

commit 9434e83811c82744589301917bb2d2ca259b2770
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-08 15:33:21 +0000

    ExampleCallChannel: create stub contents, as well as streams

commit 65abbc5d095ac31266138b7f1017881fa8c96d8b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-08 15:06:18 +0000

    ExampleCallContent: add properties (Streams is still a stub)

commit bb2ae588a38245ad778e8f066d5b10e9ac403590
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-03 14:45:06 +0000

    Future Call CM: add stub implementations of appropriate future interfaces

commit 0893603acc5c91648f4288d1904ec6af5e09044c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-03 14:21:49 +0000

    Link the future Call example CM against the future extensions library

commit d74d2b25ab86a29db349f98d5119e16ca7d56f4d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-03 14:16:31 +0000

    Add a copy of the callable example CM, to be converted into a Call example
    
    Changes relative to callable:
    * re-namespacing, re-indentation
    * memory-leak fixes from my valgrind branch
    * DTMF support removed, since the DTMF interface isn't applicable to Call
      yet
    * stub ExampleCallContent object added (doesn't do anything yet)

commit 4441aa687b974ee39b0b4ca39767886fef764506
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-03 14:27:58 +0000

    extensions: generate bindings for future Call interfaces, from spec 0.19.0

commit 2e63a8b367b8d75376ea80bdf8e0b2923922465a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-03 14:45:30 +0000

    Add stub 'extensions' directory
    
    This builds a library for future interfaces (Call will be the first), so
    we can port telepathy-glib's example code to them even though the
    interfaces aren't yet stable.

commit 8b2ef1d6092d8dc6360ac68f903989e52d88a046
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-11 18:18:25 +0000

    .gitignore: ignore intermediate files for gcov 4.4

commit 51d4266feefcfe5c13dc0a52c4c962d56d6dcdff
Merge: f047ad9 519dfa7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-14 15:14:26 +0000

    "Merge" branch 'telepathy-glib-0.8', rejecting the only change
    
    The change to the documentation upload directory is only for 0.8, and
    should be ignored in all future 0.8 -> 0.9 merges.

commit 519dfa70ab4bd29db8c4c384754aaae6dd525518
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-14 14:53:38 +0000

    Makefile.am: upload docs for any further 0.8.x releases to the right location
    
    Reviewed-by: Sjoerd Simons <sjoerd.simons@collabora.co.uk>

commit f047ad9811a24111ba264319dc7519a949335e1d
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-12-12 16:55:05 +0000

    fd.o#25600: account{,-manager}: make sure g_s_a_r_set_from_error gets a non-const GError*
    
    Rationale of this is explained in 5620910f. It just wasn't honoured
    when adding new calls to this function.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 4d80fdabaec36ed810be1dfd7da98fb61159800b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-03 21:45:35 +0000

    Nano version

commit eb655688bf6b73a55318d7d3ef6c33b9e4322cb9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-03 20:12:14 +0000

    Prepare version 0.9.2

commit ad184cda01b089c5034eef6ae32a4607ed6a6023
Merge: 30fefb6 63afecb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-03 20:03:39 +0000

    Merge branch 'trivia'
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

commit 63afecbb96d832e78fe9bb1466e839d30c87e6cc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-03 19:32:38 +0000

    Relax glob in .gitignore to ignore distdir for current as well as old versions

commit 0ceb670bce43f76ddd907e47aba4bb015cfe543c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-03 19:32:08 +0000

    tests/dbus/Makefile.am: support out-of-tree builds, and distribute dbus-1/session.conf.in

commit 144b662c2508f065b752653c11638352bba95737
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-03 19:31:45 +0000

    tests/dbus/Makefile.am: silence mkdir commands

commit 8b2fcda35dbe6ea2cd9f5eb7849af7dbfe176720
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-03 19:19:41 +0000

    Distribute and install telepathy-glib.h

commit 8ec511d1a0ebf804514659679ecf57f89d8526d7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-03 19:14:44 +0000

    Distribute telepathy-glib/util-internal.h in the tarball

commit 30fefb60d7cd84f5049d886566cc03b00b0bc94c
Merge: 0ffec90 74ad8e1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-03 18:59:02 +0000

    Merge branch 'valgrind'
    
    Reviewed-by: David Laban <david.laban@collabora.co.uk>
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

commit 0ffec90276a11ecf7e28198bb38fc9b069ac6fc3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-03 16:01:16 +0000

    Update NEWS
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

commit e5e0dbe7f761f8656b796dd6d40c230ab20c1cfa
Merge: ad9cc76 8fb1971
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-03 16:00:06 +0000

    Merge branch 'leaks'
    
    Reviewed-by: David Laban <david.laban@collabora.co.uk>

commit 74ad8e124d0d23826a5528a5474e460ca43a6902
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-01 17:45:28 +0100

    valgrind.mk: say what suppressions we used

commit b415ac35ab5c3ff0c1c71d88f8de77cee4b6db20
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-03 14:50:58 +0000

    tests: improve normal and valgrind environments
    
    Normally, run with G_SLICE=debug-blocks (so GLib finds our bugs).
    
    Under valgrind, use G_DEBUG=gc-friendly and G_SLICE=always-malloc.
    
    Also fix a typo that resulted in check-valgrind not actually valgrinding
    the non-D-Bus tests (missing '\').

commit 65e15e6091800ec2c37d08e486258d6875af4a34
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-01 16:59:43 +0100

    valgrind.mk: don't show reachable objects
    
    In practice, I don't think we can suppress all the false positives this
    gives us without also suppressing real leaks.

commit 1cc3a9593bc103a85967ee882bbb385a0d590d58
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-01 16:41:18 +0100

    telepathy-glib.supp: ignore GSlice initialization
    
    The previous suppression only worked for GLib in /usr, and wasn't very
    specific.

commit 2d11ca85e44f33f590b352559c3b8016d7673945
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-01 16:37:44 +0100

    telepathy-glib.supp: more dbus-glib non-leaks

commit 9ceb712b2c8aa88099f252a074aadc074847e970
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-01 16:37:32 +0100

    telepathy-glib.supp: document more telepathy-glib non-leaks

commit 2fa0d932088ca4d8812bbf3f46f787d51ff94730
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-01 15:39:23 +0100

    telepathy-glib.supp: ignore dbus_g_connection_register_g_object's GSList
    
    It's only freed when the DBusConnection closes, which in our case usually
    doesn't happen.

commit fb23048a8b522419076d63fc05aa124bcec19483
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-01 15:38:09 +0100

    tp_proxy_subclass_add_error_mapping: annotate an intentional one-per-process allocation per error enum

commit 7dcbadc9dc15599f62b2cb7e2ee9f7940fd05782
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-01 15:15:01 +0100

    Ignore more GTest admin

commit 4479b6cce14fb1b145a27c0b23f295152397b504
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-01 15:14:48 +0100

    Annotate an intentional one-per-process leak

commit fdeb580398f78aa86315c32ed545c205bcf66353
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-01 15:14:30 +0100

    telepathy-glib.supp: ignore g_intern_string, g_intern_static_string
    
    These are meant to leak (strings in the first case, and hash table entries
    in both cases).

commit 23581e0255453a91fcd152dc0fb44d1fee5d5f91
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-01 15:02:26 +0100

    Make the "GTest admin" suppression more general

commit 5b16ab679462f540d21fd94ba3280476b64bbfe1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-01 15:01:02 +0100

    telepathy-glib.supp: remove redundant suppression for GTest calling g_get_charset

commit db8a2a53a8ebc59b558b4d53d4b32c198ba83bc2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-01 15:00:44 +0100

    telepathy-glib.supp: ignore all leaks in libc dlopen initialization (due to handle leak debug)

commit 8f69846e0eacf758f35eb3d8d1f6034e243e6bb2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-01 15:00:16 +0100

    telepathy-glib.supp: ignore all "leaks" in dbus_g_bus_get

commit 7a62d1844e614a0d2c0c243f82403d2d11dc68c8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-01 14:56:49 +0100

    telepathy-glib.supp: add some more generic suppressions

commit 63ceaa9286a5b5ba1cf30b9954601140b6b7893d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-01 14:51:16 +0100

    telepathy-glib.supp: use ... wildcard to make suppressions more generic
    
    Some of these were far too specific, and no longer matched newer GLib.

commit 7c0af0be354edad11930d2d0e6de897ae7a57253
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-01 14:36:55 +0100

    valgrind.mk: let programs finish with their "natural" exit code, even if valgrind didn't like them

commit 94dae71c582130aa053c953311b604b6d8f04e28
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-01 14:36:32 +0100

    tests/Makefile.am: don't valgrind Python, it's doomed to failure
    
    Python needs a large and specific set of suppressions to deal with odd
    memory accesses, and none of our code is in that process anyway.

commit 07b03e187fb711f6006c7dbe0341ed0e6890153c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-01 14:30:34 +0100

    Add a top-level target to run valgrind, and make it log the output

commit 8fb197128960d4ba3095d9d53bc9af7858d411fe
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-01 17:43:52 +0100

    callable-example test: don't leak some of the test data

commit 1d22bde3ee935189fcb322415d16ffd86d63214a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-01 14:24:50 +0100

    Move telepathy-glib.supp to tools/; add and use valgrind.mk
    
    If we put all our valgrind stuff in one place, it's easier for other
    projects to use it.

commit 6742bdcafa54f453f65c3f98cf1bd2d185f75005
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-01 17:18:05 +0100

    ExampleCallableMediaChannel: in media_request_streams, don't leak the stream info "structs" (GValueArrays)

commit ff089ca591d46c197abc244a01a6ae38743fbbf4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-01 17:17:40 +0100

    ExampleCallableMediaChannel: in add_member, don't leak a TpIntSet

commit 2f54aa197e35a5f013e474daa6bd469d4479df01
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-01 17:17:19 +0100

    ExampleCallableMediaChannel: don't leak the streams' hash table

commit cbc7bc3673e1b6f4981f984ac4541090a21bb318
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-01 16:04:56 +0100

    tests/dbus/call-cancellation: don't leak the proxy 'k'
    
    Also, explicitly clear all the pointers so valgrind can give us better
    diagnostics about reachability.

commit d5ba197c1394b1e2492bacda7c5752008931759e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-01 15:38:42 +0100

    tests/dbus/unsupported-interface: don't leak bus_daemon
    
    This makes valgrind logs nicer.

commit 372ab2c3e5adb4912936845d00e30a792500fd09
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-01 15:37:36 +0100

    tp_account_manager_dup: don't leak one ref to the starter dbus-daemon

commit ad9cc760eaa5a5353e937f3a2f957e0cc5ee8fb2
Merge: 41ae93b a91b7cd
Author: David Laban <david.laban@collabora.co.uk>
Date:   2009-12-02 18:38:04 +0000

    Merge branch 'tests' to fix fd.o #25384
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 41ae93bdad60077b12635be021efb82783e45402
Merge: c87898d 53590ec
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-02 18:08:55 +0000

    Merge branch 'telepathy-glib-0.8'

commit 53590ec34948232f115eb20e6ea615f043730e7c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-01 20:37:47 +0000

    tp_dbus_properties_mixin_make_properties_hash: add missing call to va_end
    
    Cherry-picked: from commit 8a041e000f0b13101fae17eb8b289d2cf4156607
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

commit c87898d1d83693804c3590a976e586553f2a6dc2
Merge: c99c16a 9562626
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-02 18:06:53 +0000

    Merge branch 'coverity'
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

commit c99c16a783104aa502c6cc3ef329f5b6d9ad11e8
Merge: 0d39564 d84ccb1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-02 18:06:32 +0000

    Merge remote branch 'wjt/cope-with-utf8-spec'
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit a91b7cdeb936f2f83878bdedf97d0ff9124918c1
Author: David Laban <david.laban@collabora.co.uk>
Date:   2009-11-26 17:12:26 +0000

    Test fd.o #25384 by advertising a "valid account" which doen't exist.
    
    Fails if cherry-picked before the previous commit.

commit 05ba3e18b644b7aac966ae1ff0a097a923150968
Author: David Laban <david.laban@collabora.co.uk>
Date:   2009-12-01 23:52:48 +0000

    fd.o #25384 Remove any account which fails to prepare itself.
    
    Rather than the account manager just never becoming ready.

commit d93652a49f76f7b248e8ceb25f7dd2c626fe31cc
Author: David Laban <david.laban@collabora.co.uk>
Date:   2009-11-24 17:31:16 +0000

    Test that core is not ready when we have a new AccountManager

commit 3dcd4b4a2ed8c71ae6213758937bd1c67ba2e30d
Author: David Laban <david.laban@collabora.co.uk>
Date:   2009-11-24 17:22:36 +0000

    account-manager: Test prepare for an unknown feature.

commit dc2141ffcbe75b676794578b50b476e7e7c89704
Author: David Laban <david.laban@collabora.co.uk>
Date:   2009-11-24 16:56:56 +0000

    Don't let MC5 activate itself during AM tests.
    
    This sets up dbus to use a session.conf which doesn't include the
    standard services.
    This is the same trick that gabble's twisted tests use.
    
    I'm not really sure whether tests/dbus/dbus-1/session.conf.in is the
    best place to put the new file. If anyone thinks there is a better
    place for it, shout.

commit 0d39564bdd5ec4fe83dd6e92203dbe9f063c70a8
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-11-28 19:36:31 +0000

    glib-client-gen: mark deprecated D-Bus methods as deprecated
    
    Don't include the version string from the spec because it just makes
    things confusing.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 95626262b11f72f07169e5a6ef30c65477a1d5de
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-01 20:47:30 +0000

    call-cancellation test: remove an unused assignment

commit a05cdb0fa6c7742379b40bd9d71daa94266aad96
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-01 20:47:18 +0000

    tp_text_mixin_class_init: critical if the mixin class wasn't set up properly
    
    This avoids a coverity warning about the unused assignment, and matches
    the intention.

commit 5c8ad18883b2737498e4e010d0100e70a3ef7fc8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-01 20:44:13 +0000

    disconnection test: remove unused assignment

commit 5a130488ee8d9637486bfcacbada3f8f7c696d41
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-01 20:42:12 +0000

    contactlist example: remove unused variable assignment

commit cc3b89b6b329fd0d1b7fbe7f0b31d016cc4a4991
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-01 20:41:59 +0000

    echo2 example CM: remove unused variable assignment and unused return

commit c75b3a77bc5c195ffebae3eea82d484f334f17eb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-01 20:41:40 +0000

    channelspecific example CM: remove unused variable and unused return

commit 8a041e000f0b13101fae17eb8b289d2cf4156607
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-01 20:37:47 +0000

    tp_dbus_properties_mixin_make_properties_hash: add missing call to va_end

commit e7ed936024c074275c99eea09a3219108b5f92f4
Merge: 5105a2b 2c01f82
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-12-01 19:54:44 +0000

    Merge branch 'prop-constants'
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

commit d84ccb1752b9487f4d20a511752eec9437d332fa
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-12-01 17:19:56 +0000

    Cope with UTF-8 in spec XML

commit 5105a2b05b67c9282a4d37c81eb63c4198f2e62a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-11-26 16:43:03 +0000

    tp_account_manager_is_prepared: fix a confusing typo
    
    TP_ACCOUNT_MANAGER_FEATURE_CORE, not TP_ACCOUNT_FEATURE_CORE.
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

commit 120633e2d4fd779e85c56dd33ff5edfd71671ed5
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-11-25 16:37:42 +0000

    Don't rely on enum types being unsigned
    
    Not all compilers use unsigned types for enums even if all the values are
    postive, as such an enum with 3 items doesn't always fit in a 2 bit field.
    This can cause interesting bugs.
    
    Force the type to be an unsigned int, this hopefully doesn't break
    anything and fixes the bug without breaking ABI etc.
    
    Reviewed-By: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 63641083f05e59e3dbe0d83c347c3f977317d9cf
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-11-25 16:37:42 +0000

    Don't rely on enum types being unsigned
    
    Not all compilers use unsigned types for enums even if all the values are
    postive, as such an enum with 3 items doesn't always fit in a 2 bit field.
    This can cause interesting bugs.
    
    Force the type to be an unsigned int, this hopefully doesn't break
    anything and fixes the bug without breaking ABI etc.
    
    Reviewed-By: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 2c01f821d22f83210f96f24724c27a555a14207f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-11-25 11:37:43 +0000

    Tests: use TP_PROP constants and tp_asv_new for channel properties

commit aad960dd08d6dda24fad5c2a7d057053417f2099
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-11-25 11:36:26 +0000

    TpChannel: use TP_PROP constants

commit c5b12d7224d5071327a8546126568c0ea9c476aa
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-11-25 11:35:41 +0000

    TpBaseConnection: use TP_PROP constants and tp_asv_new

commit 3e3cb89153b078e63880b5858d79cda58ecf5603
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-11-25 11:34:19 +0000

    Examples: use TP_PROP constants and tp_asv_new

commit 9aea9925ffca341a6dcd83808fa89b721314b38e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-11-25 11:25:33 +0000

    Generate and document constants for D-Bus property names

commit 720a212aee81ad6612ec19fcede86a1ec791f046
Merge: 314b455 f452acb
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2009-11-25 07:22:22 +1100

    Merge branch 'unified-header'

commit f452acbec68d94d045a3bffafa8f67de3308ecbf
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2009-11-24 11:40:43 +1100

    Include some more headers in telepathy-glib.h based on suggestions from smcv
    
    See http://bugs.freedesktop.org/show_bug.cgi?id=25235#c1

commit 314b455de68fa347a2018b2787f25d5994328da3
Merge: 2faee57 b177b40
Author: David Laban <david.laban@collabora.co.uk>
Date:   2009-11-23 11:17:36 +0000

    Merge branch 'fix-25181'
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit b177b4088330474920d317f63d6cc67a0304873f
Author: David Laban <david.laban@collabora.co.uk>
Date:   2009-11-20 17:37:19 +0000

    tp_connection_get_contacts_by_handle(): avoid DBus calls when possible.
    
    Fixes b.fd.o #25181.
    
    If we already have all TpContact objects, we don't need to HoldHandles()
    or GetContactAttributes()

commit 707e69673088c0ece7611d072e86e4c12593c75a
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2009-11-23 10:22:47 +1100

    Port examples/ directory to include telepathy-glib.h instead
    
    Compile time increases from an average of 17.2s to 19.0s.

commit 573c6689045d9e53499b20168d8a3f175061009b
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2009-11-23 10:22:17 +1100

    Add a telepathy-glib.h which includes most of the common headers.

commit 2faee57e66d888effd65b4335b5eadc24c4eb71b
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2009-11-23 09:33:45 +1100

    telepathy-glib now depends on dbus-glib 0.82 for tests/dbus/account-manager.c

commit 2d05f466586689ab982fa7812bde20b5305b2e62
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-11-19 15:42:06 +0000

    update NEWS

commit 6c0e9ddf8439d33c26bd8ee064c90fd037492bf5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-11-19 15:37:53 +0000

    Don't commit to the next release being 0.10.0, we may want to do a 0.9.2 first
    
    (Also, this .abi file wrongly claims to be 0.9.0, and isn't in
    Makefile.am.)

commit 5d9652396fcdf205b8823b14a8d67663a80de2ff
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-11-16 14:14:04 +0000

    fd.o#25122: explicitly link against needed libraries (Debian#556486)
    
    This fixes failure to link with binutils-gold.

commit eeb4312bf94fa5058c23b11bc5ad626ae3426018
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-11-19 15:09:32 +0000

    Fix the naming in the tp_value_array_build documentation

commit 0595c50eafed9bf64f95b364836975578e9a4187
Merge: 660fc66 f40c759
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-11-19 15:46:10 +0000

    Merge branch 'trivia'
    
    Reviewed-by: Sjoerd Simons <sjoerd.simons@collabora.co.uk>

commit f40c759ceab61be8e6e90f4d0c35e64234ee9ac3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-11-19 15:42:06 +0000

    update NEWS

commit 46e053902aaf4d8da6999656b107fbd6593f9bf2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-11-19 15:37:53 +0000

    Don't commit to the next release being 0.10.0, we may want to do a 0.9.2 first
    
    (Also, this .abi file wrongly claims to be 0.9.0, and isn't in
    Makefile.am.)

commit ba4d3ad286b4518e77626dd1dc5578d3debaa7b8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-11-16 14:14:04 +0000

    fd.o#25122: explicitly link against needed libraries (Debian#556486)
    
    This fixes failure to link with binutils-gold.

commit 660fc665c23a99d5d3f3752136a387f9398fe655
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-11-19 15:09:32 +0000

    Fix the naming in the tp_value_array_build documentation

commit e5f3f93adf08ffba9d6962cd25f0de58fe9fc979
Merge: ef0590c ffabc5a
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-11-19 14:43:40 +0000

    Merge branch 'value-array'
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit ffabc5ae87ea0a0cd9f4c4e1a5b1cadb7479cd0a
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-11-19 14:18:57 +0000

    Add a test for tp_value_array_build

commit d99d1d3cc517254ae834e75f324e84580866b03f
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-11-19 14:18:46 +0000

    Add tp_value_array_build

commit ef0590caa1f9019e379a80347cd84c6aff9402f3
Merge: 062f57b 505fb23
Author: David Laban <david.laban@collabora.co.uk>
Date:   2009-11-19 11:58:56 +0000

    Merge branch 'fix-25051'

commit 505fb23085e5a0da11f927dc93874b5760824d5f
Author: David Laban <david.laban@collabora.co.uk>
Date:   2009-11-18 15:35:05 +0000

    _tp_account_manager_account_ready_cb: fix b.fd.o #25051
    
    Use tp_g_signal_connect_object to connect signal handlers with a
    weakref to manager.

commit e2f8b604a65e2dd403be37acf61d26fd692e1c0d
Author: David Laban <david.laban@collabora.co.uk>
Date:   2009-11-18 17:49:13 +0000

    Added tp_g_signal_connect_object() as public api.
    
    Basically like g_signal_connect_object() but less leaky.

commit 062f57b73c04881c45e3bc38b176a60ac775b4a6
Merge: 0b16340 4dd4323
Author: David Laban <david.laban@collabora.co.uk>
Date:   2009-11-18 13:13:30 +0000

    Merge branch 'fix-24654'
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 4dd43236b768324dfdbb3a24bfa16b67cd9bf3d7
Author: David Laban <david.laban@collabora.co.uk>
Date:   2009-11-18 13:09:58 +0000

    One more leaking code-path.
    
    I'll get used to this eventually.

commit 5594ed665bdd0d517a7e5123f5c1ed9848fa4417
Author: David Laban <david.laban@collabora.co.uk>
Date:   2009-11-18 13:01:43 +0000

    s/g_array_unref/g_array_free/ + fix leak + infer array size
    
    Copy-paste of previous commit.

commit e0342477ddd17823292fed06161e621be0cdb441
Author: David Laban <david.laban@collabora.co.uk>
Date:   2009-11-18 12:57:58 +0000

    s/g_array_unref/g_array_free/ + fix leak + infer array size
    
    Thanks to Simon for pointing this out.

commit 8dab7bfa8c5102901a421008d82c86e695b0ca3d
Author: David Laban <david.laban@collabora.co.uk>
Date:   2009-11-18 12:50:37 +0000

    _tp_quark_array_copy: Fix doc.

commit 5265b1b9b71d9b52cc47fba68c283d0c0b754d8c
Author: David Laban <david.laban@collabora.co.uk>
Date:   2009-11-17 19:28:40 +0000

    TpAccountManager: Don't use G_N_ELEMENTS() + fix typo.
    
    Copy-paste of a previous commit.

commit 3ec9551e95c7d64bf935fd68f659e1b3c1539127
Author: David Laban <david.laban@collabora.co.uk>
Date:   2009-11-17 19:10:53 +0000

    TpAccountManager: Make internal functions deal with GArrays rather than GQuark *.
    
    Copy-paste of a previous commit.

commit a57b0c2073f0805468dc34d85826bee6b88abdae
Author: David Laban <david.laban@collabora.co.uk>
Date:   2009-11-17 17:08:01 +0000

    TpAccount: Don't use G_N_ELEMENTS() + fix typo.

commit b7082c2e19f666ab6659e76b6bde44d2ebb1ccf8
Author: David Laban <david.laban@collabora.co.uk>
Date:   2009-11-17 16:34:39 +0000

    TpAccount: Make internal functions deal with GArrays rather than GQuark *.

commit d2feb23b836c2a9b5fa2650944e2afe6bfbb5937
Author: David Laban <david.laban@collabora.co.uk>
Date:   2009-11-17 16:31:38 +0000

    _tp_quark_array_copy(): copy a 0-terminated GQuark array into a GArray.
    
    This is a helper function for Account, as will be seen in the next commit.

commit dc502dc6b455cd0bebd380becc25b5b3aab8b095
Author: David Laban <david.laban@collabora.co.uk>
Date:   2009-11-17 12:03:56 +0000

    tp_account_manager_prepare_async: copy @features argument
    
    copy-paste of previous commit.

commit 99454f2a7626e28766c56b855631a6d1f777bb04
Author: David Laban <david.laban@collabora.co.uk>
Date:   2009-11-17 02:52:04 +0000

    b.fd.o #24654: tp_account_prepare_async: copy @features argument
    
    Note that the functions _tp_account_features_(copy|sizeof|free)
    are probably generally useful. Will probably end up copy-pasting
    them into AccountManager too.
    
    features member of TpAccountFeatureCallback is no longer const as it needs to
    be freed.

commit 0b163405976e1ef81314b5249e97f673995ec435
Merge: 067471e a02657a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-11-13 14:47:16 +0000

    Merge branch '08-portability'
    
    Reviewed-by: Sjoerd Simons <sjoerd.simons@collabora.co.uk>

commit 067471eb41c3e8210907327b228c28e3b5d806db
Merge: 30f2ebb f0e171a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-11-13 14:47:12 +0000

    Merge branch 'telepathy-glib-0.8'
    
    Conflicts:
    	NEWS
    	configure.ac

commit 30f2ebbb8cf0c71be0e651c1dba83d12138d7996
Merge: ff49917 4aeff51
Author: David Laban <david.laban@collabora.co.uk>
Date:   2009-11-13 12:02:42 +0000

    Merge branch 'fix-24257-alsuren'
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 4aeff510dc1dbe1aadca9e64654376b7e39ec4db
Author: David Laban <david.laban@collabora.co.uk>
Date:   2009-11-12 10:18:17 +0000

    tests/dbus/account-manager.c: valgrind.
    
    Fixed all "definitely lost" leaks (apart from one in libselinux that
    I can't do anything about).

commit d1feb9240566425f7038e90e694e97a9e2fa0704
Author: David Laban <david.laban@collabora.co.uk>
Date:   2009-11-11 18:10:09 +0000

    tests/dbus/account-manager.c: s/GList/GQueue/
    
    Use GQueue for script rather than GList.
    Also pop current action before we execute it, so the last action isn't leaked.

commit b6180039f6b63d12ccae6e35499ec08d2209b7d6
Author: David Laban <david.laban@collabora.co.uk>
Date:   2009-11-11 02:04:16 +0000

    Re-usable test functions.
    
    I found that I was wanting to execute the same test functions one after
    another. This can't be done asyncronously unless you pass a list of functions
    around which can be called when events happen.
    
    This framework allows me to test tp_account_prepare by first creating an
    account manager, and then using it to create an account.
    
    I also made some whitespace-only changes to conform to the style guide.

commit e61f5857aad235344721e03961dcfac2f8fe7429
Author: David Laban <david.laban@collabora.co.uk>
Date:   2009-11-05 18:02:15 +0000

    Wrote simple dbus-based tests for account manager.
    
    Note that these tests are very limited, as they stop the mainloop as soon as
    the account manager is prepared.

commit 21f0a43639b701395f6bab8675d696f0d720685f
Author: David Laban <david.laban@collabora.co.uk>
Date:   2009-11-10 17:28:17 +0000

    Skeleton test for SimpleAccountManager. Does nothing.

commit a034381a682b4c3ffe4b13b1f059f4f647b632f5
Author: David Laban <david.laban@collabora.co.uk>
Date:   2009-11-04 18:33:32 +0000

    Simple account manager service for use in tests.
    
    This service does only the bare minimum. Current limitations are:
    * Only provides a single property: just enough to get prepare to succeed.
    * Tests are responsible for acquiring the well-known name, and registering the object
    * Calling prepare on the result of ensure_account will fail, as accounts are not implemented.

commit c68ac2ff895d606d2a2c3a4f21b949891cc6e3bf
Author: David Laban <david.laban@collabora.co.uk>
Date:   2009-11-10 01:04:58 +0000

    ensure_account: fail if account_new returns NULL.
    
    Add assert closer to where the error occurs (tp_account_new returns NULL).
    The error will get caught eventually by tp_account_prepare, but it's nice
    to fail early.

commit cb65f8ffe81d1ee4fef060fc2412cabc5ee7ff6e
Author: David Laban <david.laban@collabora.co.uk>
Date:   2009-11-05 19:23:25 +0000

    fd.o#24257: tp_account_manager_prepare: fail if invalidated
    
    AccountManager now also contains an invalidated callback,
    which makes all prepare callbacks fail.
    See previous commits.

commit e996c509a17eb3fce6c401541bb2959ec4ed400d
Author: David Laban <david.laban@collabora.co.uk>
Date:   2009-10-28 17:33:16 +0000

    fd.o#24257: tp_account_prepare: fail if invalidated
    
    Added "invalidated" callback _tp_account_invalidated_cb
    which causes all prepare results to complete with an error.
    
    Also: invalidate account if get properties fails.

commit 3373600a3cb749855a20ec219fc78f0d9e28fe1a
Author: David Laban <david.laban@collabora.co.uk>
Date:   2009-10-29 00:55:43 +0000

    Fail "immediately" if invalidated before prepare.

commit 2d8c5b15c920f0ae4063508af0461f172e15c70b
Author: David Laban <david.laban@collabora.co.uk>
Date:   2009-10-27 14:45:18 +0000

    Doc: tp_account_is_prepared: s/whether/if/

commit ff49917b61ae9c4a2d7a23bb6cfc49cb0a2f30bb
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-10-23 18:40:55 +0100

    account-manager: fix ::most-available-presence-changed's docs
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit a02657a298c65fb188cb668168ddc0f6bb3b2eb0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-13 13:56:28 +0100

    debug.c: don't rely on STDOUT_FILENO, STDERR_FILENO
    
    Windows doesn't have these, and their numeric values seem more universal
    than the actual macros (for instance, basically every shell script relies
    on stdout and stderr being fd 1 and 2).

commit 6a50e224562df0111dd73299a1a9d16dd73fb1fb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-13 13:50:08 +0100

    TpProxy: rename @interface to @iface in all function parameters
    
    Same rationale as previous commit.

commit 0da2de832781c85811e729516f73268f26768839
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-13 13:48:52 +0100

    tp_proxy_signal_connection_v0_new: rename @interface to @iface
    
    Same rationale as previous commit. In this case we also have to rename
    a local variable from @iface to @iface_proxy.

commit e38e9b98bebfb9646a0a55083414b070aac8b029
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-13 13:47:44 +0100

    tp_proxy_pending_call_v0_new: rename @interface to @iface
    
    Same rationale as previous commit.

commit 8b72c84d516b56ec9bcef3973e6020db84cf1545
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-13 13:47:01 +0100

    TpDBusPropertiesMixin: rename @interface to @iface throughout
    
    This partially works around the fact that some system header on Windows
    defines interface as a macro.

commit dd8645d4c2263c40b74a4f98d0c23f6fba940e05
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-13 13:12:09 +0100

    tp_debug_timestamped_log_handler: use g_time_val_to_iso8601
    
    localtime_r is not very portable (in particular, Windows doesn't have it).
    
    This is a behaviour change - local time to UTC, and a slightly different
    format - so also update the docs.

commit f0e171a8cc88b401ea43415e2a64ce9ab0a5a773
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-15 19:54:21 +0100

    Nano-version

commit b4a04cd32a728a5c5fc3dab918adb1b064dbdccc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-15 18:39:16 +0100

    Prepare version 0.8.1

commit 1dfe987b211f923cbda874756aaf1bae3ae68cf4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-15 18:38:07 +0100

    Nano-version

commit 8148757e36bd0e1f5c3d52e4baffb5c8968aff49
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-15 17:42:17 +0100

    Prepare version 0.9.1
    
    Second attempt, after discovering during smoke-testing that all our CMs
    still rely on the "password"/"*-password" special case rather than setting
    the SECRET flag correctly. *sigh*

commit aa75908bdee6796514f2d1096b5ab84e1e85ea39
Merge: 6ce9cb5 984a124
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-15 17:39:26 +0100

    Merge branch 'telepathy-glib-0.8'
    
    Conflicts:
    	NEWS

commit 984a124a9a11dec00d0c75a00689f01ccb7d8b54
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-15 17:31:52 +0100

    More NEWS

commit 90941d0dd744c5046b1ca409e63cbf18df3db3b0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-15 17:12:43 +0100

    TpConnectionManager: extend the "(^|-)password" special-case to GetParameters(), and debug whenever it is used
    
    Current Telepathy connection managers seem to all say that "password" is
    secret in their .manager file, but not in their source code. As a result,
    if you delete all your .manager files, MC no longer retrieves your
    passwords from gnome-keyring, and all your accounts get marked as
    invalid :-(

commit 6ce9cb5fe15c46b159df114b123cf1f558a5824f
Merge: b6e5238 c24b6b4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-15 14:51:47 +0100

    Merge branch 'telepathy-glib-0.8'
    
    Conflicts:
    	NEWS

commit c24b6b4cf0d33a76fc1dd7b9af9efc89e5fd4de0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-15 14:50:08 +0100

    Update NEWS

commit 88de0415a52bb871cb1cd6ed4f35249d0cd50fed
Merge: ac6a047 822ddeb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-15 14:43:40 +0100

    Merge branch '08-cm-crash' into telepathy-glib-0.8
    
    Reviewed-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 822ddeb3d9ade861824c29751b0e077d8144ac5f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-14 22:14:03 +0100

    TpConnectionManager: defer ListProtocols() until we know the initial name
    
    The fact that a name owner change to "" ends introspection and emits
    "exited" means we don't behave as documented in
    tp_connection_manager_activate, which claims that "exited" before
    "activated" means a failure to activate.
    
    This isn't necessarily true if someone calls
    tp_connection_manager_activate() straight after constructing the TpCM,
    *and* the CM is not currently running. In that case, the ListProtocols()
    call is in parallel with GetNameOwner(); GetNameOwner() will win the
    race, because dbus-daemon processes it synchronously and replies
    immediately. When GetNameOwner() returns error, watch_name_owner tells us
    there is no owner, the ListProtocols() call is cancelled, and "exited"
    is emitted.
    
    However, that ListProtocols() call was in fact a perfectly good
    service-activation, which would start the CM up!
    
    The solution is to defer ListProtocols() until the CM's initial name is
    known, and avoid emitting "exited" on the basis of initial state.

commit bc814c3bbb09381de496e41b629d7c1059f3d425
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-14 21:47:29 +0100

    fd.o #23853: cancel an in-flight ListProtocols(), if any, when ending introspection
    
    This fixes the crash seen in that bug, by not calling the callback if
    we have decided we don't want its results.
    
    As a side bonus, we don't need the boolean flag listing_protocols - we
    can just use the pending call object itself.

commit 4dd848106d93fc43c363a835a0346f576b2dab2f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-14 21:38:08 +0100

    tp_connection_manager_got_parameters: correctly return on error, rather than carrying on with a NULL pointer dereference

commit b6e5238667f3b25187399329d99a2ffe3d467cc1
Merge: f58c94d ba02c65
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-12 18:47:15 +0100

    Merge branch 'trivia'
    
    Reviewed-by: Alban Crequy <alban.crequy@collabora.co.uk>

commit ba02c659b2402172db18e45075398342fb0f780b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-12 18:22:49 +0100

    Update NEWS

commit 254f90c330588151a2d8876420ffdb3d09f1acc4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-12 18:19:01 +0100

    Depend on GLib 2.20 (Debian #550406)

commit f58c94d2962e158a8d31bba34cdd7508ab0b5f35
Merge: 267f53a ac6a047
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-10-06 15:17:39 +0100

    Merge branch 'telepathy-glib-0.8'
    
    Conflicts:
    	NEWS
    	configure.ac

commit ac6a047cd63a1b63a752e6b28fe9831e80b02d76
Author: Pekka Pessi <Pekka.Pessi@nokia.com>
Date:   2009-10-06 16:30:10 +0300

    dbus-properties-mixin.c: fixed error message on write-only properties
    
    Signed-off-by: Will Thompson <will.thompson@collabora.co.uk>

commit 267f53af2a9b8849e2cc2f4a19f7edf70ee3d7be
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-30 16:44:31 +0100

    TpAccountManager::account-enabled: note about the readiness of the account
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 5620910fe58d95d62754437eeabc7befa95675e6
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-29 13:39:22 +0100

    account{,-manager}: cast const GError*s to GError* when passing to g_simple_async_result_set_from_error
    
    gio changed this argument from GError * (in 2.20) to const GError * in
    (2.22)[0]. Instead of depending on >= 2.22, we can just cast to GError *
    and it'll work in both versions.
    
    0. http://git.gnome.org/cgit/glib/commit/?id=cdd04f36cac838f92826cbf415868100a4007741
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit a1adb8d61e26413a875734c40e54fada56aea6b1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-09-28 17:21:27 +0100

    Nano version

commit f32dca970eba0ebf539fc7a5165020501e0df152
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-09-28 16:35:34 +0100

    Prefer automake 1.11, so we get silent-rules support in tarballs

commit ec000bc222755226991d3310de499c14a8c17671
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-09-28 16:34:14 +0100

    Since: 0.9.0

commit e185d680b325f2771d2bde6f2c757d5e24d15b3d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-09-28 15:52:50 +0100

    Prepare version 0.9.0

commit e9b5b93e5cc37a695f9db95fb363cbbcd3c77106
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-09-28 15:44:24 +0100

    Only include versions >= 0.8.0 in NEWS

commit b808b585cf914065f8b90b1e93f6f1c38891871a
Merge: 3242d4b 7705645
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-28 15:30:21 +0100

    Merge branch 'account'

commit 7705645ec8a5681c3547f208496af97fb2d77e3d
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-28 15:29:10 +0100

    add gio-2.0 to the two pkg-config files
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 97ac1af3fc2a48ba81d109dcd48b8db0158474b9
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-28 15:26:48 +0100

    account-manager: fix misc. typos
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 5750c1ead1e2e594b39697776aa92d299cf6af95
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-28 14:19:32 +0100

    account-manager: signal account-validity-changed to FALSE for accounts not in the hash table
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 09dff83e4c10b1e361964a311a11beb67a452401
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-28 13:16:03 +0100

    account-manager: signal account-validity-changed before the account is ready
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 9e16015b7e5274b825ba031c2442d1dcc162a6c3
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-28 11:57:25 +0100

    account-manager: add _enable_restart
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 15a5c3003281dd5198384f88bb8acf6f6cdc6bfc
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-28 11:31:39 +0100

    account-manager: rename created and deleted signals to divert less from the D-Bus API
    
    account-created becomes account-validity-changed, and account-deleted
    becomes account-removed, and they work exactly like the D-Bus signals.
    
    Additionally, when an account becomes invalid, remove it from the
    accounts hash table so it's not returned in _get_valid_accounts.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 3ed786530c09a1dc7f50ec55c351271e45fe5264
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-28 10:42:48 +0100

    account-manager: rename _get_accounts to _get_valid_accounts
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit e74a5915855094804c538279bade8325dab42089
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-28 10:17:01 +0100

    account-manager: only remove account if the object actually was removed
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 7fd2486eee57b1f819fc212919951b8db75d6a06
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-26 18:00:21 +0100

    account{,-manager}: remove unnecessary casts
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit da919b868a8892df8bfa7ff3759a594d959eeec5
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-26 17:57:56 +0100

    account: re-add _refresh_properties internally and call in the AM
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit b7b9fb9081b1304e359f63cd06c2f0794c542626
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-26 17:46:52 +0100

    account{,-manager}: small optimization when concating lists
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 4a890180244de9ccd8de43f9e774dddd57c4d247
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-26 16:57:14 +0100

    account: make sure GValues which are initialized are unset
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit db5971f500c9d99bc614f3b7e979acd80cc353cf
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-26 16:54:13 +0100

    account: allow _set_{display,icon}_name take a NULL argument to unset their value
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit d57096b79332002c5c84bc87c4b5f8bfaa6f402a
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-26 16:41:36 +0100

    account: no need to dup reconnect_required
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 8894b64471f795f443d89862b955742a3fe94a05
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-26 16:41:09 +0100

    account: remove unnecessary cast
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit c7c67399376afe064827686af099a0aacc242204
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-26 16:21:54 +0100

    account: free the cached TpConnection if the connection object path changes
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 0c96a8a617c6f9aa597bae630dd24d042135f3b5
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-26 16:04:14 +0100

    account-manager: update the most available presence before making core ready
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 48ce2e7869f4b64afe5485d42e8903822d0d2d5d
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-26 15:51:03 +0100

    account: make :enabled property read only
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 6cc5e520805bd636e150ce00b06a97af1271fbf0
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-26 15:44:27 +0100

    account: removed useless code from _set_connection
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 66155d8ffc99d8066a910639f6c03d559591f3e2
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-26 15:42:49 +0100

    account: remove _tp_account_parse_object_path
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 6e02be297afd66331134b7ab720fbe5d7bf47a70
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-26 14:58:12 +0100

    account: remove unused connect_time private struct member
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit fd7683c7d3eb3f2953c18d570a45736cd5accc87
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-26 14:08:00 +0100

    account-manager: make sure dispose drops all references to other objects only once
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 9275cec9cec99b6edbdf3f5155ae42b83032b38c
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-26 14:05:55 +0100

    account{,-manager}: allow checking and preparing NULL features
    
    NULL just means that we want to prepare the _CORE feature.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 552c93ca857daf420af653a6e87c1b382a0e230e
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-26 12:36:27 +0100

    account{,-manager}: remove _get_*_features to internal headers
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 63200da90bf32121cde8fd6c168d7def46052ff5
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-26 12:18:54 +0100

    account{,-manager}: renamed _is_ready to _is_prepared
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit e268723e6cdffe2288550935ada8c8f03938aef9
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-26 12:14:21 +0100

    account{,-manager}: refactor _become_ready
    
    This is so we don't access anything belonging to the source object
    after unreffing the async result, as that could hold the last ref on
    the source object.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit b8ecc5ee6f608f713b988846bab44ff47b0fe576
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-26 11:58:03 +0100

    account{,-manager}: assert if the GSimpleAsyncResult is not valid
    
    Also, make sure we do this after propagating any error, as
    _report_error_in_idle doesn't allow one to pass a source_tag.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit f8c45c4dd3761f91dc8826c0a4e289da0a5aca0b
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-26 11:31:08 +0100

    account: don't listen to the connection's invalidated signal and use the Connection property
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 8fd8b86cb6ac050aaf647e731f215fb1399f14a1
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-26 11:23:45 +0100

    account{,-manager}: make sure the GAsyncResult completes asynchronously
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit cd4bfa3e0a927f37ea4b4956e28cdb019cf76271
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-26 11:14:34 +0100

    account-manager: clarified docs of _get_accounts
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 6a827eb36dec0adedacfac0353a6bf3b5f5a7fe8
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-26 11:06:56 +0100

    account: make _get_connection lazily create the TpConnection
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 9c901f9af37ccbff9749d4f68a60587499e9044d
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-26 10:44:46 +0100

    account{,-manager}: no need to think the object will be disposed with outstanding callbacks
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit ef375a8fa7e841f90f6301d405b6ac8315090367
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-26 10:39:17 +0100

    account-manager: removed ::account-connection-changed and ::new-connection
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 758963ac2b936b77cce5d4d1c100b8db33bc59f1
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-26 10:30:08 +0100

    account: when emitting status-changed, use the right arguments
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 6112971c92237b17e26fe23244bbe180314df524
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-25 23:02:39 +0100

    account{,-manager}: show in _prepare_async documentation that @features may be NULL
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 140d3e50f28b364d2acfb44e4ce550db163869dc
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-25 22:59:07 +0100

    account: remove incorrect assertion
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit ae80a97c90e3b544a48bd7637a46d9f1c0ce582c
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-25 22:40:26 +0100

    account: s/global/most available/g
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 16b3f1e66f3bc39ad0d87dce96d26f88917ea5e3
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-25 22:23:40 +0100

    account-manager: remove ::account-changed
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit fdd0bf117a0d34ba98890bedb380360e182513e9
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-25 22:21:11 +0100

    account: no need to emit notify::connection when the connection is ready
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit ece55856f3aa14fc7e8588cda00b07d781204814
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-25 22:20:16 +0100

    account: make core ready after receiving all its properties
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 47622d30298f27722b10a0370d2a325c13161348
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-25 22:16:21 +0100

    account{,-manager}: add run-time checks for argument types
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit fe641d19213faaffd641269da82ff2d2eb7e3341
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-25 21:48:29 +0100

    account: misc fixes to the property documentation
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit a7cab2fc7cf37649d3c7c398ff743258f368831f
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-25 21:45:43 +0100

    account: document a use-case for _ensure_connection
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 97054638d3a9ab017b1475b187e09b2ab4e73b7d
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-25 21:43:22 +0100

    docs: make _get_feature_quark_core private
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 56c28969f20fb77e185c145e5542b4cd4d454f4c
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-25 21:39:45 +0100

    account{,-manager}: add more notes on what each core feature means
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 8de18b828790f458793966222f146090b03df5b1
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-25 21:32:52 +0100

    account{,-manager}: add notes about guarantees for properties/getters if the features is not ready yet
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit ac7ab654a2375bdd52d35ee777b53d470f38f978
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-25 21:23:20 +0100

    account: make sure property docs and getter docs point to each other
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 5aaee2dd2f4539e4fdfae591031f7e044531398a
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-25 21:09:13 +0100

    account: add docs about which properties can be listened to using the notify signal
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit effcacf53d5871dce6bfe0bf5b23f34516339b80
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-25 19:37:31 +0100

    account: add two further arguments to ::status-changed to be ready for the future
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 33971b7c69a1eab0085cc0916a67a73f46513275
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-25 19:17:36 +0100

    account: removed #TpAccount::removed as we can use #TpProxy::invalidated
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit a5f74e8e35253bc03f470d6da4bc8dd9242abac5
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-25 19:14:30 +0100

    account: tried to clarified #TpAccount:connection documentation regarding readiness
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 0006ff13caa5ff642fc0e59aefe0a6f837f91347
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-25 18:00:32 +0100

    account: add @reconnect_required to _update_parameters_finish
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit a7d695cb4ce5c0e228018b5a43e6c0e1e9de92fd
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-25 17:58:03 +0100

    account: add current- prefix to presence properties and -type suffix where appropriate
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit a0af4c2c6d756ff017ea14e4acf24b8571d68b3b
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-25 13:12:17 +0100

    account: merge _get_requested_{presence,status,status_message} into one
    
    Same idea as merging _get_current_{presence,status,status_message}.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 94e3ae8c1be20eaeedcf1ea5c819c46d6399de78
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-25 13:03:29 +0100

    account{,-manager}: make no feature ready until core is ready
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit f9d3eae49a96abbbc88e239c363e1015e01e7a0e
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-24 18:46:19 +0100

    account: remove default-presence property
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit c1495d3015d5927f90b01fe2de15f98e98acf61f
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-24 17:49:05 +0100

    account: replace _get_{presence,status,status_message} with _get_current_presence
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 3e0c4666f3d1e8ecffd642f6f2d4655113513367
Author: Danielle Madeley <danielle@madeley.id.au>
Date:   2009-09-23 23:34:19 +1000

    [TpAccount] Always return the TpConnection with _get_connection()
    
    Even when it's not ready, otherwise there is no way for the caller to find
    out when the TpConnection is ready.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 11486999e33d46802e3b34dd4008dc556ef193ca
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-24 17:36:06 +0100

    account{,-manager}: make prepare's feature list be const
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 65a8e97facc4f53d0fb7445a49f7b3560baf1e16
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-24 17:20:14 +0100

    account{,-manager}: only add known features to requested
    
    Also, ignore the missing array for now, as it makes so sense right
    now.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 9668f0474e0fe3978ee9ca82eec42c97ba106e01
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-24 14:53:13 +0100

    account{,-manager}: make it clearer in the docs whether the returned object will be ready or not
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit dd067d0e1dd680e346f889710dc5bc360edc3b24
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-24 14:44:05 +0100

    account: removed _get_unique_name
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 3242d4bf2bb2f676d5622422ee64b3f635bb59f6
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-24 19:11:00 +0100

    Move from shave to use automake 1.11's silent rules feature.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 202955ee33e661ffee9f0b79650fa4a565754330
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-24 14:40:52 +0100

    account: removed _refresh_properties
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit deab7d16e551994e51cb81cd4786ab9fae502934
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-24 14:35:16 +0100

    account: merged _get_connection_status and _get_connection_status_reason
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit abcf006b55c76eccf71495a917a35d4f12080b68
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-24 14:30:12 +0100

    account: removed _is_just_connected
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit ac491a4c86c2164db359b9d9ac9c510e1bb7f696
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-24 14:27:41 +0100

    account{,-manager}: return FALSE in _is_ready if the proxy is invalidated
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 6b4e4b68a6c7d6ea4920afa76b5b2b73123649cb
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-24 14:25:54 +0100

    account-manager: add accessors for requested, actual and missing features
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 984ddf53874c5ea7750c41597f3c243d0e933b85
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-24 14:17:53 +0100

    account: add accessors for requested, actual and missing features
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 4fdc4ecd962aa00ae50b6ea185d21553c18b5214
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-23 00:45:21 +0100

    account: change behaviour of features
    
    Ignore unknown features (pretend they're ready on a become_ready call,
    but not on _is_ready).
    
    Also remove subtle "add features as _get_feature is called" behaviour
    and have them all added in constructed.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit cc082c776aa37969a1e4f138a8a577a2d882e5f8
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-23 00:28:56 +0100

    account-manager: change behaviour of features
    
    Ignore unknown features (pretend they're ready on a become_ready call,
    but not on _is_ready).
    
    Also remove subtle "add features as _get_feature is called" behaviour
    and have them all added in constructed.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 62023ee18fb2cad106dd2a5099bb822a6b370a52
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-22 13:30:44 +0100

    account*: remove _set_features
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 02ebb330fad10cc8daab2e37f64b5aa84586d4dd
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-22 13:13:32 +0100

    account*: misc fixes to gtk-doc comments
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 8de0e35ecd2634dfad5ee38e1e550336f3ae2b45
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-09-24 15:30:53 +0100

    Nano version (stable branch)

commit 87322a6f9a6d3bda2b405ecf10926490a530d4be
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-09-24 15:28:43 +0100

    Nano version (development branch)

commit 3ae2943de3e9d93d1308e95213a5349cfc2dd48e
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-22 11:51:23 +0100

    account-manager: document _get_most_available_presence more
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 5b1be63f25bc9c42f69658080ec7ccc4aee93195
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-22 11:45:39 +0100

    account-manager: renamed _get_global_presence to _get_most_available_presence
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 8df6119b939c1cc090c602ad1a5d3819a82c7554
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-22 11:40:19 +0100

    account-manager: remove _get_requested_global_presence
    
    ...and added #TpAccount:default-presence so that's what accounts use
    when they are set to Enabled.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 28eea106ab1360626682f6a2402c1d0fb9ba7579
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-21 16:21:16 +0100

    account-manager: renamed _request_global_presence to _set_all_requested_presences
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 613dc10fd2b412e0d6baf8b273f4189fbc2fa8d9
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-21 16:17:30 +0100

    account-manager: add note to _ensure_account about ensuring accounts it is unaware of
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 1692a5f9b12f2abe53ed8dda72b0209af83c5bb7
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-21 16:14:58 +0100

    account-manager: remove _get_account
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 1c78c602380e7738fc9ba808cb266c830ec39afb
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-21 16:13:58 +0100

    account-manager: remove _get_account_for_connection
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 5d5c59096ae1ced69c42c9755635e6b362213eb3
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-21 16:08:32 +0100

    account{,-manager}: make _FEATURE_CORE expand to a function call
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit c84fe7f18f017241415299972724ce959e8deb05
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-21 16:05:07 +0100

    account: ensure all gtk-doc strings have a Since field
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 9164fcb651e8f23c1ca628aaac9626d17d896bef
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-08-25 01:14:15 +0100

    Use tp_account_parse_object_path in tp_account_new
    
    This exposed a bug in the test suite, which was passing an invalid
    account path to tp_account_new and expecting it to succeed.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 6905e91950a9481c9ca18c4eaad550d876f8fa51
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-08-25 01:09:49 +0100

    Work around protocol-escaping bug in MC5
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 02ae6061df0b29b22f68d6fe478f4a1fd81dbb7b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-08-25 00:49:51 +0100

    Add tp_account_parse_object_path
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit cc9c2d7529aeaa906f6a5c792d6762900df20412
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-21 13:35:37 +0100

    account-manager: add feature and feature functions
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit f1afe132fed8eb63b16bc0de8a748b2f0f1e8354
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-21 11:00:02 +0100

    account: add features and feature functions
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 151980de1aeb62b9dfeccfce7b99e2d17f13a8fb
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-18 15:19:47 +0100

    account: rename _get_connection_for_path to _ensure_connection
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit fce7efce420e81be9334fd7dd4f13b3df9d551f6
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-11 19:25:34 +0100

    account-manager: no need to refresh properties on account when ensuring all accounts
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 642d397401d5a1fd8f923b2d420d61159410637a
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-11 19:23:12 +0100

    account-manager: use TpAccount getters rather than g_object_get
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 8240882d3d1b5337f567465b19231d45f4f298e8
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-11 19:17:51 +0100

    account-manager: fix gtk-doc for _ensure_account
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 0bae522c2a92a6aafa724f4f8a3d57432da5d419
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-10 18:34:40 +0100

    account: add tp_account_get_avatar_async and _finish method.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 67f384597e15e5facf8a7d27d6a94c5273b4d920
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-10 12:24:57 +0100

    account: ConnectionStatus is a uint32, not an int32
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 5170e8afe79e46239ac982c958d7b4e8bc682496
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-09 15:18:44 +0100

    account{,-manager}: use _get_unique_name instead of _get_object_path
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 77167d2cc28cc2478579fd1479fd16b3ef3f733d
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-09 15:15:51 +0100

    account: add a nickname GObject property
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit d3f6d1254b1b54ee0689434a5cec817b3712fe92
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-09 15:15:27 +0100

    account: add tp_account_get_unique name again
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 4cf1ac6f84af4fba36193cda018297884520810f
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-09 11:02:45 +0100

    account: use new tp_account_manager_dup function
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 71d54f1054fa5620ef9ea70e9c63d621dc26d35a
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-09 10:56:45 +0100

    tests: add a test for tp_account_manager_dup
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit c04b02b7d05fe61c528d1f0724aa5e615c37d91c
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-09 10:55:18 +0100

    account-manager: add tp_account_manager_dup and remove the GObject singleton code
    
    This is to copy the behaviour of #TpDBusDaemon, where in reality you
    only ever want one TpAccountManager proxy -- on the starter/session
    bus.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit d792267414c396ba6aed45bc76329a3ac4476fb3
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-07 15:41:23 +0100

    account-manager: add missing gtk-doc comments
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit d42589f4308cf28df1b23079af4230dd3eff2ab7
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-07 15:33:53 +0100

    account-manager: remove useless prototype
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit b86f66ac8c25ca873c85b1ed98ed5a6922aa2ad4
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-07 14:46:44 +0100

    account: remove useless member of private struct
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 4f0d5df41a43d75cafab1c47d7855675a101729f
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-07 14:46:29 +0100

    account: use the new account-manager functions
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit c26224423bb42c9d4d4b995e9e6611e17907d82c
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-07 14:45:50 +0100

    account-manager: add functions taken from Empathy and renamed
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 89979c78b9dd27159b26bc6168694c27859a62bd
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-07 11:59:56 +0100

    account: remove unique-name and dbus-daemon properties
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit f97393f2d1cd591aa66911de886af7324a123625
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-04 10:57:36 +0100

    account: emit some more notify signals in _tp_account_update when properties change
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 362d7f798c58465b5fa924af2ed31b31d306c8f5
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-04 10:29:48 +0100

    account: add more GObject properties
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit a201f7b7ee125234547c250b83759ca98320ae57
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-04 10:03:54 +0100

    account: renaming some presence getters to be more consistent with property names
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 7ceedec56fbacf5d1fc2ca38d025ee8dfbb10270
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-03 18:40:24 +0100

    account: add getter and setter for Nickname property
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit dc186c74e40e8e2b5c6f64ae2783355ac6444e9a
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-03 16:37:28 +0100

    docs: updated sections file to include new functions
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit cdb4b9c16fd84e6cbb561e7c5d83bd4f97e1dc6a
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-03 16:27:11 +0100

    account: add more accessors for presence and connection status
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 399d2dd1e23ae7f710e54e233384b87e8ac98f7a
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-03 15:54:47 +0100

    account: add getter for HasBeenOnline
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 069e7b49cf001f4354b8041c60264cdd48b6fabe
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-03 15:51:18 +0100

    account: add getter and setter for ConnectAutomatically
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 16096c6a2701ca820f756c2807e499c0341063d2
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-03 15:27:29 +0100

    account: only have one callback for each Set call
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 9a0bc0e1d437c5adb7af50cde808533c3391ee33
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-03 15:22:17 +0100

    account: rename update_settings to update_parameters
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 413fc3dba9c2867b825ed0f5cb43176900f5ee22
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-03 15:02:02 +0100

    account: add documentation
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 648dfda814aca2c01be92a066e715b7b26b90357
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-03 11:59:10 +0100

    account: add functions taken from Empathy, and rename them
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 37de9436533c4d6e8d36d09551facf1d383b0564
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-03 11:02:08 +0100

    configure: build with and link to GIO
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>
